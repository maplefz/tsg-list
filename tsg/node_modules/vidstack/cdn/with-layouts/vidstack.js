import{u as G,c as lt,V as at,e as h,s as v,p as m,l as $,i as E,a as V,b as re,S as vt,f as $t,t as ht,E as Un,D as K,w as Xn,o as A,d as oe,g as ai,h as le,j as Yn,k as ct,m as Ct,n as Qe,C as x,q as b,r as J,v as kt,x as Ke,y as Nt,z as nt,A as L,B as M,F as R,H as T,G as he,I as Ue,J as w,K as ni,L as zn,M as Jn,N as ri,O as Zn,P as Xe,Q as ce,R as tr,T as u,U as er,W as de,X as Ye,Y as ue,Z as sr,_ as ir,$ as ar,a0 as nr,a1 as oi,a2 as li,a3 as Mt,a4 as pe,a5 as rr,a6 as hi,a7 as ze,a8 as or,a9 as lr,aa as Z,ab as hr,ac as cr,ad as Gt,ae as dr,af as ur,ag as pr}from"https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-DgnIG4vb.js";import{c as ci,I as di,a as mr,b as gr,d as br,e as fr,i as yr,f as vr,g as $r,h as kr,j as wr,k as Je,l as ui,m as Ze}from"https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-BPJ48Ie8.js";import{T as me,g as pi,a as Bt,u as Tr}from"https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-ERkdI6Km.js";import{i as U,T as Y,a as ge,w as Wt,b as xr,c as Sr}from"https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-OGlD6PIC.js";import{L as _}from"https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-ClIUVQwo.js";import{Q as dt}from"https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-dclo3F73.js";import{c as ts,a as ut}from"https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-CYZ2CtI4.js";import{p as Qt,g as be,a as mi}from"https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-BrfKt6q_.js";import{i as es,a as wt,s as q,w as gi,u as bi,b as Pr,c as Cr,d as Mr,o as Tt,e as xt,r as pt,f as ss,h as Er,g as fi,j as yi,k as Ar,l as vi,m as $i,n as ki,p as wi}from"https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-nZNas-dv.js";import{c as is,r as W,g as Lr}from"https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-Bxv1Qnxe.js";import"https://cdn.vidstack.io/icons";const as=Symbol(0),_r=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"],Ti=lt();function f(){return G(Ti)}function j(){return f().$state}function qr(a){return a instanceof HTMLAudioElement}function Or(a){return a instanceof HTMLVideoElement}function Dr(a){return qr(a)||Or(a)}class Et extends at{}const Ir={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},fe=new Set(["Shift","Alt","Meta","Ctrl"]),Nr='button, [role="button"]',xi='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';class Gr extends Et{constructor(t){super(),this.a=t,this.Ib=null}onConnect(){h(this.ii.bind(this))}ii(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const s=e()==="player"?this.el:document,i=v(!1);s===this.el?(this.listen("focusin",()=>i.set(!0)),this.listen("focusout",n=>{this.el.contains(n.target)||i.set(!1)})):(m(i)||i.set(document.querySelector("[data-media-player]")===this.el),$(document,"focusin",n=>{const r=n.composedPath().find(o=>o instanceof Element&&o.localName==="media-player");r!==void 0&&i.set(this.el===r)})),h(()=>{i()&&($(s,"keyup",this.hc.bind(this)),$(s,"keydown",this.ic.bind(this)),$(s,"keydown",this.ji.bind(this),{capture:!0}))})}hc(t){const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e?.matches(xi))return;let{method:s,value:i}=this._d(t);if(!E(i)&&!V(i)){i?.onKeyUp?.({event:t,player:this.a.player,remote:this.a.remote}),i?.callback?.(t,this.a.remote);return}s?.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),this.Ib?(this.dg(t,s==="seekForward"),this.Ib=null):(this.a.remote.seek(this.dd,t),this.dd=void 0)),s?.startsWith("volume")&&this.el.querySelector("[data-media-volume-slider]")?.dispatchEvent(new KeyboardEvent("keyup",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}ic(t){if(!t.key||fe.has(t.key))return;const e=document.activeElement;if(e?.matches(xi)||re(t)&&e?.matches(Nr))return;let{method:s,value:i}=this._d(t),n=!t.metaKey&&/^[0-9]$/.test(t.key);if(!E(i)&&!V(i)&&!n){i?.onKeyDown?.({event:t,player:this.a.player,remote:this.a.remote}),i?.callback?.(t,this.a.remote);return}if(!s&&n){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(s){switch(t.preventDefault(),t.stopPropagation(),s){case"seekForward":case"seekBackward":this.Ja(t,s,s==="seekForward");break;case"volumeUp":case"volumeDown":const r=this.el.querySelector("[data-media-volume-slider]");if(r)r.dispatchEvent(new KeyboardEvent("keydown",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const l=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+(s==="volumeUp"?+l:-l),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const o=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,o+(s==="speedUp"?.25:-.25))),t);break;default:this.a.remote[s]?.(t)}this.$state.lastKeyboardAction.set({action:s,event:t})}}ji(t){Dr(t.target)&&this._d(t).method&&t.preventDefault()}_d(t){const e={...this.$props.keyShortcuts(),...this.a.ariaKeys},s=Object.keys(e).find(i=>{const n=e[i],r=V(n)?n.join(" "):E(n)?n:n?.keys;return(V(r)?r:r?.split(" "))?.map(o=>jr(o).replace(/Control/g,"Ctrl").split("+"))?.some(o=>{const l=new Set(o.filter(c=>fe.has(c)));for(const c of fe){const d=c.toLowerCase()+"Key";if(!l.has(c)&&t[d])return!1}return o.every(c=>fe.has(c)?t[c.toLowerCase()+"Key"]:t.key===c.replace("Space"," "))})});return{method:s,value:s?e[s]:null}}ki(t,e){const s=t.shiftKey?10:5;return this.dd=Math.max(0,Math.min((this.dd??this.$state.currentTime())+(e==="seekForward"?+s:-s),this.$state.duration()))}dg(t,e){this.Ib?.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}Ja(t,e,s){this.$state.canSeek()&&(this.Ib||(this.Ib=this.el.querySelector("[data-media-time-slider]")),this.Ib?this.dg(t,s):this.a.remote.seeking(this.ki(t,e),t))}}const Hr=["!","@","#","$","%","^","&","*","(",")"];function jr(a){return a.replace(/Shift\+(\d)/g,(t,e)=>Hr[e-1])}const Rr={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:Ir,storage:null},Si=new vt({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new me,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:ci(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return di&&this.mediaType==="video"&&(!this.playsInline||!$t.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new me,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new me,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(U).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.ended?this.duration:this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get realDuration(){return this.providedDuration>0?this.providedDuration:this.intrinsicDuration},get duration(){return this.clipEndTime>0?this.clipEndTime-this.clipStartTime:Math.max(0,this.realDuration-this.clipStartTime)},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){const a=pi(this.buffered)??0;return Math.max(0,a-this.clipStartTime)},get bufferedEnd(){const a=Bt(this.buffered)??0;return Math.min(this.duration,Math.max(0,a-this.clipStartTime))},get seekableStart(){const a=pi(this.seekable)??0;return Math.max(0,a-this.clipStartTime)},get seekableEnd(){const a=this.canPlay?Bt(this.seekable)??1/0:0;return this.clipEndTime>0?Math.max(this.clipEndTime,Math.max(0,a-this.clipStartTime)):a},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return this.remotePlaybackType==="airplay"&&this.remotePlaybackState==="connected"},get isGoogleCastConnected(){return this.remotePlaybackType==="google-cast"&&this.remotePlaybackState==="connected"},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.realDuration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,savedState:null}),Pi=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),Fr=new Set([...Pi,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function Ci(a,t=!1){const e=t?Pi:Fr;Si.reset(a,s=>e.has(s)),ht()}var Mi;class Ei extends Un{constructor(){super(...arguments),this.A=[],this[Mi]=!1}get length(){return this.A.length}get readonly(){return this[_.Yc]}indexOf(t){return this.A.indexOf(t)}getById(t){return t===""?null:this.A.find(e=>e.id===t)??null}toArray(){return[...this.A]}[(Mi=_.Yc,Symbol.iterator)](){return this.A.values()}[_.da](t,e){const s=this.A.length;""+s in this||Object.defineProperty(this,s,{get(){return this.A[s]}}),!this.A.includes(t)&&(this.A.push(t),this.dispatchEvent(new K("add",{detail:t,trigger:e})))}[_.cc](t,e){const s=this.A.indexOf(t);s>=0&&(this[_.Hf]?.(t,e),this.A.splice(s,1),this.dispatchEvent(new K("remove",{detail:t,trigger:e})))}[_.z](t){for(const e of[...this.A])this[_.cc](e,t);this.A=[],this[_.Od](!1,t),this[_.Gf]?.()}[_.Od](t,e){this[_.Yc]!==t&&(this[_.Yc]=t,this.dispatchEvent(new K("readonly-change",{detail:t,trigger:e})))}}const Kt=Symbol(0);class Ai extends Ei{get selected(){return this.A.find(t=>t.selected)??null}get selectedIndex(){return this.A.findIndex(t=>t.selected)}[_.Hf](t,e){this[_.ea](t,!1,e)}[_.da](t,e){t[Kt]=!1,Object.defineProperty(t,"selected",{get(){return this[Kt]},set:s=>{this.readonly||(this[_.If]?.(),this[_.ea](t,s))}}),super[_.da](t,e)}[_.ea](t,e,s){if(e===t?.[Kt])return;const i=this.selected;t&&(t[Kt]=e),(e?i!==t:i===t)&&(i&&(i[Kt]=!1),this.dispatchEvent(new K("change",{detail:{prev:i,current:this.selected},trigger:s})))}}class Vr extends Ai{constructor(){super(...arguments),this.cd=!1,this.switch="current"}get auto(){return this.cd||this.readonly}[_.If](){this[dt.Wa](!1)}[_.Gf](t){this[dt.Ia]=void 0,this[dt.Wa](!1,t)}autoSelect(t){this.readonly||this.cd||!this[dt.Ia]||(this[dt.Ia]?.(t),this[dt.Wa](!0,t))}getBySrc(t){return this.A.find(e=>e.src===t)}[dt.Wa](t,e){this.cd!==t&&(this.cd=t,this.dispatchEvent(new K("auto-change",{detail:t,trigger:e})))}}class Li extends Et{constructor(t,e){super(),this.la=t,this.La=e}async onAttach(t){const e=this.$props[this.la]();if(e==="eager")requestAnimationFrame(this.La);else if(e==="idle")Xn(this.La);else if(e==="visible"){let s,i=new IntersectionObserver(n=>{this.scope&&n[0].isIntersecting&&(s?.(),s=void 0,this.La())});i.observe(t),s=A(()=>i.disconnect())}}}class Br{constructor(t,e){this.V=t,this.a=e,this.c=(s,...i)=>{this.V(new K(s,{detail:i?.[0],trigger:i?.[1]}))}}async Ga(t,e){return oe(async()=>{this.a;const{autoPlay:s,canPlay:i,started:n,duration:r,seekable:o,buffered:l,remotePlaybackInfo:c,playsInline:d,savedState:g,source:k}=this.a.$state;if(i())return;const y={duration:t?.duration??r(),seekable:t?.seekable??o(),buffered:t?.buffered??l(),provider:this.a.$provider()};this.c("can-play",y,e),ht();let S=this.a.$provider(),{storage:D,qualities:F}=this.a,{muted:ot,volume:St,clipStartTime:Pt,playbackRate:it}=this.a.$props;await D?.onLoad?.(k());const ft=g()?.currentTime,yt=g()?.paused,We=await D?.getTime(),ei=ft??We??Pt(),Kn=yt||yt!==!1&&!n()&&s();if(S){S.setVolume(await D?.getVolume()??St()),S.setMuted(ot()||!!await D?.getMuted());const It=await D?.getAudioGain()??1;It>1&&S.audioGain?.setGain?.(It),S.setPlaybackRate?.(await D?.getPlaybackRate()??it()),S.setPlaysInline?.(d()),ei>0&&S.setCurrentTime(ei)}const Vt=await D?.getVideoQuality();if(Vt&&F.length){let It=null,si=1/0;for(const ne of F){const ii=Math.abs(Vt.width-ne.width)+Math.abs(Vt.height-ne.height)+(Vt.bitrate?Math.abs(Vt.bitrate-(ne.bitrate??0)):0);ii<si&&(It=ne,si=ii)}It&&(It.selected=!0)}i()&&Kn?await this.kj(e):We&&We>0&&this.c("started",void 0,e),c.set(null)})}async kj(t){const{player:e,$state:{autoPlaying:s,muted:i}}=this.a;s.set(!0);const n=new K("auto-play-attempt",{trigger:t});try{await e.play(n)}catch{}}}const ns=$t.fullscreenEnabled;class Wr extends at{constructor(){super(...arguments),this.dc=!1,this.Pd=!1}get active(){return this.Pd}get supported(){return ns}onConnect(){$($t,"fullscreenchange",this.E.bind(this)),$($t,"fullscreenerror",this.Q.bind(this)),A(this.Fa.bind(this))}async Fa(){ns&&await this.exit()}E(t){const e=rs(this.el);e!==this.Pd&&(e||(this.dc=!1),this.Pd=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}Q(t){this.dc&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.dc=!1)}async enter(){try{return this.dc=!0,!this.el||rs(this.el)?void 0:(_i(),$t.requestFullscreen(this.el))}catch(t){throw this.dc=!1,t}}async exit(){if(!(!this.el||!rs(this.el)))return _i(),$t.exitFullscreen()}}function rs(a){if($t.fullscreenElement===a)return!0;try{return a.matches($t.fullscreenPseudoClass)}catch{return!1}}function _i(){if(!ns)throw Error("[vidstack] no fullscreen API")}const qi=class Vn extends at{constructor(){super(...arguments),this.la=v(this.Jf()),this.Cb=v(!1)}get type(){return this.la()}get locked(){return this.Cb()}get portrait(){return this.la().startsWith("portrait")}get landscape(){return this.la().startsWith("landscape")}get supported(){return Vn.supported}onConnect(){if(this.supported)$(screen.orientation,"change",this.Kf.bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=this.Kf.bind(this),A(()=>t.onchange=null)}A(this.Fa.bind(this))}async Fa(){this.supported&&this.Cb()&&await this.unlock()}Kf(t){this.la.set(this.Jf()),this.dispatch("orientation-change",{detail:{orientation:m(this.la),lock:this._c},trigger:t})}async lock(t){m(this.Cb)||this._c===t||(this.Lf(),await screen.orientation.lock(t),this.Cb.set(!0),this._c=t)}async unlock(){m(this.Cb)&&(this.Lf(),this._c=void 0,await screen.orientation.unlock(),this.Cb.set(!1))}Lf(){if(!this.supported)throw Error("[vidstack] no orientation API")}Jf(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}};qi.supported=ci();let Oi=qi;class Qr{constructor(){this.i=new Map}k(t,e){this.i.set(t,e)}xe(t){const e=this.rg(t);return this.i.delete(t),e}rg(t){return this.i.get(t)}ub(t){this.i.delete(t)}Pm(){this.i.clear()}}class Di{constructor(){this.wc=!1,this.ye=ai(),this.i=new Map}get Qm(){return this.i.size}get Rm(){return this.wc}async Sm(){this.wc||await this.ye.promise}k(t,e){if(this.wc){e();return}this.i.delete(t),this.i.set(t,e)}xe(t){this.i.get(t)?.(),this.i.delete(t)}Xa(){this.sg(),this.wc=!0,this.i.size>0&&this.sg()}$(){this.wc=!1}z(){this.$(),this.i.clear(),this.tg()}sg(){for(const t of this.i.keys())this.xe(t);this.tg()}tg(){this.ye.resolve(),this.ye=ai()}}class Kr extends Et{constructor(){super(...arguments),this.Sd=-2,this.Gb=!1,this.Sf=v(!1),this.Td=v(!1),this.ec=null,this.Ud=v(!0),this.defaultDelay=2e3}get canIdle(){return this.Ud()}set canIdle(t){this.Ud.set(t)}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return this.Sf()||t()}set hideOnMouseLeave(t){this.Sf.set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){this.Vd(),this.Gb||this.ad(!0,t,e)}hide(t=this.defaultDelay,e){this.Vd(),this.Gb||this.ad(!1,t,e)}pause(t){this.Gb=!0,this.Vd(),this.ad(!0,0,t)}resume(t){this.Gb=!1,!this.$state.paused()&&this.ad(!1,this.defaultDelay,t)}onConnect(){h(this.Hb.bind(this))}Hb(){const{viewType:t}=this.$state;if(!this.Ud())return;if(t()==="audio"){this.show();return}h(this.$h.bind(this)),h(this.fc.bind(this));const e=this.gc.bind(this),s=this.ib.bind(this);this.listen("can-play",i=>this.show(0,i)),this.listen("play",e),this.listen("pause",s),this.listen("auto-play-fail",s)}$h(){const{started:t,pointer:e,paused:s}=this.$state;if(!t()||e()!=="fine")return;const i=this.hideOnMouseLeave;(!i||!this.Td())&&h(()=>{s()||this.listen("pointermove",this.Tf.bind(this))}),i&&(this.listen("mouseenter",this.ai.bind(this)),this.listen("mouseleave",this.bi.bind(this)))}fc(){const{paused:t,started:e,autoPlayError:s}=this.$state;if(t()||s()&&!e())return;const i=this.Tf.bind(this);h(()=>{const n=this.$state.pointer(),r=n==="coarse",o=[r?"touchend":"pointerup","keydown"];for(const l of o)this.listen(l,i,{passive:!1})})}gc(t){this.show(0,t),this.hide(void 0,t)}ib(t){this.show(0,t)}ai(t){this.Td.set(!1),this.show(0,t),this.hide(void 0,t)}bi(t){this.Td.set(!0),this.hide(0,t)}Vd(){window.clearTimeout(this.Sd),this.Sd=-1}Tf(t){t.MEDIA_GESTURE||this.Gb||es(t)||(le(t)&&(t.key==="Escape"?(this.el?.focus(),this.ec=null):this.ec&&(t.preventDefault(),requestAnimationFrame(()=>{this.ec?.focus(),this.ec=null}))),this.show(0,t),this.hide(this.defaultDelay,t))}ad(t,e,s){if(e===0){this.E(t,s);return}this.Sd=window.setTimeout(()=>{this.scope&&this.E(t&&!this.Gb,s)},e)}E(t,e){this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&this.el?.contains(document.activeElement)&&(this.ec=document.activeElement,requestAnimationFrame(()=>{this.el?.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:t,trigger:e}))}}class Ur extends Et{constructor(t,e,s){super(),this.Ba=t,this.g=e,this.a=s,this.zc=new Di,this.Fe=!1,this.C=s.$provider,this.yc=new Kr,this.pd=new Wr,this.bb=new Oi}onAttach(){this.listen("fullscreen-change",this.Qd.bind(this))}onConnect(){const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.Hj.bind(this);for(const s of t)s.startsWith("media-")&&this.listen(s,e);this.Ij(),h(this.Jj.bind(this)),h(this.Kj.bind(this)),h(this.Lj.bind(this)),h(this.Mj.bind(this)),h(this.Nj.bind(this)),h(this.Oj.bind(this)),h(this.Pj.bind(this))}onDestroy(){try{const t=this.createEvent("destroy"),{pictureInPicture:e,fullscreen:s}=this.$state;s()&&this.Lg("prefer-media",t),e()&&this.Ge(t)}catch{}this.zc.z()}Ij(){const{load:t}=this.$props,{canLoad:e}=this.$state;if(t()!=="play"||e())return;const s=this.listen("media-play-request",i=>{this.Gg(i),s()})}Jj(){const t=this.C(),e=this.$state.canPlay();return t&&e&&this.zc.Xa(),()=>{this.zc.$()}}Hj(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&(m(this.C)?this[t.type](t):this.zc.k(t.type,()=>{m(this.C)&&this[t.type](t)}))}async Ac(t){const{canPlay:e,paused:s,autoPlaying:i}=this.$state;if(this.Gg(t)||!m(s))return;t&&this.g.i.k("media-play-request",t);const n=m(i);try{const r=m(this.C);return os(r,m(e)),await r.play()}catch(r){const o=this.createEvent("play-fail",{detail:ts(r),trigger:t});throw o.autoPlay=n,this.Ba.V(o),r}}Gg(t){const{load:e}=this.$props,{canLoad:s}=this.$state;if(e()==="play"&&!s()){const i=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(i),this.zc.k("media-play-request",async()=>{try{await this.Ac(i)}catch{}}),!0}return!1}async Ee(t){const{canPlay:e,paused:s}=this.$state;if(!m(s)){t&&this.g.i.k("media-pause-request",t);try{const i=m(this.C);return os(i,m(e)),await i.pause()}catch(i){throw this.g.i.ub("media-pause-request"),i}}}Hg(t,e){const{audioGain:s,canSetAudioGain:i}=this.$state;if(s()===t)return;const n=this.C();if(!n?.audioGain||!i())throw Error("[vidstack] audio gain api not available");e&&this.g.i.k("media-audio-gain-change-request",e),n.audioGain.setGain(t)}Ig(t){const{canPlay:e,live:s,liveEdge:i,canSeek:n,liveSyncPosition:r,seekableEnd:o,userBehindLiveEdge:l}=this.$state;if(l.set(!1),m(()=>!s()||i()||!n()))return;const c=m(this.C);os(c,m(e)),t&&this.g.i.k("media-seek-request",t);const d=o()-2;c.setCurrentTime(Math.min(d,r()??d))}async Jg(t="prefer-media",e){const s=this.Kg(t);if(Ii(t,s),!s.active)return m(this.$state.pictureInPicture)&&(this.Fe=!0,await this.Ge(e)),e&&this.g.i.k("media-enter-fullscreen-request",e),s.enter()}async Lg(t="prefer-media",e){const s=this.Kg(t);if(Ii(t,s),!!s.active){e&&this.g.i.k("media-exit-fullscreen-request",e);try{const i=await s.exit();return this.Fe&&m(this.$state.canPictureInPicture)&&await this.He(),i}finally{this.Fe=!1}}}Kg(t){const e=m(this.C);return t==="prefer-media"&&this.pd.supported||t==="media"?this.pd:e?.fullscreen}async He(t){if(this.Mg(),!this.$state.pictureInPicture())return t&&this.g.i.k("media-enter-pip-request",t),await this.C().pictureInPicture.enter()}async Ge(t){if(this.Mg(),!!this.$state.pictureInPicture())return t&&this.g.i.k("media-exit-pip-request",t),await this.C().pictureInPicture.exit()}Mg(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}Kj(){this.yc.defaultDelay=this.$props.controlsDelay()}Lj(){const{canSetAudioGain:t}=this.$state,e=!!this.C()?.audioGain?.supported;t.set(e)}Mj(){const{canAirPlay:t}=this.$state,e=!!this.C()?.airPlay?.supported;t.set(e)}Nj(){const{canGoogleCast:t,source:e}=this.$state,s=mr&&!gr&&br(e());t.set(s)}Oj(){const{canFullscreen:t}=this.$state,e=this.pd.supported||!!this.C()?.fullscreen?.supported;t.set(e)}Pj(){const{canPictureInPicture:t}=this.$state,e=!!this.C()?.pictureInPicture?.supported;t.set(e)}async"media-airplay-request"(t){try{await this.Ng(t)}catch{}}async Ng(t){try{const e=this.C()?.airPlay;if(!e?.supported)throw Error("No AirPlay adapter.");return t&&this.g.i.k("media-airplay-request",t),await e.prompt()}catch(e){throw this.g.i.ub("media-airplay-request"),e}}async"media-google-cast-request"(t){try{await this.Og(t)}catch{}}async Og(t){try{const{canGoogleCast:e}=this.$state;if(!m(e)){const i=Error("Cast not available.");throw i.code="CAST_NOT_AVAILABLE",i}if(Qt("https://www.gstatic.com"),!this.qd){const i=await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-DPCoTr0S.js");this.qd=new i.GoogleCastLoader}await this.qd.prompt(this.a),t&&this.g.i.k("media-google-cast-request",t);const s=m(this.$state.remotePlaybackState)!=="disconnected";s&&this.$state.savedState.set({paused:m(this.$state.paused),currentTime:m(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(s?this.qd:null)}catch(e){throw this.g.i.ub("media-google-cast-request"),e}}"media-clip-start-change-request"(t){const{clipStartTime:e}=this.$state;e.set(t.detail)}"media-clip-end-change-request"(t){const{clipEndTime:e}=this.$state;e.set(t.detail),this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-duration-change-request"(t){const{providedDuration:e,clipEndTime:s}=this.$state;e.set(t.detail),s()<=0&&this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-audio-track-change-request"(t){const{logger:e,audioTracks:s}=this.a;if(s.readonly)return;const i=t.detail,n=s[i];if(n){const r=t.type;this.g.i.k(r,t),n.selected=!0}}async"media-enter-fullscreen-request"(t){try{await this.Jg(t.detail,t)}catch(e){this.Zc(e,t)}}async"media-exit-fullscreen-request"(t){try{await this.Lg(t.detail,t)}catch(e){this.Zc(e,t)}}async Qd(t){const e=m(this.$props.fullscreenOrientation),s=t.detail;if(!(Yn(e)||e==="none"||!this.bb.supported))if(s){if(this.bb.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.bb.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}Zc(t,e){this.Ba.V(this.createEvent("fullscreen-error",{detail:ts(t)}))}async"media-orientation-lock-request"(t){const e=t.type;try{this.g.i.k(e,t),await this.bb.lock(t.detail)}catch{this.g.i.ub(e)}}async"media-orientation-unlock-request"(t){const e=t.type;try{this.g.i.k(e,t),await this.bb.unlock()}catch{this.g.i.ub(e)}}async"media-enter-pip-request"(t){try{await this.He(t)}catch(e){this.Pg(e,t)}}async"media-exit-pip-request"(t){try{await this.Ge(t)}catch(e){this.Pg(e,t)}}Pg(t,e){this.Ba.V(this.createEvent("picture-in-picture-error",{detail:ts(t)}))}"media-live-edge-request"(t){const{live:e,liveEdge:s,canSeek:i}=this.$state;if(!(!e()||s()||!i())){this.g.i.k("media-seek-request",t);try{this.Ig()}catch{this.g.i.ub("media-seek-request")}}}async"media-loop-request"(t){try{this.g.Ob=!0,this.g.Bc=!0,await this.Ac(t)}catch{this.g.Ob=!1}}"media-user-loop-change-request"(t){this.$state.userPrefersLoop.set(t.detail)}async"media-pause-request"(t){if(!this.$state.paused())try{await this.Ee(t)}catch{}}async"media-play-request"(t){if(this.$state.paused())try{await this.Ac(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:s}=this.$state;if(e()===t.detail||!s())return;const i=this.C();i?.setPlaybackRate&&(this.g.i.k("media-rate-change-request",t),i.setPlaybackRate(t.detail))}"media-audio-gain-change-request"(t){try{this.Hg(t.detail,t)}catch{}}"media-quality-change-request"(t){const{qualities:e,storage:s,logger:i}=this.a;if(e.readonly)return;this.g.i.k("media-quality-change-request",t);const n=t.detail;if(n<0)e.autoSelect(t),t.isOriginTrusted&&s?.setVideoQuality?.(null);else{const r=e[n];r&&(r.selected=!0,t.isOriginTrusted&&s?.setVideoQuality?.({id:r.id,width:r.width,height:r.height,bitrate:r.bitrate}))}}"media-pause-controls-request"(t){const e=t.type;this.g.i.k(e,t),this.yc.pause(t)}"media-resume-controls-request"(t){const e=t.type;this.g.i.k(e,t),this.yc.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:s,ended:i,canSeek:n,live:r,userBehindLiveEdge:o,clipStartTime:l}=this.$state,c=t.detail;i()&&(this.g.Bc=!0);const d=t.type;this.g.Ja=!1,this.g.i.ub(d);const g=c+l(),k=Math.floor(g)===Math.floor(s()),y=k?s():Math.min(Math.max(e()+.1,g),s()-.1);!Number.isFinite(y)||!n()||(this.g.i.k(d,t),this.C().setCurrentTime(y),r()&&t.isOriginTrusted&&Math.abs(s()-y)>=2&&o.set(!0))}"media-seeking-request"(t){const e=t.type;this.g.i.k(e,t),this.$state.seeking.set(!0),this.g.Ja=!0}"media-start-loading"(t){if(this.$state.canLoad())return;const e=t.type;this.g.i.k(e,t),this.Ba.V(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;const e=t.type;this.g.i.k(e,t),this.Ba.V(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){const{index:e,mode:s}=t.detail,i=this.a.textTracks[e];if(i){const n=t.type;this.g.i.k(n,t),i.setMode(s,t)}}"media-mute-request"(t){if(this.$state.muted())return;const e=t.type;this.g.i.k(e,t),this.C().setMuted(!0)}"media-unmute-request"(t){const{muted:e,volume:s}=this.$state;if(!e())return;const i=t.type;this.g.i.k(i,t),this.a.$provider().setMuted(!1),s()===0&&(this.g.i.k(i,t),this.C().setVolume(.25))}"media-volume-change-request"(t){const{muted:e,volume:s}=this.$state,i=t.detail;if(s()===i)return;const n=t.type;this.g.i.k(n,t),this.C().setVolume(i),i>0&&e()&&(this.g.i.k(n,t),this.C().setMuted(!1))}Qa(t,e,s){}}function os(a,t){if(!(a&&t))throw Error("[vidstack] media not ready")}function Ii(a,t){if(!t?.supported)throw Error("[vidstack] no fullscreen support")}class Xr{constructor(){this.Ja=!1,this.Ob=!1,this.Bc=!1,this.i=new Qr}}function ls(a){return!E(a)&&"width"in a&&"height"in a&&ct(a.width)&&ct(a.height)}const Yr=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class zr extends Et{constructor(t,e){super(),this.g=t,this.a=e,this.u=new Map,this.rd=!1,this.On=[],this.Ln=[-1,-1],this.sd=!1,this.Cc=!1,this.Ke=null,this.seeking=Ct(s=>{const{seeking:i,realCurrentTime:n,paused:r}=this.$state;i.set(!0),n.set(s.detail),this.D("media-seeking-request",s),r()&&(this.Pb=s,this.Le()),this.Ln=[-1,-1]},150,{leading:!0}),this.Le=Qe(()=>{if(!this.Pb)return;this.sd=!0;const{waiting:s,playing:i}=this.$state;s.set(!0),i.set(!1);const n=this.createEvent("waiting",{trigger:this.Pb});this.u.set("waiting",n),this.dispatch(n),this.Pb=void 0,this.sd=!1},300)}onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){h(this.Qj.bind(this)),this.Rj(),this.Sj(),this.Tj(),this.Uj(),A(this.Vj.bind(this))}onDestroy(){const{audioTracks:t,qualities:e,textTracks:s}=this.a;t[_.z](),e[_.z](),s[_.z](),this.Ie()}V(t){if(!this.scope)return;const e=t.type;oe(()=>this[t.type]?.(t)),Yr.has(e)&&this.u.set(e,t),this.dispatch(t)}Uj(){this.Cc&&(requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new K("dom-connect"))}),this.Cc=!1)}Vj(){this.Cc||(this.Cc=!this.$state.paused(),this.a.$provider()?.pause())}vb(){this.Qg(),this.rd=!1,this.g.Bc=!1,this.g.Ob=!1,this.sd=!1,this.Pb=void 0,this.u.clear()}D(t,e){const s=this.g.i.xe(t);s&&(e.request=s,e.triggers.add(s))}Rj(){this.Je(),this.Rg();const t=this.a.textTracks;$(t,"add",this.Je.bind(this)),$(t,"remove",this.Je.bind(this)),$(t,"mode-change",this.Rg.bind(this))}Sj(){const t=this.a.qualities;$(t,"add",this.ld.bind(this)),$(t,"remove",this.ld.bind(this)),$(t,"change",this.Za.bind(this)),$(t,"auto-change",this.Wj.bind(this)),$(t,"readonly-change",this.Xj.bind(this))}Tj(){const t=this.a.audioTracks;$(t,"add",this.Sg.bind(this)),$(t,"remove",this.Sg.bind(this)),$(t,"change",this.Yj.bind(this))}Je(t){const{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}Rg(t){t&&this.D("media-text-track-change-request",t);const e=this.a.textTracks.selected,{textTrack:s}=this.$state;s()!==e&&(s.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}Sg(t){const{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}Yj(t){const{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),t&&this.D("media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}ld(t){const{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}Za(t){const{quality:e}=this.$state;e.set(this.a.qualities.selected),t&&this.D("media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})}Wj(){const{qualities:t}=this.a,e=t.auto;this.$state.autoQuality.set(e),e||this.Ie()}Tg(){this.Ie(),this.Ke=h(()=>{const{qualities:t}=this.a,{mediaWidth:e,mediaHeight:s}=this.$state,i=e(),n=s();if(i===0||n===0)return;let r=null,o=1/0;for(const l of t){const c=Math.abs(l.width-i)+Math.abs(l.height-n);c<o&&(o=c,r=l)}r&&t[_.ea](r,!0,new K("resize",{detail:{width:i,height:n}}))})}Ie(){this.Ke?.(),this.Ke=null}Xj(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}Qj(){const{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e()){t.set(!1);return}fr().then(t.set)}"provider-change"(t){const e=this.a.$provider(),s=t.detail;e?.type!==s?.type&&(e?.destroy?.(),e?.scope?.dispose(),this.a.$provider.set(t.detail),e&&t.detail===null&&this.Ug(t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),this.vb()}"can-load"(t){this.$state.canLoad.set(!0),this.u.set("can-load",t),this.a.textTracks[Y.Z](),this.D("media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),this.u.set("can-load-poster",t),this.D("media-poster-start-loading",t)}"media-type-change"(t){const e=this.u.get("source-change");e&&t.triggers.add(e);const s=this.$state.viewType();this.$state.mediaType.set(t.detail);const i=this.$state.providedViewType(),n=i==="unknown"?t.detail:i;s!==n&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:n,trigger:t}))})},0)}"stream-type-change"(t){const e=this.u.get("source-change");e&&t.triggers.add(e);const{streamType:s,inferredStreamType:i}=this.$state;i.set(t.detail),t.detail=s()}"rate-change"(t){const{storage:e}=this.a,{canPlay:s}=this.$state;this.$state.playbackRate.set(t.detail),this.D("media-rate-change-request",t),s()&&e?.setPlaybackRate?.(t.detail)}"remote-playback-change"(t){const{remotePlaybackState:e,remotePlaybackType:s}=this.$state,{type:i,state:n}=t.detail,r=n==="connected";s.set(i),e.set(n);const o=i==="airplay"?"media-airplay-request":"media-google-cast-request";if(r)this.D(o,t);else{const l=this.g.i.rg(o);l&&(t.request=l,t.triggers.add(l))}}"sources-change"(t){const e=this.$state.sources(),s=t.detail;this.$state.sources.set(s),this.Zj(e,s,t)}Zj(t,e,s){let{qualities:i}=this.a,n=!1,r=!1;for(const o of t)if(ls(o)&&!e.some(l=>l.src===o.src)){const l=i.getBySrc(o.src);l&&(i[_.cc](l,s),r=!0)}r&&!i.length&&(this.$state.savedState.set(null),i[_.z](s));for(const o of e){if(!ls(o)||i.getBySrc(o.src))continue;const l={id:o.id??o.height+"p",bitrate:null,codec:null,...o,selected:!1};i[_.da](l,s),n=!0}n&&!i[dt.Ia]&&(this.Tg(),i[dt.Ia]=this.Tg.bind(this),i[dt.Wa](!0,s))}"source-change"(t){t.isQualityChange=t.originEvent?.type==="quality-change";const e=t.detail;this.Ug(t,t.isQualityChange),this.u.set(t.type,t),this.$state.source.set(e),this.el?.setAttribute("aria-busy","true")}Ug(t,e=!1){const{audioTracks:s,qualities:i}=this.a;if(!e){this.On=[],this.Ln=[-1,-1],s[_.z](t),i[_.z](t),Ci(this.$state,e),this.vb();return}Ci(this.$state,e),this.vb()}abort(t){const e=this.u.get("source-change");e&&t.triggers.add(e);const s=this.u.get("can-load");s&&!t.triggers.hasType("can-load")&&t.triggers.add(s)}"load-start"(t){const e=this.u.get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=this.u.get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=this.u.get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=this.u.get("load-start");e&&t.triggers.add(e)}"can-play"(t){const e=this.u.get("loaded-metadata");e&&t.triggers.add(e),this.Vg(t.detail),this.el?.setAttribute("aria-busy","false")}"can-play-through"(t){this.Vg(t.detail);const e=this.u.get("can-play");e&&t.triggers.add(e)}Vg(t){const{seekable:e,buffered:s,intrinsicDuration:i,canPlay:n}=this.$state;n.set(!0),s.set(t.buffered),e.set(t.seekable);const r=Bt(t.seekable)??1/0;i.set(r)}"duration-change"(t){const{live:e,intrinsicDuration:s,providedDuration:i,clipEndTime:n,ended:r}=this.$state,o=t.detail;if(!e()){const l=Number.isNaN(o)?0:o;s.set(l),r()&&this.Wg(t)}(i()>0||n()>0)&&t.stopImmediatePropagation()}progress(t){const{buffered:e,bufferedEnd:s,seekable:i,seekableEnd:n,live:r,intrinsicDuration:o}=this.$state,{buffered:l,seekable:c}=t.detail,d=Bt(l)??1/0,g=l.length!==e().length,k=d>s(),y=Bt(c)??1/0,S=c.length!==i().length,D=y>n();(g||k)&&e.set(l),(S||D)&&i.set(c),r()&&(o.set(y),this.dispatch("duration-change",{detail:y,trigger:t}))}play(t){const{paused:e,autoPlayError:s,ended:i,autoPlaying:n,playsInline:r,pointer:o,muted:l,viewType:c,live:d,userBehindLiveEdge:g}=this.$state;if(this._j(),!e()){t.stopImmediatePropagation();return}t.autoPlay=n();const k=this.u.get("waiting");k&&t.triggers.add(k),this.D("media-play-request",t),this.u.set("play",t),e.set(!1),s.set(null),t.autoPlay&&(this.V(this.createEvent("auto-play",{detail:{muted:l()},trigger:t})),n.set(!1)),(i()||this.g.Bc)&&(this.g.Bc=!1,i.set(!1),this.V(this.createEvent("replay",{trigger:t}))),!r()&&c()==="video"&&o()==="coarse"&&this.a.remote.enterFullscreen("prefer-media",t),d()&&!g()&&this.a.remote.seekToLiveEdge(t)}_j(t){if(!m(this.a.$provider))return;const{ended:e,seekableStart:s,clipStartTime:i,clipEndTime:n,realCurrentTime:r,duration:o}=this.$state,l=r()<i()||n()>0&&r()>=n()||Math.abs(r()-o())<.1||e();return l&&this.dispatch("media-seek-request",{detail:(i()>0?0:s())+.1,trigger:t}),l}"play-fail"(t){const{muted:e,autoPlaying:s}=this.$state,i=this.u.get("play");i&&t.triggers.add(i),this.D("media-play-request",t);const{paused:n,playing:r}=this.$state;n.set(!0),r.set(!1),this.vb(),this.u.set("play-fail",t),t.autoPlay&&(this.V(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),s.set(!1))}playing(t){const e=this.u.get("play"),s=this.u.get("seeked");e?t.triggers.add(e):s&&t.triggers.add(s),setTimeout(()=>this.vb(),0);const{paused:i,playing:n,live:r,liveSyncPosition:o,seekableEnd:l,started:c,currentTime:d,seeking:g,ended:k}=this.$state;if(i.set(!1),n.set(!0),g.set(!1),k.set(!1),this.g.Ob){this.g.Ob=!1;return}if(r()&&!c()&&d()===0){const y=o()??l()-2;Number.isFinite(y)&&this.a.$provider().setCurrentTime(y)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.V(this.createEvent("started",{trigger:t})))}pause(t){this.el?.isConnected||(this.Cc=!0),this.D("media-pause-request",t);const e=this.u.get("seeked");e&&t.triggers.add(e);const{paused:s,playing:i}=this.$state;s.set(!0),i.set(!1),this.rd&&setTimeout(()=>{this.V(this.createEvent("end",{trigger:t})),this.rd=!1},0),this.vb()}"time-change"(t){if(this.g.Ob){t.stopImmediatePropagation();return}let{waiting:e,played:s,clipEndTime:i,realCurrentTime:n,currentTime:r}=this.$state,o=t.detail,l=i();n.set(o),this.Pn(),e.set(!1);for(const c of this.a.textTracks)c[Y.Eb](o,t);l>0&&o>=l&&(this.rd=!0,this.dispatch("media-pause-request",{trigger:t})),this.$j(),this.dispatch("time-update",{detail:{currentTime:r(),played:s()},trigger:t})}Pn(){const{currentTime:t,played:e,paused:s}=this.$state;s()||(this.Ln=Tr(this.On,this.Ln,t()),e.set(new me(this.On)))}Wg(t){const{clipStartTime:e,clipEndTime:s,duration:i}=this.$state;e()>0||s()>0||this.V(this.createEvent("time-change",{detail:i(),trigger:t}))}$j(){const{storage:t}=this.a,{canPlay:e,realCurrentTime:s}=this.$state;e()&&t?.setTime?.(s())}"audio-gain-change"(t){const{storage:e}=this.a,{canPlay:s,audioGain:i}=this.$state;i.set(t.detail),this.D("media-audio-gain-change-request",t),s()&&e?.setAudioGain?.(i())}"volume-change"(t){const{storage:e}=this.a,{volume:s,muted:i,canPlay:n}=this.$state,r=t.detail;s.set(r.volume),i.set(r.muted||r.volume===0),this.D("media-volume-change-request",t),this.D(r.muted?"media-mute-request":"media-unmute-request",t),n()&&(e?.setVolume?.(s()),e?.setMuted?.(i()))}seeked(t){const{seeking:e,currentTime:s,realCurrentTime:i,paused:n,seekableEnd:r,ended:o}=this.$state;if(this.g.Ja)e.set(!0),t.stopImmediatePropagation();else if(e()){const l=this.u.get("waiting");l&&t.triggers.add(l);const c=this.u.get("seeking");c&&!t.triggers.has(c)&&t.triggers.add(c),n()&&this.Qg(),e.set(!1),i.set(t.detail),this.D("media-seek-request",t);const d=t?.originEvent;d?.isTrusted&&!/seek/.test(d.type)&&this.started(t)}Math.floor(s())!==Math.floor(r())?o.set(!1):this.end(t)}waiting(t){this.sd||this.g.Ja||(t.stopImmediatePropagation(),this.Pb=t,this.Le())}end(t){const{loop:e,ended:s}=this.$state;if(!(!e()&&s())){if(e()){setTimeout(()=>{requestAnimationFrame(()=>{this._j(t),this.dispatch("media-loop-request",{trigger:t})})},10);return}setTimeout(()=>this.lc(t),0)}}lc(t){const{storage:e}=this.a,{paused:s,seeking:i,ended:n,duration:r}=this.$state;this.Wg(t),s()||this.dispatch("pause",{trigger:t}),i()&&this.dispatch("seeked",{detail:r(),trigger:t}),n.set(!0),this.vb(),e?.setTime?.(r(),!0),this.dispatch("ended",{trigger:t})}Qg(){this.Le.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){const e=t.detail;this.$state.fullscreen.set(e),this.D(e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){this.D("media-enter-fullscreen-request",t),this.D("media-exit-fullscreen-request",t)}"orientation-change"(t){const e=t.detail.lock;this.D(e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){const e=t.detail;this.$state.pictureInPicture.set(e),this.D(e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){this.D("media-enter-pip-request",t),this.D("media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}}class Jr extends Et{onSetup(){this.Hb();const t=[this.bk,this.ck,this.Jn,this.Kn,this.Xd,this.Ca,this.ek,this.fk,this.gk,this.hk,this.ik,this.Me,this.jk,this.kk,this.td];for(const e of t)h(e.bind(this))}Hb(){const t={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(const s of Object.keys(this.$props))e.has(s)||this.$state[t[s]??s]?.set(this.$props[s]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}kk(){const{viewType:t,streamType:e,title:s,poster:i,loop:n}=this.$props,r=this.$state;r.providedPoster.set(i()),r.providedStreamType.set(e()),r.providedViewType.set(t()),r.providedTitle.set(s()),r.providedLoop.set(n())}ak(){}bk(){const{artist:t,artwork:e}=this.$props;this.$state.artist.set(t()),this.$state.artwork.set(e())}td(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}ck(){const t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})}ik(){const t=this.$state.loop();this.dispatch("loop-change",{detail:t})}Xd(){const t=this.$props.controls();this.$state.controls.set(t)}jk(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}Ca(){const t=this.$props.crossOrigin()??this.$props.crossorigin(),e=t===!0?"":t;this.$state.crossOrigin.set(e)}ek(){const{duration:t}=this.$props;this.dispatch("media-duration-change-request",{detail:t()})}Me(){const t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})}Jn(){const{clipStartTime:t}=this.$props;this.dispatch("media-clip-start-change-request",{detail:t()})}Kn(){const{clipEndTime:t}=this.$props;this.dispatch("media-clip-end-change-request",{detail:t()})}fk(){this.dispatch("live-change",{detail:this.$state.live()})}hk(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}gk(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}class Zr{constructor(){this.playerId="vds-player",this.mediaId=null,this.H={volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null},this.saveTimeThrottled=Ct(this.saveTime.bind(this),1e3)}async getVolume(){return this.H.volume}async setVolume(t){this.H.volume=t,this.save()}async getMuted(){return this.H.muted}async setMuted(t){this.H.muted=t,this.save()}async getTime(){return this.H.time}async setTime(t,e){const s=t<0;this.H.time=s?null:t,s||e?this.saveTime():this.saveTimeThrottled()}async getLang(){return this.H.lang}async setLang(t){this.H.lang=t,this.save()}async getCaptions(){return this.H.captions}async setCaptions(t){this.H.captions=t,this.save()}async getPlaybackRate(){return this.H.rate}async setPlaybackRate(t){this.H.rate=t,this.save()}async getAudioGain(){return this.H.audioGain}async setAudioGain(t){this.H.audioGain=t,this.save()}async getVideoQuality(){return this.H.quality}async setVideoQuality(t){this.H.quality=t,this.save()}onChange(t,e,s="vds-player"){const i=s?localStorage.getItem(s):null,n=e?localStorage.getItem(e):null;this.playerId=s,this.mediaId=e,this.H={volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...i?JSON.parse(i):{},time:n?+n:null}}save(){if(!this.playerId)return;const t=JSON.stringify({...this.H,time:void 0});localStorage.setItem(this.playerId,t)}saveTime(){if(!this.mediaId)return;const t=(this.H.time??0).toString();localStorage.setItem(this.mediaId,t)}}const Ni=class Zs extends Et{constructor(){super()}onConnect(){h(this.lk.bind(this)),h(this.mk.bind(this));const t=this.nk.bind(this);for(const e of Zs.Xg)navigator.mediaSession.setActionHandler(e,t);A(this.Fa.bind(this))}Fa(){for(const t of Zs.Xg)navigator.mediaSession.setActionHandler(t,null)}lk(){const{title:t,artist:e,artwork:s,poster:i}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:t(),artist:e(),artwork:s()??[{src:i()}]})}mk(){const{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"}nk(t){const e=new K("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":this.dispatch("media-seek-request",{detail:ct(t.seekTime)?t.seekTime:this.$state.currentTime()+(t.seekOffset??10),trigger:e});break}}};Ni.Xg=["play","pause","seekforward","seekbackward","seekto"];let to=Ni;class eo{constructor(t=void 0){this.bc=t,this.G=null,this.f=null,this.Rd=-1}setTarget(t){this.G=t}getPlayer(t){return this.f?this.f:((t??this.G)?.dispatchEvent(new K("find-media-player",{detail:e=>void(this.f=e),bubbles:!0,composed:!0})),this.f)}setPlayer(t){this.f=t}startLoading(t){this.s("media-start-loading",t)}startLoadingPoster(t){this.s("media-poster-start-loading",t)}requestAirPlay(t){this.s("media-airplay-request",t)}requestGoogleCast(t){this.s("media-google-cast-request",t)}play(t){this.s("media-play-request",t)}pause(t){this.s("media-pause-request",t)}mute(t){this.s("media-mute-request",t)}unmute(t){this.s("media-unmute-request",t)}enterFullscreen(t,e){this.s("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.s("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.s("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.s("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.s("media-enter-pip-request",t)}exitPictureInPicture(t){this.s("media-exit-pip-request",t)}seeking(t,e){this.s("media-seeking-request",e,t)}seek(t,e){this.s("media-seek-request",e,t)}seekToLiveEdge(t){this.s("media-live-edge-request",t)}changeDuration(t,e){this.s("media-duration-change-request",e,t)}changeClipStart(t,e){this.s("media-clip-start-change-request",e,t)}changeClipEnd(t,e){this.s("media-clip-end-change-request",e,t)}changeVolume(t,e){this.s("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.s("media-audio-track-change-request",e,t)}changeQuality(t,e){this.s("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,s){this.s("media-text-track-change-request",s,{index:t,mode:e})}changePlaybackRate(t,e){this.s("media-rate-change-request",e,t)}changeAudioGain(t,e){this.s("media-audio-gain-change-request",e,t)}resumeControls(t){this.s("media-resume-controls-request",t)}pauseControls(t){this.s("media-pause-controls-request",t)}togglePaused(t){const e=this.getPlayer(t?.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){const e=this.getPlayer(t?.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){const e=this.getPlayer(t?.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){const s=this.getPlayer(e?.target);s&&(s.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){const e=this.getPlayer(t?.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}showCaptions(t){const e=this.getPlayer(t?.target);if(!e)return;let s=e.state.textTracks,i=this.Rd;(!s[i]||!U(s[i]))&&(i=-1),i===-1&&(i=s.findIndex(n=>U(n)&&n.default)),i===-1&&(i=s.findIndex(n=>U(n))),i>=0&&this.changeTextTrackMode(i,"showing",t),this.Rd=-1}disableCaptions(t){const e=this.getPlayer(t?.target);if(!e)return;const s=e.state.textTracks,i=e.state.textTrack;if(i){const n=s.indexOf(i);this.changeTextTrackMode(n,"disabled",t),this.Rd=n}}toggleCaptions(t){const e=this.getPlayer(t?.target);e&&(e.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(t,e){this.s("media-user-loop-change-request",e,t)}s(t,e,s){const i=new K(t,{bubbles:!0,composed:!0,cancelable:!0,detail:s,trigger:e});let n=e?.target||null;n&&n instanceof x&&(n=n.el),n=!n||n===document||n===window||n===document.body||this.f?.el&&n instanceof Node&&!this.f.el.contains(n)?this.G??this.getPlayer()?.el:n??this.G,this.f?t==="media-play-request"&&!this.f.state.canLoad?n?.dispatchEvent(i):this.f.canPlayQueue.k(t,()=>n?.dispatchEvent(i)):n?.dispatchEvent(i)}Va(t){}}class so extends Ai{}class io{constructor(){this.priority=0,this.Uf=!0,this.m=null,this.J=null,this.va=new Set}canRender(t,e){return!!e}attach(t){this.m=t,t&&(t.textTracks.onchange=this.E.bind(this))}addTrack(t){this.va.add(t),this.ci(t)}removeTrack(t){t[Y._]?.remove?.(),t[Y._]=null,this.va.delete(t)}changeTrack(t){const e=t?.[Y._];e&&e.track.mode!=="showing"&&(e.track.mode="showing"),this.J=t}setDisplay(t){this.Uf=t,this.E()}detach(){this.m&&(this.m.textTracks.onchange=null);for(const t of this.va)this.removeTrack(t);this.va.clear(),this.m=null,this.J=null}ci(t){var e;if(!this.m)return;const s=t[e=Y._]??(t[e]=this.di(t));wt(s)&&(this.m.append(s),s.track.mode=s.default?"showing":"disabled")}di(t){const e=document.createElement("track"),s=t.default||t.mode==="showing",i=t.src&&t.type==="vtt";return e.id=t.id,e.src=i?t.src:"",e.label=t.label,e.kind=t.kind,e.default=s,t.language&&(e.srclang=t.language),s&&!i&&this.Vf(t,e.track),e}Vf(t,e){if(!(t.src&&t.type==="vtt"||e.cues?.length))for(const s of t.cues)e.addCue(s)}E(t){for(const e of this.va){const s=e[Y._];if(!s)continue;if(!this.Uf){s.track.mode=s.managed?"hidden":"disabled";continue}const i=s.track.mode==="showing";i&&this.Vf(e,s.track),e.setMode(i?"showing":"disabled",t)}}}class ao{constructor(t){this.a=t,this.m=null,this.bd=[],this.Wf=!1,this.wa=null,this.jb=null;const e=t.textTracks;this.Wd=e,h(this.Xd.bind(this)),A(this.ei.bind(this)),$(e,"add",this.Yd.bind(this)),$(e,"remove",this.fi.bind(this)),$(e,"mode-change",this.Ha.bind(this))}Xd(){const{nativeControls:t}=this.a.$state;this.Wf=t(),this.Ha()}add(t){this.bd.push(t),oe(this.Ha.bind(this))}remove(t){t.detach(),this.bd.splice(this.bd.indexOf(t),1),oe(this.Ha.bind(this))}Xf(t){requestAnimationFrame(()=>{if(this.m=t,t){this.wa=new io,this.wa.attach(t);for(const e of this.Wd)this.Yf(e)}this.Ha()})}Yf(t){U(t)&&this.wa?.addTrack(t)}gi(t){U(t)&&this.wa?.removeTrack(t)}Yd(t){this.Yf(t.detail)}fi(t){this.gi(t.detail)}Ha(){const t=this.Wd.selected;if(this.m&&(this.Wf||t?.[Y.Mf])){this.jb?.changeTrack(null),this.wa?.setDisplay(!0),this.wa?.changeTrack(t);return}if(this.wa?.setDisplay(!1),this.wa?.changeTrack(null),!t){this.jb?.changeTrack(null);return}const e=this.bd.sort((s,i)=>s.priority-i.priority).find(s=>s.canRender(t,this.m));this.jb!==e&&(this.jb?.detach(),e?.attach(this.m),this.jb=e??null),e?.changeTrack(t)}ei(){this.wa?.detach(),this.wa=null,this.jb?.detach(),this.jb=null}}class no extends Ei{constructor(){super(),this.Z=!1,this.kb={},this.lb=null,this.mb=null,this.bg=Qe(async()=>{if(!this.Z)return;!this.mb&&this.lb&&(this.mb=await this.lb.getLang());const t=await this.lb?.getCaptions(),e=[["captions","subtitles"],"chapters","descriptions","metadata"];for(const s of e){const i=this.getByKind(s);if(i.find(c=>c.mode==="showing"))continue;const n=this.mb?i.find(c=>c.language===this.mb):null,r=V(s)?this.kb[s.find(c=>this.kb[c])||""]:this.kb[s],o=n??r,l=o&&U(o);o&&(!l||t!==!1)&&(o.mode="showing",l&&this.cg(o))}},300),this.Zd=null,this.ag=this.hi.bind(this)}get selected(){return this.A.find(t=>t.mode==="showing"&&U(t))??null}get selectedIndex(){const t=this.selected;return t?this.indexOf(t):-1}get preferredLang(){return this.mb}set preferredLang(t){this.mb=t,this.$f(t)}add(t,e){const s=t instanceof ge,i=s?t:new ge(t),n=t.kind==="captions"||t.kind==="subtitles"?"captions":t.kind;return this.kb[n]&&t.default&&delete t.default,i.addEventListener("mode-change",this.ag),this[_.da](i,e),i[Y.Db]=this[Y.Db],this.Z&&i[Y.Z](),t.default&&(this.kb[n]=i),this.bg(),this}remove(t,e){if(this.Zd=t,!!this.A.includes(t))return t===this.kb[t.kind]&&delete this.kb[t.kind],t.mode="disabled",t[Y.hb]=null,t.removeEventListener("mode-change",this.ag),this[_.cc](t,e),this.Zd=null,this}clear(t){for(const e of[...this.A])this.remove(e,t);return this}getByKind(t){const e=Array.isArray(t)?t:[t];return this.A.filter(s=>e.includes(s.kind))}[Y.Z](){if(!this.Z){for(const t of this.A)t[Y.Z]();this.Z=!0,this.bg()}}hi(t){const e=t.detail;if(this.lb&&U(e)&&e!==this.Zd&&this.cg(e),e.mode==="showing"){const s=U(e)?["captions","subtitles"]:[e.kind];for(const i of this.A)i.mode==="showing"&&i!=e&&s.includes(i.kind)&&(i.mode="disabled")}this.dispatchEvent(new K("mode-change",{detail:t.detail,trigger:t}))}cg(t){t.mode!=="disabled"&&this.$f(t.language),this.lb?.setCaptions?.(t.mode==="showing")}$f(t){this.lb?.setLang?.(this.mb=t)}setStorage(t){this.lb=t}}let ye=v(!1);$(document,"pointerdown",()=>{ye.set(!1)}),$(document,"keydown",a=>{a.metaKey||a.altKey||a.ctrlKey||ye.set(!0)});class rt extends at{constructor(){super(...arguments),this.Dc=v(!1)}onConnect(t){h(()=>{if(!ye()){this.Dc.set(!1),ve(t,!1),this.listen("pointerenter",this.Oe.bind(this)),this.listen("pointerleave",this.Pe.bind(this));return}const e=document.activeElement===t;this.Dc.set(e),ve(t,e),this.listen("focus",this.Ec.bind(this)),this.listen("blur",this.qk.bind(this))})}focused(){return this.Dc()}Ec(){this.Dc.set(!0),ve(this.el,!0)}qk(){this.Dc.set(!1),ve(this.el,!1)}Oe(){Gi(this.el,!0)}Pe(){Gi(this.el,!1)}}function ve(a,t){b(a,"data-focus",t),b(a,"data-hocus",t)}function Gi(a,t){b(a,"data-hocus",t),b(a,"data-hover",t)}var ro=Object.defineProperty,oo=Object.getOwnPropertyDescriptor,I=(a,t,e,s)=>{for(var i=s>1?void 0:s?oo(t,e):t,n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&ro(t,e,i),i};const O=class Be extends x{constructor(){super(),this.canPlayQueue=new Di,this.Re=!1,new Jr;const t={player:this,qualities:new Vr,audioTracks:new so,storage:null,$provider:v(null),$providerSetup:v(!1),$props:this.$props,$state:this.$state};t.remote=this.remoteControl=new eo(void 0),t.remote.setPlayer(this),t.textTracks=new no,t.textTracks[Y.Db]=this.$state.crossOrigin,t.textRenderers=new ao(t),t.ariaKeys={},this.a=t,J(Ti,t),this.orientation=new Oi,new rt,new Gr(t);const e=new Xr;this.Ba=new zr(e,t),this.W=new Ur(this.Ba,e,t),t.delegate=new Br(this.Ba.V.bind(this.Ba),t),typeof navigator<"u"&&"mediaSession"in navigator&&new to,new Li("load",this.startLoading.bind(this)),new Li("posterLoad",this.startLoadingPoster.bind(this))}get p(){return this.a.$provider()}get vd(){return this.$props}onSetup(){this.rk(),h(this.sk.bind(this)),h(this.tk.bind(this)),h(this.fc.bind(this)),h(this.Fc.bind(this)),h(this.Qb.bind(this)),h(this.Me.bind(this)),h(this.Qe.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),q(t,"tabindex","0"),q(t,"role","region"),h(this.uk.bind(this)),h(this.td.bind(this)),h(this.Yg.bind(this)),$(t,"find-media-player",this.vk.bind(this))}onConnect(t){di&&b(t,"data-iphone","");const e=window.matchMedia("(pointer: coarse)");this.Zg(e),e.onchange=this.Zg.bind(this);const s=new ResizeObserver(kt(this.pa.bind(this)));s.observe(t),h(this.pa.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),A(()=>{s.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.z()}td(){const t=this.$el,{title:e,live:s,viewType:i,providedTitle:n}=this.$state,r=s(),o=Ke(i()),l=o!=="Unknown"?`${r?"Live ":""}${o}`:r?"Live":"Media",c=e();b(this.el,"aria-label",`${l} Player`+(c?` - ${c}`:"")),t?.hasAttribute("title")&&(this.Re=!0,t?.removeAttribute("title"))}Yg(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),b(this.el,"data-orientation",t),this.pa()}sk(){this.$state.canPlay()&&this.p?this.canPlayQueue.Xa():this.canPlayQueue.$()}rk(){if(Be[as]){this.setAttributes(Be[as]);return}const t={"data-load":function(){return this.$props.load()},"data-captions":function(){const s=this.$state.textTrack();return!!s&&U(s)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canLoad:s,canPlay:i,waiting:n}=this.$state;return s()&&(!i()||n())},"data-error":function(){const{error:s}=this.$state;return!!s()},"data-autoplay-error":function(){const{autoPlayError:s}=this.$state;return!!s()}},e={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(const s of _r){const i="data-"+(e[s]??Nt(s));t[i]=function(){return this.$state[s]()}}delete t.title,Be[as]=t,this.setAttributes(t)}vk(t){t.detail(this)}pa(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),nt(this.el,"--player-width",t+"px"),nt(this.el,"--player-height",e+"px")}Zg(t){const e=t.matches?"coarse":"fine";b(this.el,"data-pointer",e),this.$state.pointer.set(e),this.pa()}get provider(){return this.p}get controls(){return this.W.yc}set controls(t){this.vd.controls.set(t)}get title(){return m(this.$state.providedTitle)}set title(t){if(this.Re){this.Re=!1;return}this.$state.providedTitle.set(t)}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get duration(){return this.$state.duration()}set duration(t){this.vd.duration.set(t)}get paused(){return m(this.$state.paused)}set paused(t){this._g(t)}fc(){this._g(this.$props.paused())}_g(t){t?this.canPlayQueue.k("paused",()=>this.W.Ee()):this.canPlayQueue.k("paused",()=>this.W.Ac())}get muted(){return m(this.$state.muted)}set muted(t){this.vd.muted.set(t)}tk(){this.wk(this.$props.muted())}wk(t){this.canPlayQueue.k("muted",()=>{this.p&&this.p.setMuted(t)})}get currentTime(){return m(this.$state.currentTime)}set currentTime(t){this.$g(t)}Qb(){this.$g(this.$props.currentTime())}$g(t){this.canPlayQueue.k("currentTime",()=>{const{currentTime:e,clipStartTime:s,seekableStart:i,seekableEnd:n}=this.$state;t!==m(e)&&m(()=>{if(!this.p)return;const r=t+s(),o=Math.floor(r)===Math.floor(n()),l=o?n():Math.min(Math.max(i()+.1,r),n()-.1);Number.isFinite(l)&&this.p.setCurrentTime(l)})})}get volume(){return m(this.$state.volume)}set volume(t){this.vd.volume.set(t)}Fc(){this.xk(this.$props.volume())}xk(t){const e=is(0,t,1);this.canPlayQueue.k("volume",()=>{this.p&&this.p.setVolume(e)})}get playbackRate(){return m(this.$state.playbackRate)}set playbackRate(t){this.ah(t)}Qe(){this.ah(this.$props.playbackRate())}ah(t){this.canPlayQueue.k("rate",()=>{this.p&&this.p.setPlaybackRate?.(t)})}Me(){this.yk(this.$props.playsInline())}yk(t){this.canPlayQueue.k("playsinline",()=>{this.p&&this.p.setPlaysInline?.(t)})}uk(){let t=this.$props.storage(),e=E(t)?new Zr:t;if(e?.onChange){const{source:s}=this.$state,i=E(t)?t:this.el?.id,n=L(this.zk.bind(this));h(()=>e.onChange(s(),n(),i||void 0))}this.a.storage=e,this.a.textTracks.setStorage(e),A(()=>{e?.onDestroy?.(),this.a.storage=null,this.a.textTracks.setStorage(null)})}zk(){const{clipStartTime:t,clipEndTime:e}=this.$props,{source:s}=this.$state,i=s();return i.src?`${i.src}:${t()}:${e()}`:null}async play(t){return this.W.Ac(t)}async pause(t){return this.W.Ee(t)}async enterFullscreen(t,e){return this.W.Jg(t,e)}async exitFullscreen(t,e){return this.W.Lg(t,e)}enterPictureInPicture(t){return this.W.He(t)}exitPictureInPicture(t){return this.W.Ge(t)}seekToLiveEdge(t){this.W.Ig(t)}startLoading(t){this.a.delegate.c("can-load",void 0,t)}startLoadingPoster(t){this.a.delegate.c("can-load-poster",void 0,t)}requestAirPlay(t){return this.W.Ng(t)}requestGoogleCast(t){return this.W.Og(t)}setAudioGain(t,e){return this.W.Hg(t,e)}destroy(){super.destroy(),this.a.remote.setPlayer(null),this.dispatch("destroy")}};O.props=Rr,O.state=Si,I([M],O.prototype,"canPlayQueue",2),I([M],O.prototype,"remoteControl",2),I([M],O.prototype,"provider",1),I([M],O.prototype,"controls",1),I([M],O.prototype,"orientation",2),I([M],O.prototype,"title",1),I([M],O.prototype,"qualities",1),I([M],O.prototype,"audioTracks",1),I([M],O.prototype,"textTracks",1),I([M],O.prototype,"textRenderers",1),I([M],O.prototype,"duration",1),I([M],O.prototype,"paused",1),I([M],O.prototype,"muted",1),I([M],O.prototype,"currentTime",1),I([M],O.prototype,"volume",1),I([M],O.prototype,"playbackRate",1),I([R],O.prototype,"play",1),I([R],O.prototype,"pause",1),I([R],O.prototype,"enterFullscreen",1),I([R],O.prototype,"exitFullscreen",1),I([R],O.prototype,"enterPictureInPicture",1),I([R],O.prototype,"exitPictureInPicture",1),I([R],O.prototype,"seekToLiveEdge",1),I([R],O.prototype,"startLoading",1),I([R],O.prototype,"startLoadingPoster",1),I([R],O.prototype,"requestAirPlay",1),I([R],O.prototype,"requestGoogleCast",1),I([R],O.prototype,"setAudioGain",1);let lo=O;class hs extends T(HTMLElement,lo){}hs.tagName="media-player",hs.attrs={autoPlay:"autoplay",crossOrigin:"crossorigin",playsInline:"playsinline",preferNativeHLS:"prefer-native-hls",minLiveDVRWindow:"min-live-dvr-window"};class ho{constructor(){this.name="audio"}canPlay(t){return yr(t)?!E(t.src)||t.type==="?"||vr(this.target,t.type):!1}mediaType(){return"audio"}async load(t){return new(await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/providers/vidstack-audio-ZkVjHom2.js")).AudioProvider(this.target,t)}}class cs{constructor(){this.name="video"}canPlay(t){return $r(t)?!E(t.src)||t.type==="?"||kr(this.target,t.type):!1}mediaType(){return"video"}async load(t){return new(await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/providers/vidstack-video-Cwxu8qNl.js")).VideoProvider(this.target,t)}}const Hi=class Bn extends cs{constructor(){super(...arguments),this.name="dash"}canPlay(t){return Bn.supported&&Je(t)}async load(t){return new(await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/providers/vidstack-dash-Bxnzy6rj.js")).DASHProvider(this.target,t)}};Hi.supported=wr();let co=Hi;const ji=class Wn extends cs{constructor(){super(...arguments),this.name="hls"}canPlay(t){return Wn.supported&&Ze(t)}async load(t){return new(await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/providers/vidstack-hls-CUP8VT3K.js")).HLSProvider(this.target,t)}};ji.supported=ui();let uo=ji;class po{constructor(){this.name="vimeo"}preconnect(){const t=["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(const e of t)Qt(e)}canPlay(t){return E(t.src)&&t.type==="video/vimeo"}mediaType(){return"video"}async load(t){return new(await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/providers/vidstack-vimeo-_qFh9jXR.js")).VimeoProvider(this.target,t)}async loadPoster(t,e,s){const{resolveVimeoVideoId:i,getVimeoVideoInfo:n}=await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-CV_nEHqD.js");if(!E(t.src))return null;const{videoId:r,hash:o}=i(t.src);return r?n(r,s,o).then(l=>l?l.poster:null):null}}class mo{constructor(){this.name="youtube"}preconnect(){const t=["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(const e of t)Qt(e)}canPlay(t){return E(t.src)&&t.type==="video/youtube"}mediaType(){return"video"}async load(t){return new(await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/providers/vidstack-youtube-CB50CttI.js")).YouTubeProvider(this.target,t)}async loadPoster(t,e,s){const{findYouTubePoster:i,resolveYouTubeVideoId:n}=await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-BPxi4x2R.js"),r=E(t.src)&&n(t.src);return r?i(r,s):null}}function go(a,t){return fetch(a,t).then(e=>e.text()).then(e=>/type="static"/.test(e)?"on-demand":"live")}function Ri(a,t){return fetch(a,t).then(e=>e.text()).then(e=>{const s=bo(e);if(s)return Ri(/^https?:/.test(s)?s:new URL(s,a).href,t);const i=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(e)?"on-demand":"live";return i==="live"&&fo(e)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(e)||e.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":i})}function bo(a){const t=a.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function fo(a){const t=a.split(`
`);for(const e of t)if(e.startsWith("#EXT-X-TARGETDURATION")){const s=parseFloat(e.split(":")[1]);if(!isNaN(s))return s}return-1}const ds=new Map;class yo{constructor(t,e,s,i=[]){this.wd=t,this.a=e,this.X=s,this.Se=!1;const n=new co,r=new uo,o=new cs,l=new ho,c=new mo,d=new po,g=[c,d];this.Te=L(()=>{const y=e.$state.remotePlaybackLoader(),S=e.$props.preferNativeHLS()?[o,l,n,r,...g,...i]:[r,o,l,n,...g,...i];return y?[y,...S]:S});const{$state:k}=e;k.sources.set(Fi(e.$props.src()));for(const y of k.sources()){const S=this.Te().find(F=>F.canPlay(y));if(!S)continue;const D=S.mediaType(y);this.a.$state.source.set(y),this.a.$state.mediaType.set(D),this.a.$state.inferredViewType.set(D),this.X.set(S),this.Se=!0;break}}get c(){return this.a.delegate.c}connect(){const t=this.X();this.Se&&(this.bh(this.a.$state.source(),t),this.ch(t),this.Se=!1),h(this.Ak.bind(this)),h(this.Bk.bind(this)),h(this.Ck.bind(this)),h(this.Dk.bind(this)),h(this.Ek.bind(this))}Ak(){this.c("sources-change",[...Fi(this.a.$props.src()),...this.wd()])}Bk(){const{$state:t}=this.a,e=t.sources(),s=m(t.source),i=this.dh(s,e);if(e[0]?.src&&!i.src&&!i.type){const{crossOrigin:n}=t,r=be(n()),o=new AbortController;return Promise.all(e.map(l=>E(l.src)&&l.type==="?"?fetch(l.src,{method:"HEAD",credentials:r,signal:o.signal}).then(c=>(l.type=c.headers.get("content-type")||"??",ds.set(l.src,l.type),l)).catch(()=>l):l)).then(l=>{if(o.signal.aborted)return;const c=this.dh(m(t.source),l);ht(),c.src||this.c("error",{message:"Failed to load resource.",code:4})}),()=>o.abort()}ht()}dh(t,e){let s={src:"",type:""},i=null,n=new K("sources-change",{detail:{sources:e}}),r=this.Te(),{started:o,paused:l,currentTime:c,quality:d,savedState:g}=this.a.$state;for(const k of e){const y=r.find(S=>S.canPlay(k));if(y){s=k,i=y;break}}if(ls(s)){const k=d(),y=e.find(S=>S.src===k?.src);m(o)?g.set({paused:m(l),currentTime:m(c)}):g.set(null),y&&(s=y,n=new K("quality-change",{detail:{quality:k}}))}return Bi(t,s)||this.bh(s,i,n),i!==m(this.X)&&this.ch(i,n),s}bh(t,e,s){this.c("source-change",t,s),this.c("media-type-change",e?.mediaType(t)||"unknown",s)}ch(t,e){this.a.$providerSetup.set(!1),this.c("provider-change",null,e),t&&m(()=>t.preconnect?.(this.a)),this.X.set(t),this.c("provider-loader-change",t,e)}Ck(){const t=this.a.$provider();if(!(!t||m(this.a.$providerSetup))){if(this.a.$state.canLoad()){he(()=>t.setup(),t.scope),this.a.$providerSetup.set(!0);return}m(()=>t.preconnect?.())}}Dk(){if(!this.a.$providerSetup())return;const t=this.a.$provider(),e=this.a.$state.source(),s=m(this.a.$state.crossOrigin),i=m(this.a.$props.preferNativeHLS);if(!Bi(t?.currentSrc,e)){if(this.a.$state.canLoad()){const n=new AbortController;return Ze(e)?(i||!ui())&&Ri(e.src,{credentials:be(s),signal:n.signal}).then(r=>{this.c("stream-type-change",r)}).catch(Ue):Je(e)?go(e.src,{credentials:be(s),signal:n.signal}).then(r=>{this.c("stream-type-change",r)}).catch(Ue):this.c("stream-type-change","on-demand"),m(()=>{const r=m(this.a.$state.preload);return t?.loadSource(e,r).catch(o=>{})}),()=>n.abort()}try{E(e.src)&&Qt(new URL(e.src).origin)}catch{}}}Ek(){const t=this.X(),{providedPoster:e,source:s,canLoadPoster:i}=this.a.$state;if(!t||!t.loadPoster||!s()||!i()||e())return;const n=new AbortController,r=new K("source-change",{detail:s});return t.loadPoster(s(),this.a,n).then(o=>{this.c("poster-change",o||"",r)}).catch(()=>{this.c("poster-change","",r)}),()=>{n.abort()}}}function Fi(a){return(V(a)?a:[a]).map(t=>E(t)?{src:t,type:Vi(t)}:{...t,type:Vi(t.src,t.type)})}function Vi(a,t){return E(t)&&t.length?t:E(a)&&ds.has(a)?ds.get(a):!t&&Ze({src:a,type:""})?"application/x-mpegurl":!t&&Je({src:a,type:""})?"application/dash+xml":!E(a)||a.startsWith("blob:")?"video/object":a.includes("youtube")||a.includes("youtu.be")?"video/youtube":a.includes("vimeo")&&!a.includes("progressive_redirect")&&!a.includes(".m3u8")?"video/vimeo":"?"}function Bi(a,t){return a?.src===t?.src&&a?.type===t?.type}class vo{constructor(t,e){this.xd=t,this.a=e,this.eh=[],h(this.Fk.bind(this))}Fk(){const t=this.xd();for(const e of this.eh)if(!t.some(s=>s.id===e.id)){const s=e.id&&this.a.textTracks.getById(e.id);s&&this.a.textTracks.remove(s)}for(const e of t){const s=e.id||ge.createId(e);this.a.textTracks.getById(s)||(e.id=s,this.a.textTracks.add(e))}this.eh=t}}var $o=Object.defineProperty,ko=Object.getOwnPropertyDescriptor,wo=(a,t,e,s)=>{for(var i=ko(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&$o(t,e,i),i};class $e extends x{constructor(){super(...arguments),this.wd=v([]),this.xd=v([]),this.X=null,this.Ue=-1}onSetup(){this.a=f(),this.fh=new yo(this.wd,this.a,this.$state.loader,this.$props.loaders())}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.fh.connect(),new vo(this.xd,this.a);const e=new ResizeObserver(kt(this.pa.bind(this)));e.observe(t);const s=new MutationObserver(this.Gc.bind(this));s.observe(t,{attributes:!0,childList:!0}),this.pa(),this.Gc(),A(()=>{e.disconnect(),s.disconnect()})}load(t){window.cancelAnimationFrame(this.Ue),this.Ue=requestAnimationFrame(()=>this.Gk(t)),A(()=>{window.cancelAnimationFrame(this.Ue)})}Gk(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:s}=this.a;this.X===e&&e?.target===t&&m(s)||(this.gh(),this.X=e,e&&(e.target=t||null),!(!e||!t)&&e.load(this.a).then(i=>{this.scope&&m(this.$state.loader)===e&&this.a.delegate.c("provider-change",i)}))}onDestroy(){this.X=null,this.gh()}gh(){this.a?.delegate.c("provider-change",null)}pa(){if(!this.el)return;const{player:t,$state:e}=this.a,s=this.el.offsetWidth,i=this.el.offsetHeight;t&&(e.mediaWidth.set(s),e.mediaHeight.set(i),t.el&&(nt(t.el,"--media-width",s+"px"),nt(t.el,"--media-height",i+"px")))}Gc(){const t=[],e=[],s=this.el.children;for(const i of s)if(!i.hasAttribute("data-vds")){if(i instanceof HTMLSourceElement){const n={id:i.id,src:i.src,type:i.type};for(const r of["id","src","width","height","bitrate","codec"]){const o=i.getAttribute(`data-${r}`);E(o)&&(n[r]=/id|src|codec/.test(r)?o:Number(o))}t.push(n)}else if(i instanceof HTMLTrackElement){const n={src:i.src,kind:i.track.kind,language:i.srclang,label:i.label,default:i.default,type:i.getAttribute("data-type")};e.push({id:i.id||ge.createId(n),...n})}}this.wd.set(t),this.xd.set(e),ht()}}$e.props={loaders:[]},$e.state=new vt({loader:null}),wo([R],$e.prototype,"load");class Wi extends T(HTMLElement,$e){constructor(){super(...arguments),this.G=null,this.Xm=null}onSetup(){this.a=f(),this.setAttribute("keep-alive","")}onDestroy(){this.Xm?.remove(),this.Xm=null,this.G?.remove(),this.G=null}onConnect(){h(()=>{const t=this.$state.loader(),e=t?.name==="youtube",s=t?.name==="vimeo",i=e||s,n=t?.name==="google-cast",r=t?n?this.kn():i?this.ln():t.mediaType()==="audio"?this.mn():this.an():null;if(this.G!==r){const o=this.G?.parentElement??this;this.G?.remove(),this.G=r,r&&o.prepend(r),i&&r&&h(()=>{const{nativeControls:l,viewType:c}=this.a.$state,d=l(),g=c()==="audio";!d&&!g?(this.Xm=this.querySelector(".vds-blocker"),this.Xm||(this.Xm=document.createElement("div"),this.Xm.classList.add("vds-blocker"),r.after(this.Xm))):(this.Xm?.remove(),this.Xm=null),b(r,"data-no-controls",!d)})}e?r?.classList.add("vds-youtube"):s&&r?.classList.add("vds-vimeo"),i||(this.Xm?.remove(),this.Xm=null),this.load(r)})}mn(){const t=this.G instanceof HTMLAudioElement?this.G:document.createElement("audio");b(t,"preload","none"),b(t,"aria-hidden","true");const{controls:e,crossOrigin:s}=this.a.$state;return h(()=>{b(t,"controls",e()),b(t,"crossorigin",s())}),t}an(){const t=this.G instanceof HTMLVideoElement?this.G:document.createElement("video"),{crossOrigin:e,poster:s,nativeControls:i}=this.a.$state,n=L(()=>i()?"true":null),r=L(()=>s()&&i()?s():null);return h(()=>{b(t,"controls",n()),b(t,"crossorigin",e()),b(t,"poster",r())}),t}ln(){const t=this.G instanceof HTMLIFrameElement?this.G:document.createElement("iframe"),{nativeControls:e}=this.a.$state;return h(()=>b(t,"tabindex",e()?null:-1)),t}kn(){if(this.G?.classList.contains("vds-google-cast"))return this.G;const t=document.createElement("div");return t.classList.add("vds-google-cast"),import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-DH5t7GF_.js").then(({insertContent:e})=>{e(t,this.a.$state)}),t}}Wi.tagName="media-provider",w(hs),w(Wi);const Qi=lt();function P(){return G(Qi)}const To={colorScheme:"system",download:null,customIcons:!1,disableTimeSlider:!1,menuContainer:null,menuGroup:"bottom",noAudioGain:!1,noGestures:!1,noKeyboardAnimations:!1,noModal:!1,noScrubGesture:!1,playbackRates:{min:0,max:2,step:.25},audioGains:{min:0,max:300,step:25},seekStep:10,sliderChaptersMinWidth:325,hideQualityBitrate:!1,smallWhen:!1,thumbnails:null,translations:null,when:!1};var xo=Object.defineProperty,So=Object.getOwnPropertyDescriptor,Ki=(a,t,e,s)=>{for(var i=So(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&xo(t,e,i),i};class Ut extends x{constructor(){super(...arguments),this.cn=L(()=>{const t=this.$props.when();return this.fn(t)}),this.$m=L(()=>{const t=this.$props.smallWhen();return this.fn(t)})}get isMatch(){return this.cn()}get isSmallLayout(){return this.$m()}onSetup(){this.a=f(),this.setAttributes({"data-match":this.cn,"data-sm":()=>this.$m()?"":null,"data-lg":()=>this.$m()?null:"","data-size":()=>this.$m()?"sm":"lg","data-no-scrub-gesture":this.$props.noScrubGesture}),J(Qi,{...this.$props,when:this.cn,smallWhen:this.$m,userPrefersAnnouncements:v(!0),userPrefersKeyboardAnimations:v(!0),menuPortal:v(null)})}onAttach(t){gi(t,this.$props.colorScheme)}fn(t){return t!=="never"&&(ni(t)?t:L(()=>t(this.a.player.state))())}}Ut.props=To,Ki([M],Ut.prototype,"isMatch"),Ki([M],Ut.prototype,"isSmallLayout");var Po=Object.getPrototypeOf,Co=Reflect.get,Mo=(a,t,e)=>Co(Po(a),e,t);const ke=class extends Ut{};ke.props={...Mo(ke,ke,"props"),when:({viewType:a})=>a==="audio",smallWhen:({width:a})=>a<576};let Eo=ke,Ao=class extends Jn{constructor(t){super(t),this.h=null,this.w=!1,this.$=null,this.w=t.type===ri.ATTRIBUTE||t.type===ri.BOOLEAN_ATTRIBUTE}render(t){return t!==this.h&&(this.disconnected(),this.h=t,this.isConnected&&this.Gl()),this.h?this.x(m(this.h)):Zn}reconnected(){this.Gl()}disconnected(){this.$?.(),this.$=null}Gl(){this.h&&(this.$=h(this.l.bind(this)))}x(t){return this.w?Xe(t):t}y(t){this.setValue(this.x(t))}l(){this.y(this.h?.())}};function p(a){return zn(Ao)(L(a))}class we extends HTMLElement{constructor(){super(...arguments),this.rootPart=null}connectedCallback(){this.rootPart=ce(this.render(),this,{renderBefore:this.firstChild}),this.rootPart.setConnected(!0)}disconnectedCallback(){this.rootPart?.setConnected(!1),this.rootPart=null,ce(null,this)}}function Ui(a,t){h(()=>{const{player:e}=f(),s=e.el;return s&&b(s,"data-layout",t()&&a),()=>s?.removeAttribute("data-layout")})}class Xi{constructor(t,e){this._m=t,this.La=e,this.elements=new Set,this.Gc=kt(this.Ha.bind(this))}connect(){this.Ha();const t=new MutationObserver(this.Gc);for(const e of this._m)t.observe(e,{childList:!0,subtree:!0});A(()=>t.disconnect()),A(this.disconnect.bind(this))}disconnect(){this.elements.clear()}assign(t,e){tr(t)?(e.textContent="",e.append(t)):(ce(null,e),ce(t,e)),e.style.display||(e.style.display="contents");const s=e.firstElementChild;if(!s)return;const i=e.getAttribute("data-class");i&&s.classList.add(...i.split(" "))}Ha(t){if(t&&!t.some(i=>i.addedNodes.length))return;let e=!1,s=this._m.flatMap(i=>[...i.querySelectorAll("slot")]);for(const i of s)!i.hasAttribute("name")||this.elements.has(i)||(this.elements.add(i),e=!0);e&&this.La(this.elements)}}let Lo=0,Te="data-slot-id";class us{constructor(t){this._m=t,this.Gc=kt(this.Ha.bind(this)),this.slots=new Xi(t,this.Ha.bind(this))}connect(){this.slots.connect(),this.Ha();const t=new MutationObserver(this.Gc);for(const e of this._m)t.observe(e,{childList:!0});A(()=>t.disconnect())}Ha(){for(const t of this._m)for(const e of t.children){if(e.nodeType!==1)continue;const s=e.getAttribute("slot");if(!s)continue;e.style.display="none";let i=e.getAttribute(Te);i||e.setAttribute(Te,i=++Lo+"");for(const n of this.slots.elements){if(n.getAttribute("name")!==s||n.getAttribute(Te)===i)continue;const r=document.importNode(e,!0);s.includes("-icon")&&r.classList.add("vds-icon"),r.style.display="",r.removeAttribute("slot"),this.slots.assign(r,n),n.setAttribute(Te,i)}}}}function z(a,t){return a()?.[t]??t}function ps(){return p(()=>{const{translations:a,userPrefersAnnouncements:t}=P();return t()?u`<media-announcer .translations=${p(a)}></media-announcer>`:null})}function tt(a,t=""){return u`<slot
    name=${`${a}-icon`}
    data-class=${`vds-icon vds-${a}-icon${t?` ${t}`:""}`}
  ></slot>`}function Xt(a){return a.map(t=>tt(t))}function C(a,t){return p(()=>z(a,t))}function ms({tooltip:a}){const{translations:t}=P(),{remotePlaybackState:e}=j(),s=p(()=>{const n=z(t,"AirPlay"),r=Ke(e());return`${n} ${r}`}),i=C(t,"AirPlay");return u`
    <media-tooltip class="vds-airplay-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-airplay-button class="vds-airplay-button vds-button" aria-label=${s}>
          ${tt("airplay")}
        </media-airplay-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-airplay-tooltip-text">${i}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Yi({tooltip:a}){const{translations:t}=P(),{remotePlaybackState:e}=j(),s=p(()=>{const n=z(t,"Google Cast"),r=Ke(e());return`${n} ${r}`}),i=C(t,"Google Cast");return u`
    <media-tooltip class="vds-google-cast-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-google-cast-button class="vds-google-cast-button vds-button" aria-label=${s}>
          ${tt("google-cast")}
        </media-google-cast-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-google-cast-tooltip-text">${i}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function xe({tooltip:a}){const{translations:t}=P(),e=C(t,"Play"),s=C(t,"Pause");return u`
    <media-tooltip class="vds-play-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-play-button
          class="vds-play-button vds-button"
          aria-label=${C(t,"Play")}
        >
          ${Xt(["play","pause","replay"])}
        </media-play-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-play-tooltip-text">${e}</span>
        <span class="vds-pause-tooltip-text">${s}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function zi({tooltip:a,ref:t=Ue}){const{translations:e}=P(),s=C(e,"Mute"),i=C(e,"Unmute");return u`
    <media-tooltip class="vds-mute-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-mute-button
          class="vds-mute-button vds-button"
          aria-label=${C(e,"Mute")}
          ${de(t)}
        >
          ${Xt(["mute","volume-low","volume-high"])}
        </media-mute-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-mute-tooltip-text">${i}</span>
        <span class="vds-unmute-tooltip-text">${s}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function gs({tooltip:a}){const{translations:t}=P(),e=C(t,"Closed-Captions On"),s=C(t,"Closed-Captions Off");return u`
    <media-tooltip class="vds-caption-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-caption-button
          class="vds-caption-button vds-button"
          aria-label=${C(t,"Captions")}
        >
          ${Xt(["cc-on","cc-off"])}
        </media-caption-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-cc-on-tooltip-text">${s}</span>
        <span class="vds-cc-off-tooltip-text">${e}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function _o(){const{translations:a}=P(),t=C(a,"Enter PiP"),e=C(a,"Exit PiP");return u`
    <media-tooltip class="vds-pip-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-pip-button
          class="vds-pip-button vds-button"
          aria-label=${C(a,"PiP")}
        >
          ${Xt(["pip-enter","pip-exit"])}
        </media-pip-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content">
        <span class="vds-pip-enter-tooltip-text">${t}</span>
        <span class="vds-pip-exit-tooltip-text">${e}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Ji({tooltip:a}){const{translations:t}=P(),e=C(t,"Enter Fullscreen"),s=C(t,"Exit Fullscreen");return u`
    <media-tooltip class="vds-fullscreen-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-fullscreen-button
          class="vds-fullscreen-button vds-button"
          aria-label=${C(t,"Fullscreen")}
        >
          ${Xt(["fs-enter","fs-exit"])}
        </media-fullscreen-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${a}>
        <span class="vds-fs-enter-tooltip-text">${e}</span>
        <span class="vds-fs-exit-tooltip-text">${s}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Zi({backward:a,tooltip:t}){const{translations:e,seekStep:s}=P(),i=a?"Seek Backward":"Seek Forward",n=C(e,i);return u`
    <media-tooltip class="vds-seek-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-seek-button
          class="vds-seek-button vds-button"
          seconds=${p(()=>(a?-1:1)*s())}
          aria-label=${n}
        >
          ${tt(a?"seek-backward":"seek-forward")}
        </media-seek-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${t}>
        ${C(e,i)}
      </media-tooltip-content>
    </media-tooltip>
  `}function ta(){const{translations:a}=P(),{live:t}=j(),e=C(a,"Skip To Live"),s=C(a,"LIVE");return t()?u`
        <media-live-button class="vds-live-button" aria-label=${e}>
          <span class="vds-live-button-text">${s}</span>
        </media-live-button>
      `:null}function bs(){return p(()=>{const{download:a,translations:t}=P(),e=a();if(er(e))return null;const{source:s,title:i}=j(),n=s(),r=mi({title:i(),src:n,download:e});return r?u`
          <media-tooltip class="vds-download-tooltip vds-tooltip">
            <media-tooltip-trigger>
              <a
                role="button"
                class="vds-download-button vds-button"
                aria-label=${C(t,"Download")}
                href=${r.url+`?download=${r.name}`}
                download=${r.name}
                target="_blank"
              >
                <slot name="download-icon" data-class="vds-icon" />
              </a>
            </media-tooltip-trigger>
            <media-tooltip-content class="vds-tooltip-content" placement="top">
              ${C(t,"Download")}
            </media-tooltip-content>
          </media-tooltip>
        `:null})}function fs(){const{translations:a}=P();return u`
    <media-captions
      class="vds-captions"
      .exampleText=${C(a,"Captions look like this")}
    ></media-captions>
  `}function mt(){return u`<div class="vds-controls-spacer"></div>`}function ea(a,t){return u`
    <media-menu-portal .container=${p(a)} disabled="fullscreen">
      ${t}
    </media-menu-portal>
  `}function sa(a,t,e,s){let i=E(t)?document.querySelector(t):t;i||(i=a?.closest("dialog")),i||(i=document.body);const n=document.createElement("div");n.style.display="contents",n.classList.add(e),i.append(n),h(()=>{if(!n)return;const{viewType:o}=j(),l=s();b(n,"data-view-type",o()),b(n,"data-sm",l),b(n,"data-lg",!l),b(n,"data-size",l?"sm":"lg")});const{colorScheme:r}=P();return gi(n,r),n}function ia({placement:a,tooltip:t,portal:e}){const{textTracks:s}=f(),{viewType:i,clipStartTime:n,clipEndTime:r}=j(),{translations:o,thumbnails:l,menuPortal:c,noModal:d,menuGroup:g,smallWhen:k}=P();if(L(()=>{const Pt=n(),it=r()||1/0,ft=v(null);return Wt(s,"chapters",ft.set),!ft()?.cues.filter(yt=>yt.startTime<=it&&yt.endTime>=Pt)?.length})())return null;const y=L(()=>d()?ue(a):k()?null:ue(a)),S=L(()=>!k()&&g()==="bottom"&&i()==="video"?26:0),D=v(!1);function F(){D.set(!0)}function ot(){D.set(!1)}const St=u`
    <media-menu-items
      class="vds-chapters-menu-items vds-menu-items"
      placement=${p(y)}
      offset=${p(S)}
    >
      ${p(()=>D()?u`
          <media-chapters-radio-group
            class="vds-chapters-radio-group vds-radio-group"
            .thumbnails=${p(l)}
          >
            <template>
              <media-radio class="vds-chapter-radio vds-radio">
                <media-thumbnail class="vds-thumbnail"></media-thumbnail>
                <div class="vds-chapter-radio-content">
                  <span class="vds-chapter-radio-label" data-part="label"></span>
                  <span class="vds-chapter-radio-start-time" data-part="start-time"></span>
                  <span class="vds-chapter-radio-duration" data-part="duration"></span>
                </div>
              </media-radio>
            </template>
          </media-chapters-radio-group>
        `:null)}
    </media-menu-items>
  `;return u`
    <media-menu class="vds-chapters-menu vds-menu" @open=${F} @close=${ot}>
      <media-tooltip class="vds-tooltip">
        <media-tooltip-trigger>
          <media-menu-button
            class="vds-menu-button vds-button"
            aria-label=${C(o,"Chapters")}
          >
            ${tt("menu-chapters")}
          </media-menu-button>
        </media-tooltip-trigger>
        <media-tooltip-content
          class="vds-tooltip-content"
          placement=${Ye(t)?p(t):t}
        >
          ${C(o,"Chapters")}
        </media-tooltip-content>
      </media-tooltip>
      ${e?ea(c,St):St}
    </media-menu>
  `}function ys(a){const{style:t}=new Option;return t.color=a,t.color.match(/\((.*?)\)/)[1].replace(/,/g," ")}const vs={type:"color"},qo={type:"radio",values:{"Monospaced Serif":"mono-serif","Proportional Serif":"pro-serif","Monospaced Sans-Serif":"mono-sans","Proportional Sans-Serif":"pro-sans",Casual:"casual",Cursive:"cursive","Small Capitals":"capitals"}},Oo={type:"slider",min:0,max:400,step:25,upIcon:null,downIcon:null},Do={type:"slider",min:0,max:100,step:5,upIcon:null,downIcon:null},Io={type:"radio",values:["None","Drop Shadow","Raised","Depressed","Outline"]},Se={fontFamily:"pro-sans",fontSize:"100%",textColor:"#ffffff",textOpacity:"100%",textShadow:"none",textBg:"#000000",textBgOpacity:"100%",displayBg:"#000000",displayBgOpacity:"0%"},At=Object.keys(Se).reduce((a,t)=>({...a,[t]:v(Se[t])}),{});for(const a of Object.keys(At)){const t=localStorage.getItem(`vds-player:${Nt(a)}`);E(t)&&At[a].set(t)}function No(){for(const a of Object.keys(At)){const t=Se[a];At[a].set(t)}}let aa=!1,$s=new Set;function Go(){const{player:a}=f();$s.add(a),A(()=>$s.delete(a)),aa||(he(()=>{for(const t of sr(At)){const e=At[t],s=Se[t],i=`--media-user-${Nt(t)}`,n=`vds-player:${Nt(t)}`;h(()=>{const r=e(),o=r===s,l=o?null:Ho(a,t,r);for(const c of $s)c.el?.style.setProperty(i,l);o?localStorage.removeItem(n):localStorage.setItem(n,r)})}},null),aa=!0)}function Ho(a,t,e){switch(t){case"fontFamily":const s=e==="capitals"?"small-caps":"";return a.el?.style.setProperty("--media-user-font-variant",s),Ro(e);case"fontSize":case"textOpacity":case"textBgOpacity":case"displayBgOpacity":return jo(e);case"textColor":return`rgb(${ys(e)} / var(--media-user-text-opacity, 1))`;case"textShadow":return Fo(e);case"textBg":return`rgb(${ys(e)} / var(--media-user-text-bg-opacity, 1))`;case"displayBg":return`rgb(${ys(e)} / var(--media-user-display-bg-opacity, 1))`}}function jo(a){return(parseInt(a)/100).toString()}function Ro(a){switch(a){case"mono-serif":return'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace';case"mono-sans":return'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace';case"pro-sans":return'Roboto, "Arial Unicode Ms", Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif';case"casual":return'"Comic Sans MS", Impact, Handlee, fantasy';case"cursive":return'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive';case"capitals":return'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif + font-variant=small-caps';default:return'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif'}}function Fo(a){switch(a){case"drop shadow":return"rgb(34, 34, 34) 1.86389px 1.86389px 2.79583px, rgb(34, 34, 34) 1.86389px 1.86389px 3.72778px, rgb(34, 34, 34) 1.86389px 1.86389px 4.65972px";case"raised":return"rgb(34, 34, 34) 1px 1px, rgb(34, 34, 34) 2px 2px";case"depressed":return"rgb(204, 204, 204) 1px 1px, rgb(34, 34, 34) -1px -1px";case"outline":return"rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px, rgb(34, 34, 34) 0px 0px 1.86389px";default:return""}}let Vo=0;function st({label:a="",value:t="",children:e}){if(!a)return u`
      <div class="vds-menu-section">
        <div class="vds-menu-section-body">${e}</div>
      </div>
    `;const s=`vds-menu-section-${++Vo}`;return u`
    <section class="vds-menu-section" role="group" aria-labelledby=${s}>
      <div class="vds-menu-section-title">
        <header id=${s}>${a}</header>
        ${t?u`<div class="vds-menu-section-value">${t}</div>`:null}
      </div>
      <div class="vds-menu-section-body">${e}</div>
    </section>
  `}function Yt({label:a,children:t}){return u`
    <div class="vds-menu-item">
      <div class="vds-menu-item-label">${a}</div>
      ${t}
    </div>
  `}function Lt({label:a,icon:t,hint:e}){return u`
    <media-menu-button class="vds-menu-item">
      ${tt("menu-arrow-left","vds-menu-close-icon")}
      ${t?tt(t,"vds-menu-item-icon"):null}
      <span class="vds-menu-item-label">${p(a)}</span>
      <span class="vds-menu-item-hint" data-part="hint">${e?p(e):null} </span>
      ${tt("menu-arrow-right","vds-menu-open-icon")}
    </media-menu-button>
  `}function Bo({value:a=null,options:t,hideLabel:e=!1,children:s=null,onChange:i=null}){function n(r){const{value:o,label:l}=r;return u`
      <media-radio class="vds-radio" value=${o}>
        ${tt("menu-radio-check")}
        ${e?null:u`
              <span class="vds-radio-label" data-part="label">
                ${E(l)?l:p(l)}
              </span>
            `}
        ${Ye(s)?s(r):s}
      </media-radio>
    `}return u`
    <media-radio-group
      class="vds-radio-group"
      value=${E(a)?a:a?p(a):""}
      @change=${i}
    >
      ${V(t)?t.map(n):p(()=>t().map(n))}
    </media-radio-group>
  `}function Wo(a){return V(a)?a.map(t=>({label:t,value:t.toLowerCase()})):Object.keys(a).map(t=>({label:t,value:a[t]}))}function Pe(){return u`
    <div class="vds-slider-track"></div>
    <div class="vds-slider-track-fill vds-slider-track"></div>
    <div class="vds-slider-thumb"></div>
  `}function Ce(){return u`
    <media-slider-steps class="vds-slider-steps">
      <template>
        <div class="vds-slider-step"></div>
      </template>
    </media-slider-steps>
  `}function Me({label:a=null,value:t=null,upIcon:e="",downIcon:s="",children:i,isMin:n,isMax:r}){const o=a||t,l=[s?tt(s,"down"):null,i,e?tt(e,"up"):null];return u`
    <div
      class=${`vds-menu-item vds-menu-slider-item${o?" group":""}`}
      data-min=${p(()=>n()?"":null)}
      data-max=${p(()=>r()?"":null)}
    >
      ${o?u`
            <div class="vds-menu-slider-title">
              ${[a?u`<div>${a}</div>`:null,t?u`<div>${t}</div>`:null]}
            </div>
            <div class="vds-menu-slider-body">${l}</div>
          `:l}
    </div>
  `}const Qo={...Oo,upIcon:"menu-opacity-up",downIcon:"menu-opacity-down"},ks={...Do,upIcon:"menu-opacity-up",downIcon:"menu-opacity-down"};function Ko(){return p(()=>{const{hasCaptions:a}=j(),{translations:t}=P();return a()?u`
      <media-menu class="vds-font-menu vds-menu">
        ${Lt({label:()=>z(t,"Caption Styles")})}
        <media-menu-items class="vds-menu-items">
          ${[st({label:C(t,"Font"),children:[Uo(),Xo()]}),st({label:C(t,"Text"),children:[Yo(),Jo(),zo()]}),st({label:C(t,"Text Background"),children:[Zo(),tl()]}),st({label:C(t,"Display Background"),children:[el(),sl()]}),st({children:[il()]})]}
        </media-menu-items>
      </media-menu>
    `:null})}function Uo(){return gt({label:"Family",option:qo,type:"fontFamily"})}function Xo(){return gt({label:"Size",option:Qo,type:"fontSize"})}function Yo(){return gt({label:"Color",option:vs,type:"textColor"})}function zo(){return gt({label:"Opacity",option:ks,type:"textOpacity"})}function Jo(){return gt({label:"Shadow",option:Io,type:"textShadow"})}function Zo(){return gt({label:"Color",option:vs,type:"textBg"})}function tl(){return gt({label:"Opacity",option:ks,type:"textBgOpacity"})}function el(){return gt({label:"Color",option:vs,type:"displayBg"})}function sl(){return gt({label:"Opacity",option:ks,type:"displayBgOpacity"})}function il(){const{translations:a}=P();return u`
    <button class="vds-menu-item" role="menuitem" @click=${No}>
      <span class="vds-menu-item-label">${p(()=>z(a,"Reset"))}</span>
    </button>
  `}function gt({label:a,option:t,type:e}){const{player:s}=f(),{translations:i}=P(),n=At[e],r=()=>z(i,a);function o(){ht(),s.dispatchEvent(new Event("vds-font-change"))}if(t.type==="color"){let d=function(g){n.set(g.target.value),o()};return Yt({label:p(r),children:u`
        <input
          class="vds-color-picker"
          type="color"
          .value=${p(n)}
          @input=${d}
        />
      `})}if(t.type==="slider"){let d=function(F){n.set(F.detail+"%"),o()};const{min:g,max:k,step:y,upIcon:S,downIcon:D}=t;return Me({label:p(r),value:p(n),upIcon:S,downIcon:D,isMin:()=>n()===g+"%",isMax:()=>n()===k+"%",children:u`
        <media-slider
          class="vds-slider"
          min=${g}
          max=${k}
          step=${y}
          key-step=${y}
          .value=${p(()=>parseInt(n()))}
          aria-label=${p(r)}
          @value-change=${d}
          @drag-value-change=${d}
        >
          ${Pe()}${Ce()}
        </media-slider>
      `})}const l=Wo(t.values),c=()=>{const d=n(),g=l.find(k=>k.value===d)?.label||"";return z(i,E(g)?g:g())};return u`
    <media-menu class=${`vds-${Nt(e)}-menu vds-menu`}>
      ${Lt({label:r,hint:c})}
      <media-menu-items class="vds-menu-items">
        ${Bo({value:n,options:l,onChange({detail:d}){n.set(d),o()}})}
      </media-menu-items>
    </media-menu>
  `}function al(a){return a?"true":"false"}function Q(a){return()=>al(a())}function Ee({label:a,checked:t,defaultChecked:e=!1,storageKey:s,onChange:i}){const{translations:n}=P(),r=s?localStorage.getItem(s):null,o=v(!!(r??e)),l=v(!1),c=p(Q(o)),d=C(n,a);s&&i(m(o)),t&&h(()=>void o.set(t()));function g(S){S?.button!==1&&(o.set(D=>!D),s&&localStorage.setItem(s,o()?"1":""),i(o(),S),l.set(!1))}function k(S){re(S)&&g()}function y(S){S.button===0&&l.set(!0)}return u`
    <div
      class="vds-menu-checkbox"
      role="menuitemcheckbox"
      tabindex="0"
      aria-label=${d}
      aria-checked=${c}
      data-active=${p(()=>l()?"":null)}
      @pointerup=${g}
      @pointerdown=${y}
      @keydown=${k}
    ></div>
  `}function nl(){return p(()=>{const{translations:a}=P();return u`
      <media-menu class="vds-accessibility-menu vds-menu">
        ${Lt({label:()=>z(a,"Accessibility"),icon:"menu-accessibility"})}
        <media-menu-items class="vds-menu-items">
          ${[st({children:[rl(),ol()]}),st({children:[Ko()]})]}
        </media-menu-items>
      </media-menu>
    `})}function rl(){const{userPrefersAnnouncements:a,translations:t}=P(),e="Announcements";return Yt({label:C(t,e),children:Ee({label:e,storageKey:"vds-player::announcements",onChange(s){a.set(s)}})})}function ol(){return p(()=>{const{translations:a,userPrefersKeyboardAnimations:t,noKeyboardAnimations:e}=P(),{viewType:s}=j();if(L(()=>s()!=="video"||e())())return null;const i="Keyboard Animations";return Yt({label:C(a,i),children:Ee({label:i,defaultChecked:!0,storageKey:"vds-player::keyboard-animations",onChange(n){t.set(n)}})})})}function ll(){return p(()=>{const{noAudioGain:a,translations:t}=P(),{audioTracks:e,canSetAudioGain:s}=j();return L(()=>!(s()&&!a())&&e().length<=1)()?null:u`
      <media-menu class="vds-audio-menu vds-menu">
        ${Lt({label:()=>z(t,"Audio"),icon:"menu-audio"})}
        <media-menu-items class="vds-menu-items">
          ${[hl(),cl()]}
        </media-menu-items>
      </media-menu>
    `})}function hl(){return p(()=>{const{translations:a}=P(),{audioTracks:t}=j(),e=C(a,"Default");return L(()=>t().length<=1)()?null:st({children:u`
        <media-menu class="vds-audio-tracks-menu vds-menu">
          ${Lt({label:()=>z(a,"Track")})}
          <media-menu-items class="vds-menu-items">
            <media-audio-radio-group
              class="vds-audio-track-radio-group vds-radio-group"
              empty-label=${e}
            >
              <template>
                <media-radio class="vds-audio-track-radio vds-radio">
                  <slot name="menu-radio-check-icon" data-class="vds-icon"></slot>
                  <span class="vds-radio-label" data-part="label"></span>
                </media-radio>
              </template>
            </media-audio-radio-group>
          </media-menu-items>
        </media-menu>
      `})})}function cl(){return p(()=>{const{noAudioGain:a,translations:t}=P(),{canSetAudioGain:e}=j();if(L(()=>!e()||a())())return null;const{audioGain:s}=j();return st({label:C(t,"Boost"),value:p(()=>Math.round(((s()??1)-1)*100)+"%"),children:[Me({upIcon:"menu-audio-boost-up",downIcon:"menu-audio-boost-down",children:dl(),isMin:()=>((s()??1)-1)*100<=na(),isMax:()=>((s()??1)-1)*100===ra()})]})})}function dl(){const{translations:a}=P(),t=C(a,"Boost"),e=na,s=ra,i=ul;return u`
    <media-audio-gain-slider
      class="vds-audio-gain-slider vds-slider"
      aria-label=${t}
      min=${p(e)}
      max=${p(s)}
      step=${p(i)}
      key-step=${p(i)}
    >
      ${Pe()}${Ce()}
    </media-audio-gain-slider>
  `}function na(){const{audioGains:a}=P(),t=a();return V(t)?t[0]??0:t.min}function ra(){const{audioGains:a}=P(),t=a();return V(t)?t[t.length-1]??300:t.max}function ul(){const{audioGains:a}=P(),t=a();return V(t)?t[1]-t[0]||25:t.step}function pl(){return p(()=>{const{translations:a}=P(),{hasCaptions:t}=j(),e=C(a,"Off");return t()?u`
      <media-menu class="vds-captions-menu vds-menu">
        ${Lt({label:()=>z(a,"Captions"),icon:"menu-captions"})}
        <media-menu-items class="vds-menu-items">
          <media-captions-radio-group
            class="vds-captions-radio-group vds-radio-group"
            off-label=${e}
          >
            <template>
              <media-radio class="vds-caption-radio vds-radio">
                <slot name="menu-radio-check-icon" data-class="vds-icon"></slot>
                <span class="vds-radio-label" data-part="label"></span>
              </media-radio>
            </template>
          </media-captions-radio-group>
        </media-menu-items>
      </media-menu>
    `:null})}function ws(a,t){return[...a].sort(t?gl:ml)}function ml(a,t){return a.height===t.height?(a.bitrate??0)-(t.bitrate??0):a.height-t.height}function gl(a,t){return t.height===a.height?(t.bitrate??0)-(a.bitrate??0):t.height-a.height}function bl(){return p(()=>{const{translations:a}=P();return u`
      <media-menu class="vds-playback-menu vds-menu">
        ${Lt({label:()=>z(a,"Playback"),icon:"menu-playback"})}
        <media-menu-items class="vds-menu-items">
          ${[st({children:fl()}),yl(),wl()]}
        </media-menu-items>
      </media-menu>
    `})}function fl(){const{remote:a}=f(),{translations:t}=P(),e="Loop";return Yt({label:C(t,e),children:Ee({label:e,storageKey:"vds-player::user-loop",onChange(s,i){a.userPrefersLoopChange(s,i)}})})}function yl(){return p(()=>{const{translations:a}=P(),{canSetPlaybackRate:t,playbackRate:e}=j();return t()?st({label:C(a,"Speed"),value:p(()=>e()===1?z(a,"Normal"):e()+"x"),children:[Me({upIcon:"menu-speed-up",downIcon:"menu-speed-down",children:$l(),isMin:()=>e()===oa(),isMax:()=>e()===la()})]}):null})}function oa(){const{playbackRates:a}=P(),t=a();return V(t)?t[0]??0:t.min}function la(){const{playbackRates:a}=P(),t=a();return V(t)?t[t.length-1]??2:t.max}function vl(){const{playbackRates:a}=P(),t=a();return V(t)?t[1]-t[0]||.25:t.step}function $l(){const{translations:a}=P(),t=C(a,"Speed"),e=oa,s=la,i=vl;return u`
    <media-speed-slider
      class="vds-speed-slider vds-slider"
      aria-label=${t}
      min=${p(e)}
      max=${p(s)}
      step=${p(i)}
      key-step=${p(i)}
    >
      ${Pe()}${Ce()}
    </media-speed-slider>
  `}function kl(){const{remote:a,qualities:t}=f(),{autoQuality:e,canSetQuality:s,qualities:i}=j(),{translations:n}=P(),r="Auto";return L(()=>!s()||i().length<=1)()?null:Yt({label:C(n,r),children:Ee({label:r,checked:e,onChange(o,l){o?a.requestAutoQuality(l):a.changeQuality(t.selectedIndex,l)}})})}function wl(){return p(()=>{const{hideQualityBitrate:a,translations:t}=P(),{canSetQuality:e,qualities:s,quality:i}=j(),n=L(()=>!e()||s().length<=1),r=L(()=>ws(s()));return n()?null:st({label:C(t,"Quality"),value:p(()=>{const o=i()?.height,l=a()?null:i()?.bitrate,c=l&&l>0?`${(l/1e6).toFixed(2)} Mbps`:null,d=z(t,"Auto");return o?`${o}p${c?` (${c})`:""}`:d}),children:[Me({upIcon:"menu-quality-up",downIcon:"menu-quality-down",children:Tl(),isMin:()=>r()[0]===i(),isMax:()=>r().at(-1)===i()}),kl()]})})}function Tl(){const{translations:a}=P(),t=C(a,"Quality");return u`
    <media-quality-slider class="vds-quality-slider vds-slider" aria-label=${t}>
      ${Pe()}${Ce()}
    </media-quality-slider>
  `}function ha({placement:a,portal:t,tooltip:e}){return p(()=>{const{viewType:s}=j(),{translations:i,menuPortal:n,noModal:r,menuGroup:o,smallWhen:l}=P(),c=L(()=>r()?ue(a):l()?null:ue(a)),d=L(()=>!l()&&o()==="bottom"&&s()==="video"?26:0),g=v(!1);Go();function k(){g.set(!0)}function y(){g.set(!1)}const S=u`
      <media-menu-items
        class="vds-settings-menu-items vds-menu-items"
        placement=${p(c)}
        offset=${p(d)}
      >
        ${p(()=>g()?[bl(),nl(),ll(),pl()]:null)}
      </media-menu-items>
    `;return u`
      <media-menu class="vds-settings-menu vds-menu" @open=${k} @close=${y}>
        <media-tooltip class="vds-tooltip">
          <media-tooltip-trigger>
            <media-menu-button
              class="vds-menu-button vds-button"
              aria-label=${C(i,"Settings")}
            >
              ${tt("menu-settings","vds-rotate-icon")}
            </media-menu-button>
          </media-tooltip-trigger>
          <media-tooltip-content
            class="vds-tooltip-content"
            placement=${Ye(e)?p(e):e}
          >
            ${C(i,"Settings")}
          </media-tooltip-content>
        </media-tooltip>
        ${t?ea(n,S):S}
      </media-menu>
    `})}function Ts({orientation:a,tooltip:t}){return p(()=>{const{pointer:e,muted:s,canSetVolume:i}=j();if(e()==="coarse"&&!s())return null;if(!i())return zi({tooltip:t});const n=v(void 0),r=Pr(n);return u`
      <div class="vds-volume" ?data-active=${p(r)} ${de(n.set)}>
        ${zi({tooltip:t})}
        <div class="vds-volume-popup">${xl({orientation:a})}</div>
      </div>
    `})}function xl({orientation:a}={}){const{translations:t}=P(),e=C(t,"Volume");return u`
    <media-volume-slider
      class="vds-volume-slider vds-slider"
      aria-label=${e}
      orientation=${Xe(a)}
    >
      <div class="vds-slider-track"></div>
      <div class="vds-slider-track-fill vds-slider-track"></div>
      <media-slider-preview class="vds-slider-preview" no-clamp>
        <media-slider-value class="vds-slider-value"></media-slider-value>
      </media-slider-preview>
      <div class="vds-slider-thumb"></div>
    </media-volume-slider>
  `}function xs(){const a=v(void 0),t=v(0),{thumbnails:e,translations:s,sliderChaptersMinWidth:i,disableTimeSlider:n,seekStep:r,noScrubGesture:o}=P(),l=C(s,"Seek"),c=p(n),d=p(()=>t()<i()),g=p(e);return bi(a,()=>{const k=a();k&&t.set(k.clientWidth)}),u`
    <media-time-slider
      class="vds-time-slider vds-slider"
      aria-label=${l}
      key-step=${p(r)}
      ?disabled=${c}
      ?no-swipe-gesture=${p(o)}
      ${de(a.set)}
    >
      <media-slider-chapters class="vds-slider-chapters" ?disabled=${d}>
        <template>
          <div class="vds-slider-chapter">
            <div class="vds-slider-track"></div>
            <div class="vds-slider-track-fill vds-slider-track"></div>
            <div class="vds-slider-progress vds-slider-track"></div>
          </div>
        </template>
      </media-slider-chapters>
      <div class="vds-slider-thumb"></div>
      <media-slider-preview class="vds-slider-preview">
        <media-slider-thumbnail
          class="vds-slider-thumbnail vds-thumbnail"
          .src=${g}
        ></media-slider-thumbnail>
        <div class="vds-slider-chapter-title" data-part="chapter-title"></div>
        <media-slider-value class="vds-slider-value"></media-slider-value>
      </media-slider-preview>
    </media-time-slider>
  `}function Sl(){return u`
    <div class="vds-time-group">
      ${p(()=>{const{duration:a}=j();return a()?[u`<media-time class="vds-time" type="current"></media-time>`,u`<div class="vds-time-divider">/</div>`,u`<media-time class="vds-time" type="duration"></media-time>`]:null})}
    </div>
  `}function Pl(){return p(()=>{const{live:a,duration:t}=j();return a()?ta():t()?u`<media-time class="vds-time" type="current" toggle remainder></media-time>`:null})}function ca(){return p(()=>{const{live:a}=j();return a()?ta():Sl()})}function da(){return p(()=>{const{textTracks:a}=f(),{title:t,started:e}=j(),s=v(null);return Wt(a,"chapters",s.set),s()&&(e()||!t())?ua():u`<media-title class="vds-chapter-title"></media-title>`})}function ua(){return u`<media-chapter-title class="vds-chapter-title"></media-chapter-title>`}function Cl(){return[ps(),fs(),u`
      <media-controls class="vds-controls">
        <media-controls-group class="vds-controls-group">
          ${[Zi({backward:!0,tooltip:"top start"}),xe({tooltip:"top"}),Zi({tooltip:"top"}),Ml(),xs(),Pl(),Ts({orientation:"vertical",tooltip:"top"}),gs({tooltip:"top"}),bs(),ms({tooltip:"top"}),El()]}
        </media-controls-group>
      </media-controls>
    `]}function Ml(){return p(()=>{let a=v(void 0),t=v(!1),e=f(),{title:s,started:i,currentTime:n,ended:r}=j(),{translations:o}=P(),l=Cr(a),c=()=>i()||n()>0;const d=()=>{const y=r()?"Replay":c()?"Continue":"Play";return`${z(o,y)}: ${s()}`};h(()=>{l()&&document.activeElement===document.body&&e.player.el?.focus()});function g(){const y=a(),S=!!y&&!l()&&y.clientWidth<y.children[0].clientWidth;y&&ir(y,"vds-marquee",S),t.set(S)}function k(){return u`
        <span class="vds-title-text">
          ${p(d)}${p(()=>c()?ua():null)}
        </span>
      `}return bi(a,g),s()?u`
          <span class="vds-title" title=${p(d)} ${de(a.set)}>
            ${[k(),p(()=>t()&&!l()?k():null)]}
          </span>
        `:mt()})}function El(){const a="top end";return[ia({tooltip:"top",placement:a,portal:!0}),ha({tooltip:"top end",placement:a,portal:!0})]}function pa({name:a,class:t,state:e,paths:s,viewBox:i="0 0 32 32"}){return u`<svg
    class="${"vds-icon"+(t?` ${t}`:"")}"
    viewBox="${i}"
    fill="none"
    aria-hidden="true"
    focusable="false"
    xmlns="http://www.w3.org/2000/svg"
    data-icon=${Xe(a??e)}
  >
    ${E(s)?ar(s):p(s)}
  </svg>`}class Al{constructor(t){this._m=t,this.dn={},this.gn=!1,this.slots=new Xi(t,this.hn.bind(this))}connect(){this.slots.connect()}load(){this.Pf().then(t=>{this.dn=t,this.gn=!0,this.hn()})}*jn(){for(const t of Object.keys(this.dn)){const e=`${t}-icon`;for(const s of this.slots.elements)s.name===e&&(yield{icon:this.dn[t],slot:s})}}hn(){if(this.gn)for(const{icon:t,slot:e}of this.jn())this.slots.assign(t,e)}}class ma extends Al{connect(){super.connect();const{player:t}=f();if(!t.el)return;let e,s=new IntersectionObserver(i=>{i[0]?.isIntersecting&&(e?.(),e=void 0,this.load())});s.observe(t.el),e=A(()=>s.disconnect())}}class ga extends ma{async Pf(){const t=(await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-BHn7CQ5C.js")).icons,e={};for(const s of Object.keys(t))e[s]=pa({name:s,paths:t[s]});return e}}class Ss extends T(we,Eo){constructor(){super(...arguments),this.en=v(!1)}onSetup(){this.forwardKeepAlive=!1,this.a=f(),this.classList.add("vds-audio-layout"),this.Fn()}onConnect(){Ui("audio",()=>this.isMatch),this.En()}render(){return p(this.Zm.bind(this))}Zm(){return this.isMatch?Cl():null}En(){const{menuPortal:t}=P();h(()=>{if(!this.isMatch)return;const e=sa(this,this.menuContainer,"vds-audio-layout",()=>this.isSmallLayout),s=e?[this,e]:[this];return(this.$props.customIcons()?new us(s):new ga(s)).connect(),t.set(e),()=>{e.remove(),t.set(null)}})}Fn(){const{pointer:t}=this.a.$state;h(()=>{t()==="coarse"&&h(this.rn.bind(this))})}rn(){if(!this.en()){$(this,"pointerdown",this.sn.bind(this),{capture:!0});return}$(this,"pointerdown",t=>t.stopPropagation()),$(window,"pointerdown",this.tn.bind(this))}sn(t){const{target:e}=t;wt(e)&&e.closest(".vds-time-slider")&&(t.stopImmediatePropagation(),this.setAttribute("data-scrubbing",""),this.en.set(!0))}tn(){this.en.set(!1),this.removeAttribute("data-scrubbing")}}Ss.tagName="media-audio-layout",Ss.attrs={smallWhen:{converter(a){return a!=="never"&&!!a}}};var Ll=Object.getPrototypeOf,_l=Reflect.get,ql=(a,t,e)=>_l(Ll(a),e,t);const Ae=class extends Ut{};Ae.props={...ql(Ae,Ae,"props"),when:({viewType:a})=>a==="video",smallWhen:({width:a,height:t})=>a<576||t<380};let Ol=Ae;function ba(){return p(()=>{const a=f(),{noKeyboardAnimations:t,userPrefersKeyboardAnimations:e}=P();if(L(()=>t()||!e())())return null;const s=v(!1),{lastKeyboardAction:i}=a.$state;h(()=>{s.set(!!i());const d=setTimeout(()=>s.set(!1),500);return()=>{s.set(!1),window.clearTimeout(d)}});const n=L(()=>{const d=i()?.action;return d&&s()?Nt(d):null}),r=L(()=>`vds-kb-action${s()?"":" hidden"}`),o=L(Dl),l=L(()=>{const d=Il();return d?Mr(d):null});function c(){const d=l();return d?u`
        <div class="vds-kb-bezel">
          <div class="vds-kb-icon">${d}</div>
        </div>
      `:null}return u`
      <div class=${p(r)} data-action=${p(n)}>
        <div class="vds-kb-text-wrapper">
          <div class="vds-kb-text">${p(o)}</div>
        </div>
        ${p(()=>nr(i(),c()))}
      </div>
    `})}function Dl(){const{$state:a}=f(),t=a.lastKeyboardAction()?.action,e=a.audioGain()??1;switch(t){case"toggleMuted":return a.muted()?"0%":fa(a.volume(),e);case"volumeUp":case"volumeDown":return fa(a.volume(),e);default:return""}}function fa(a,t){return`${Math.round(a*t*100)}%`}function Il(){const{$state:a}=f();switch(a.lastKeyboardAction()?.action){case"togglePaused":return a.paused()?"kb-pause-icon":"kb-play-icon";case"toggleMuted":return a.muted()||a.volume()===0?"kb-mute-icon":a.volume()>=.5?"kb-volume-up-icon":"kb-volume-down-icon";case"toggleFullscreen":return`kb-fs-${a.fullscreen()?"enter":"exit"}-icon`;case"togglePictureInPicture":return`kb-pip-${a.pictureInPicture()?"enter":"exit"}-icon`;case"toggleCaptions":return a.hasCaptions()?`kb-cc-${a.textTrack()?"on":"off"}-icon`:null;case"volumeUp":return"kb-volume-up-icon";case"volumeDown":return"kb-volume-down-icon";case"seekForward":return"kb-seek-forward-icon";case"seekBackward":return"kb-seek-backward-icon";default:return null}}function Nl(){return[ps(),ya(),Le(),ba(),fs(),u`<div class="vds-scrim"></div>`,u`
      <media-controls class="vds-controls">
        ${[Hl(),mt(),u`<media-controls-group class="vds-controls-group"></media-controls-group>`,mt(),u`
            <media-controls-group class="vds-controls-group">
              ${xs()}
            </media-controls-group>
          `,u`
            <media-controls-group class="vds-controls-group">
              ${[xe({tooltip:"top start"}),Ts({orientation:"horizontal",tooltip:"top"}),ca(),da(),gs({tooltip:"top"}),Gl(),ms({tooltip:"top"}),Yi({tooltip:"top"}),bs(),_o(),Ji({tooltip:"top end"})]}
            </media-controls-group>
          `]}
      </media-controls>
    `]}function Gl(){return p(()=>{const{menuGroup:a}=P();return a()==="bottom"?Ps():null})}function Hl(){return u`
    <media-controls-group class="vds-controls-group">
      ${p(()=>{const{menuGroup:a}=P();return a()==="top"?[mt(),Ps()]:null})}
    </media-controls-group>
  `}function jl(){return[ps(),ya(),Le(),fs(),ba(),u`<div class="vds-scrim"></div>`,u`
      <media-controls class="vds-controls">
        <media-controls-group class="vds-controls-group">
          ${[ms({tooltip:"top start"}),Yi({tooltip:"bottom start"}),mt(),gs({tooltip:"bottom"}),bs(),Ps(),Ts({orientation:"vertical",tooltip:"bottom end"})]}
        </media-controls-group>

        ${mt()}

        <media-controls-group class="vds-controls-group" style="pointer-events: none;">
          ${[mt(),xe({tooltip:"top"}),mt()]}
        </media-controls-group>

        ${mt()}

        <media-controls-group class="vds-controls-group">
          ${[ca(),da(),Ji({tooltip:"top end"})]}
        </media-controls-group>

        <media-controls-group class="vds-controls-group">
          ${xs()}
        </media-controls-group>
      </media-controls>
    `,Fl()]}function Rl(){return u`
    <div class="vds-load-container">
      ${[Le(),xe({tooltip:"top"})]}
    </div>
  `}function Fl(){return p(()=>{const{duration:a}=j();return a()===0?null:u`
      <div class="vds-start-duration">
        <media-time class="vds-time" type="duration"></media-time>
      </div>
    `})}function Le(){return u`
    <div class="vds-buffering-indicator">
      <media-spinner class="vds-buffering-spinner"></media-spinner>
    </div>
  `}function Ps(){const{menuGroup:a,smallWhen:t}=P(),e=()=>a()==="top"||t()?"bottom":"top",s=L(()=>`${e()} ${a()==="top"?"end":"center"}`),i=L(()=>`${e()} end`);return[ia({tooltip:s,placement:i,portal:!0}),ha({tooltip:s,placement:i,portal:!0})]}function ya(){return p(()=>{const{noGestures:a}=P();return a()?null:u`
      <div class="vds-gestures">
        <media-gesture class="vds-gesture" event="pointerup" action="toggle:paused"></media-gesture>
        <media-gesture
          class="vds-gesture"
          event="pointerup"
          action="toggle:controls"
        ></media-gesture>
        <media-gesture
          class="vds-gesture"
          event="dblpointerup"
          action="toggle:fullscreen"
        ></media-gesture>
        <media-gesture class="vds-gesture" event="dblpointerup" action="seek:-10"></media-gesture>
        <media-gesture class="vds-gesture" event="dblpointerup" action="seek:10"></media-gesture>
      </div>
    `})}class Cs extends T(we,Ol){onSetup(){this.forwardKeepAlive=!1,this.a=f(),this.classList.add("vds-video-layout")}onConnect(){Ui("video",()=>this.isMatch),this.En()}render(){return p(this.Zm.bind(this))}En(){const{menuPortal:t}=P();h(()=>{if(!this.isMatch)return;const e=sa(this,this.menuContainer,"vds-video-layout",()=>this.isSmallLayout),s=e?[this,e]:[this];return(this.$props.customIcons()?new us(s):new ga(s)).connect(),t.set(e),()=>{e.remove(),t.set(null)}})}Zm(){const{load:t}=this.a.$props,{canLoad:e,streamType:s,nativeControls:i}=this.a.$state;return!i()&&this.isMatch?t()==="play"&&!e()?Rl():s()==="unknown"?Le():this.isSmallLayout?jl():Nl():null}}Cs.tagName="media-video-layout",Cs.attrs={smallWhen:{converter(a){return a!=="never"&&!!a}}};const va=lt();function N(){return G(va)}const Vl={clickToPlay:!0,clickToFullscreen:!0,controls:["play-large","play","progress","current-time","mute+volume","captions","settings","pip","airplay","fullscreen"],customIcons:!1,displayDuration:!1,download:null,markers:null,invertTime:!0,thumbnails:null,toggleTime:!0,translations:null,seekTime:10,speed:[.5,.75,1,1.25,1.5,1.75,2,4]};class $a extends x{onSetup(){this.a=f(),J(va,{...this.$props,previewTime:v(0)})}}$a.props=Vl;function Bl(a,t){const{canAirPlay:e,canFullscreen:s,canPictureInPicture:i,controlsHidden:n,currentTime:r,fullscreen:o,hasCaptions:l,isAirPlayConnected:c,paused:d,pictureInPicture:g,playing:k,pointer:y,poster:S,textTrack:D,viewType:F,waiting:ot}=t.$state;a.classList.add("plyr"),a.classList.add("plyr--full-ui");const St={"plyr--airplay-active":c,"plyr--airplay-supported":e,"plyr--fullscreen-active":o,"plyr--fullscreen-enabled":s,"plyr--hide-controls":n,"plyr--is-touch":()=>y()==="coarse","plyr--loading":ot,"plyr--paused":d,"plyr--pip-active":g,"plyr--pip-enabled":i,"plyr--playing":k,"plyr__poster-enabled":S,"plyr--stopped":()=>d()&&r()===0,"plyr--captions-active":D,"plyr--captions-enabled":l},Pt=oi();for(const it of Object.keys(St))Pt.add(h(()=>void a.classList.toggle(it,!!St[it]())));return Pt.add(h(()=>{const it=`plyr--${F()}`;return a.classList.add(it),()=>a.classList.remove(it)}),h(()=>{const{$provider:it}=t,ft=it()?.type,yt=`plyr--${Wl(ft)?"html5":ft}`;return a.classList.toggle(yt,!!ft),()=>a.classList.remove(yt)})),()=>Pt.empty()}function Wl(a){return a==="audio"||a==="video"}class Ql extends ma{async Pf(){const t=(await import("https://cdn.jsdelivr.net/npm/@vidstack/cdn@1.11.29/chunks/vidstack-ClVNksSD.js")).icons,e={};for(const s of Object.keys(t))e[s]=pa({name:s,paths:t[s],viewBox:"0 0 18 18"});return e}}function _e(a,t){return a()?.[t]??t}function Kl(){return zl()}function Ul(){const a=f(),{load:t}=a.$props,{canLoad:e}=a.$state;return L(()=>t()==="play"&&!e())()?[ka(),wa()]:[Xl(),Yl(),wa(),Jl(),ph(),mh()]}function ka(){const a=f(),{translations:t}=N(),{title:e}=a.$state,s=p(()=>`${_e(t,"Play")}, ${e()}`);return u`
    <media-play-button
      class="plyr__control plyr__control--overlaid"
      aria-label=${s}
      data-plyr="play"
    >
      <slot name="play-icon"></slot>
    </button>
  `}function Xl(){const{controls:a}=N();return p(()=>a().includes("play-large")?ka():null)}function Yl(){const{thumbnails:a,previewTime:t}=N();return u`
    <media-thumbnail
      .src=${p(a)}
      class="plyr__preview-scrubbing"
      time=${p(()=>t())}
    ></media-thumbnail>
  `}function wa(){const a=f(),{poster:t}=a.$state,e=p(()=>`background-image: url("${t()}");`);return u`<div class="plyr__poster" style=${e}></div>`}function zl(){const a=new Set(["captions","pip","airplay","fullscreen"]),{controls:t}=N(),e=p(()=>t().filter(s=>!a.has(s)).map(Ta));return u`<div class="plyr__controls">${e}</div>`}function Jl(){const{controls:a}=N(),t=p(()=>a().map(Ta));return u`<div class="plyr__controls">${t}</div>`}function Ta(a){switch(a){case"airplay":return Zl();case"captions":return th();case"current-time":return dh();case"download":return uh();case"duration":return xa();case"fast-forward":return oh();case"fullscreen":return eh();case"mute":case"volume":case"mute+volume":return hh(a);case"pip":return ih();case"play":return ah();case"progress":return lh();case"restart":return nh();case"rewind":return rh();case"settings":return gh();default:return null}}function Zl(){const{translations:a}=N();return u`
    <media-airplay-button class="plyr__controls__item plyr__control" data-plyr="airplay">
      <slot name="airplay-icon"></slot>
      <span class="plyr__tooltip">${H(a,"AirPlay")}</span>
    </media-airplay-button>
  `}function th(){const{translations:a}=N(),t=H(a,"Disable captions"),e=H(a,"Enable captions");return u`
    <media-caption-button
      class="plyr__controls__item plyr__control"
      data-no-label
      data-plyr="captions"
    >
      <slot name="captions-on-icon" data-class="icon--pressed"></slot>
      <slot name="captions-off-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${t}</span>
      <span class="label--not-pressed plyr__tooltip">${e}</span>
    </media-caption-button>
  `}function eh(){const{translations:a}=N(),t=H(a,"Enter Fullscreen"),e=H(a,"Exit Fullscreen");return u`
    <media-fullscreen-button
      class="plyr__controls__item plyr__control"
      data-no-label
      data-plyr="fullscreen"
    >
      <slot name="enter-fullscreen-icon" data-class="icon--pressed"></slot>
      <slot name="exit-fullscreen-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${e}</span>
      <span class="label--not-pressed plyr__tooltip">${t}</span>
    </media-fullscreen-button>
  `}function sh(){const{translations:a}=N(),t=H(a,"Mute"),e=H(a,"Unmute");return u`
    <media-mute-button class="plyr__control" data-no-label data-plyr="mute">
      <slot name="muted-icon" data-class="icon--pressed"></slot>
      <slot name="volume-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${e}</span>
      <span class="label--not-pressed plyr__tooltip">${t}</span>
    </media-mute-button>
  `}function ih(){const{translations:a}=N(),t=H(a,"Enter PiP"),e=H(a,"Exit PiP");return u`
    <media-pip-button class="plyr__controls__item plyr__control" data-no-label data-plyr="pip">
      <slot name="pip-icon"></slot>
      <slot name="enter-pip-icon" data-class="icon--pressed"></slot>
      <slot name="exit-pip-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${e}</span>
      <span class="label--not-pressed plyr__tooltip">${t}</span>
    </media-pip-button>
  `}function ah(){const{translations:a}=N(),t=H(a,"Play"),e=H(a,"Pause");return u`
    <media-play-button class="plyr__controls__item plyr__control" data-no-label data-plyr="play">
      <slot name="pause-icon" data-class="icon--pressed"></slot>
      <slot name="play-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${e}</span>
      <span class="label--not-pressed plyr__tooltip">${t}</span>
    </media-play-button>
  `}function nh(){const{translations:a}=N(),{remote:t}=f(),e=H(a,"Restart");function s(i){le(i)&&!re(i)||t.seek(0,i)}return u`
    <button
      type="button"
      class="plyr__control"
      data-plyr="restart"
      @pointerup=${s}
      @keydown=${s}
    >
      <slot name="restart-icon"></slot>
      <span class="plyr__tooltip">${e}</span>
    </button>
  `}function rh(){const{translations:a,seekTime:t}=N(),e=p(()=>`${_e(a,"Rewind")} ${t()}s`),s=p(()=>-1*t());return u`
    <media-seek-button
      class="plyr__controls__item plyr__control"
      seconds=${s}
      data-no-label
      data-plyr="rewind"
    >
      <slot name="rewind-icon"></slot>
      <span class="plyr__tooltip">${e}</span>
    </media-seek-button>
  `}function oh(){const{translations:a,seekTime:t}=N(),e=p(()=>`${_e(a,"Forward")} ${t()}s`),s=p(t);return u`
    <media-seek-button
      class="plyr__controls__item plyr__control"
      seconds=${s}
      data-no-label
      data-plyr="fast-forward"
    >
      <slot name="fast-forward-icon"></slot>
      <span class="plyr__tooltip">${e}</span>
    </media-seek-button>
  `}function lh(){let a=f(),{duration:t,viewType:e}=a.$state,{translations:s,markers:i,thumbnails:n,seekTime:r,previewTime:o}=N(),l=H(s,"Seek"),c=v(null),d=p(()=>{const F=c();return F?u`<span class="plyr__progress__marker-label">${li(F.label)}<br /></span>`:null});function g(F){o.set(F.detail)}function k(){c.set(this)}function y(){c.set(null)}function S(){const F=n(),ot=p(()=>e()==="audio");return F?u`
          <media-slider-preview class="plyr__slider__preview" ?no-clamp=${ot}>
            <media-slider-thumbnail .src=${F} class="plyr__slider__preview__thumbnail">
              <span class="plyr__slider__preview__time-container">
                ${d}
                <media-slider-value class="plyr__slider__preview__time"></media-slider-value>
              </span>
            </media-slider-thumbnail>
          </media-slider-preview>
        `:u`
          <span class="plyr__tooltip">
            ${d}
            <media-slider-value></media-slider-value>
          </span>
        `}function D(){const F=t();return Number.isFinite(F)?i()?.map(ot=>u`
        <span
          class="plyr__progress__marker"
          @mouseenter=${k.bind(ot)}
          @mouseleave=${y}
          style=${`left: ${ot.time/F*100}%;`}
        ></span>
      `):null}return u`
    <div class="plyr__controls__item plyr__progress__container">
      <div class="plyr__progress">
        <media-time-slider
          class="plyr__slider"
          data-plyr="seek"
          pause-while-dragging
          key-step=${p(r)}
          aria-label=${l}
          @media-seeking-request=${g}
        >
          <div class="plyr__slider__track"></div>
          <div class="plyr__slider__thumb"></div>
          <div class="plyr__slider__buffer"></div>
          ${p(S)}${p(D)}
        </media-time-slider>
      </div>
    </div>
  `}function hh(a){return p(()=>{const t=a==="mute"||a==="mute+volume",e=a==="volume"||a==="mute+volume";return u`
      <div class="plyr__controls__item plyr__volume">
        ${[t?sh():null,e?ch():null]}
      </div>
    `})}function ch(){const{translations:a}=N(),t=H(a,"Volume");return u`
    <media-volume-slider class="plyr__slider" data-plyr="volume" aria-label=${t}>
      <div class="plyr__slider__track"></div>
      <div class="plyr__slider__thumb"></div>
    </media-volume-slider>
  `}function dh(){const a=f(),{translations:t,invertTime:e,toggleTime:s,displayDuration:i}=N(),n=v(m(e));function r(l){!s()||i()||le(l)&&!re(l)||n.set(c=>!c)}function o(){return p(()=>i()?xa():null)}return p(()=>{const{streamType:l}=a.$state,c=H(t,"LIVE"),d=H(t,"Current time"),g=p(()=>!i()&&n());return l()==="live"||l()==="ll-live"?u`
          <media-live-button
            class="plyr__controls__item plyr__control plyr__live-button"
            data-plyr="live"
          >
            <span class="plyr__live-button__text">${c}</span>
          </media-live-button>
        `:u`
          <media-time
            type="current"
            class="plyr__controls__item plyr__time plyr__time--current"
            tabindex="0"
            role="timer"
            aria-label=${d}
            ?remainder=${g}
            @pointerup=${r}
            @keydown=${r}
          ></media-time>
          ${o()}
        `})}function xa(){const{translations:a}=N(),t=H(a,"Duration");return u`
    <media-time
      type="duration"
      class="plyr__controls__item plyr__time plyr__time--duration"
      role="timer"
      tabindex="0"
      aria-label=${t}
    ></media-time>
  `}function uh(){return p(()=>{const a=f(),{translations:t,download:e}=N(),{title:s,source:i}=a.$state,n=i(),r=e(),o=mi({title:s(),src:n,download:r}),l=H(t,"Download");return o?u`
          <a
            class="plyr__controls__item plyr__control"
            href=${o.url+`?download=${o.name}`}
            download=${o.name}
            target="_blank"
          >
            <slot name="download-icon" />
            <span class="plyr__tooltip">${l}</span>
          </a>
        `:null})}function ph(){return p(()=>{const{clickToPlay:a,clickToFullscreen:t}=N();return[a()?u`
            <media-gesture
              class="plyr__gesture"
              event="pointerup"
              action="toggle:paused"
            ></media-gesture>
          `:null,t()?u`
            <media-gesture
              class="plyr__gesture"
              event="dblpointerup"
              action="toggle:fullscreen"
            ></media-gesture>
          `:null]})}function mh(){const a=f(),t=v(void 0),e=p(()=>li(t()?.text));return h(()=>{const s=a.$state.textTrack();if(!s)return;function i(){t.set(s?.activeCues[0])}return i(),$(s,"cue-change",i)}),u`
    <div class="plyr__captions" dir="auto">
      <span class="plyr__caption">${e}</span>
    </div>
  `}function gh(){const{translations:a}=N(),t=H(a,"Settings");return u`
    <div class="plyr__controls__item plyr__menu">
      <media-menu>
        <media-menu-button class="plyr__control" data-plyr="settings">
          <slot name="settings-icon" />
          <span class="plyr__tooltip">${t}</span>
        </media-menu-button>
        <media-menu-items class="plyr__menu__container" placement="top end">
          <div><div>${[fh(),kh(),Th(),vh()]}</div></div>
        </media-menu-items>
      </media-menu>
    </div>
  `}function qe({label:a,children:t}){const e=v(!1);return u`
    <media-menu @open=${()=>e.set(!0)} @close=${()=>e.set(!1)}>
      ${bh({label:a,open:e})}
      <media-menu-items>${t}</media-menu-items>
    </media-menu>
  `}function bh({open:a,label:t}){const{translations:e}=N(),s=p(()=>`plyr__control plyr__control--${a()?"back":"forward"}`);function i(){const n=H(e,"Go back to previous menu");return p(()=>a()?u`<span class="plyr__sr-only">${n}</span>`:null)}return u`
    <media-menu-button class=${s} data-plyr="settings">
      <span class="plyr__menu__label" aria-hidden=${Sh(a)}>
        ${H(e,t)}
      </span>
      <span class="plyr__menu__value" data-part="hint"></span>
      ${i()}
    </media-menu-button>
  `}function fh(){return qe({label:"Audio",children:yh()})}function yh(){const{translations:a}=N();return u`
    <media-audio-radio-group empty-label=${H(a,"Default")}>
      <template>
        <media-radio class="plyr__control" data-plyr="audio">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-audio-radio-group>
  `}function vh(){return qe({label:"Speed",children:$h()})}function $h(){const{translations:a,speed:t}=N();return u`
    <media-speed-radio-group .rates=${t} normal-label=${H(a,"Normal")}>
      <template>
        <media-radio class="plyr__control" data-plyr="speed">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-speed-radio-group>
  `}function kh(){return qe({label:"Captions",children:wh()})}function wh(){const{translations:a}=N();return u`
    <media-captions-radio-group off-label=${H(a,"Disabled")}>
      <template>
        <media-radio class="plyr__control" data-plyr="captions">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-captions-radio-group>
  `}function Th(){return qe({label:"Quality",children:xh()})}function xh(){const{translations:a}=N();return u`
    <media-quality-radio-group auto-label=${H(a,"Auto")}>
      <template>
        <media-radio class="plyr__control" data-plyr="quality">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-quality-radio-group>
  `}function Sh(a){return p(()=>a()?"true":"false")}function H(a,t){return p(()=>_e(a,t))}class Sa extends T(we,$a){onSetup(){this.forwardKeepAlive=!1,this.a=f()}onConnect(){this.a.player.el?.setAttribute("data-layout","plyr"),A(()=>this.a.player.el?.removeAttribute("data-layout")),Bl(this,this.a),h(()=>{this.$props.customIcons()?new us([this]).connect():new Ql([this]).connect()})}render(){return p(this.Zm.bind(this))}Zm(){const{viewType:t}=this.a.$state;return t()==="audio"?Kl():t()==="video"?Ul():null}}Sa.tagName="media-plyr-layout",w(Ss),w(Cs),w(Sa);function Ms(a,t){const e=String(a),s=e.length;if(s<t){const i=t-s;return`${"0".repeat(i)}${a}`}return e}function Pa(a){const t=Math.trunc(a/3600),e=Math.trunc(a%3600/60),s=Math.trunc(a%60),i=Number((a-Math.trunc(a)).toPrecision(3));return{hours:t,minutes:e,seconds:s,fraction:i}}function Oe(a,{padHrs:t=null,padMins:e=null,showHrs:s=!1,showMs:i=!1}={}){const{hours:n,minutes:r,seconds:o,fraction:l}=Pa(a),c=t?Ms(n,2):n,d=e||Mt(e)&&a>=3600?Ms(r,2):r,g=Ms(o,2),k=i&&l>0?`.${String(l).replace(/^0?\./,"")}`:"",y=`${d}:${g}${k}`;return n>0||s?`${c}:${y}`:y}function De(a){const t=[],{hours:e,minutes:s,seconds:i}=Pa(a);return e>0&&t.push(`${e} hour`),s>0&&t.push(`${s} min`),(i>0||t.length===0)&&t.push(`${i} sec`),t.join(" ")}class Es extends x{constructor(){super(...arguments),this.Ve=!1,this.Hc=-1,this.Xe=-1}onSetup(){this.a=f()}onAttach(t){t.style.display="contents"}onConnect(t){t.setAttribute("data-media-announcer",""),q(t,"role","status"),q(t,"aria-live","polite");const{busy:e}=this.$state;this.setAttributes({"aria-busy":()=>e()?"true":null}),this.Ve=!0,h(this.fc.bind(this)),h(this.Fc.bind(this)),h(this.Hk.bind(this)),h(this.Ik.bind(this)),h(this.Jk.bind(this)),h(this.Kk.bind(this)),h(this.Lk.bind(this)),ht(),this.Ve=!1}fc(){const{paused:t}=this.a.$state;this.Rb(t()?"Pause":"Play")}Ik(){const{fullscreen:t}=this.a.$state;this.Rb(t()?"Enter Fullscreen":"Exit Fullscreen")}Jk(){const{pictureInPicture:t}=this.a.$state;this.Rb(t()?"Enter PiP":"Exit PiP")}Hk(){const{textTrack:t}=this.a.$state;this.Rb(t()?"Closed-Captions On":"Closed-Captions Off")}Fc(){const{muted:t,volume:e,audioGain:s}=this.a.$state;this.Rb(t()||e()===0?"Mute":`${Math.round(e()*(s()??1)*100)}% ${this.We("Volume")}`)}Kk(){const{seeking:t,currentTime:e}=this.a.$state,s=t();this.Hc>0?(window.clearTimeout(this.Xe),this.Xe=window.setTimeout(()=>{if(!this.scope)return;const i=m(e),n=Math.abs(i-this.Hc);if(n>=1){const r=i>=this.Hc,o=De(n);this.Rb(`${this.We(r?"Seek Forward":"Seek Backward")} ${o}`)}this.Hc=-1,this.Xe=-1},300)):s&&(this.Hc=m(e))}We(t){const{translations:e}=this.$props;return e?.()?.[t||""]??t}Lk(){const{label:t,busy:e}=this.$state,s=this.We(t());if(this.Ve)return;e.set(!0);const i=window.setTimeout(()=>void e.set(!1),150);return this.el&&b(this.el,"aria-label",s),E(s)&&this.dispatch("change",{detail:s}),()=>window.clearTimeout(i)}Rb(t){const{label:e}=this.$state;e.set(t)}}Es.props={translations:null},Es.state=new vt({label:null,busy:!1});class Ca extends T(HTMLElement,Es){}Ca.tagName="media-announcer";class Ph extends at{constructor(t){super(),this.$d=t}onAttach(t){const{$props:e,ariaKeys:s}=f(),i=t.getAttribute("aria-keyshortcuts");if(i){s[this.$d]=i,A(()=>{delete s[this.$d]});return}const n=e.keyShortcuts()[this.$d];if(n){const r=V(n)?n.join(" "):E(n)?n:n?.keys;t.setAttribute("aria-keyshortcuts",V(r)?r.join(" "):r)}}}class X extends at{constructor(t){super(),this.j=t,new rt,t.Sb&&new Ph(t.Sb)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.j.o,"aria-pressed":this.Rk.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){q(t,"tabindex","0"),q(t,"role","button"),q(t,"type","button")}onConnect(t){Tt(t,this.Sk.bind(this));for(const e of["click","touchstart"])this.listen(e,this.Tk.bind(this),{passive:!0})}Rk(){return pe(this.j.o())}Uk(t){rr(this.j.o)&&this.j.o.set(e=>!e)}Sk(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(this.j.r??this.Uk).call(this,t)}Tk(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}}X.props={disabled:!1};class Ma extends x{constructor(){super(),new X({o:this.o.bind(this),r:this.r.bind(this)})}onSetup(){this.a=f();const{canAirPlay:t,isAirPlayConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.Ic.bind(this),"aria-hidden":Q(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),xt(t,this.Jc.bind(this))}r(t){this.a.remote.requestAirPlay(t)}o(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="airplay"&&e()!=="disconnected"}Ic(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="airplay"&&e()}Jc(){const{remotePlaybackState:t}=this.a.$state;return`AirPlay ${t()}`}}Ma.props=X.props;class Ea extends T(HTMLElement,Ma){}Ea.tagName="media-airplay-button";class Aa extends x{constructor(){super(),new X({o:this.o.bind(this),Sb:"toggleCaptions",r:this.r.bind(this)})}onSetup(){this.a=f(),this.setAttributes({"data-active":this.o.bind(this),"data-supported":()=>!this.Tb(),"aria-hidden":Q(this.Tb.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),xt(t,"Captions")}r(t){this.a.remote.toggleCaptions(t)}o(){const{textTrack:t}=this.a.$state,e=t();return!!e&&U(e)}Tb(){const{hasCaptions:t}=this.a.$state;return!t()}}Aa.props=X.props;class La extends T(HTMLElement,Aa){}La.tagName="media-caption-button";class _a extends x{constructor(){super(),new X({o:this.o.bind(this),Sb:"toggleFullscreen",r:this.r.bind(this)})}onSetup(){this.a=f();const{fullscreen:t}=this.a.$state,e=this.Kc.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":Q(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),xt(t,"Fullscreen")}r(t){const e=this.a.remote,s=this.$props.target();this.o()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}o(){const{fullscreen:t}=this.a.$state;return t()}Kc(){const{canFullscreen:t}=this.a.$state;return t()}}_a.props={...X.props,target:"prefer-media"};class qa extends T(HTMLElement,_a){}qa.tagName="media-fullscreen-button";class Oa extends x{constructor(){super(),new X({o:this.o.bind(this),r:this.r.bind(this)})}onSetup(){this.a=f();const{canGoogleCast:t,isGoogleCastConnected:e}=this.a.$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":this.Ic.bind(this),"aria-hidden":Q(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","google-cast"),xt(t,this.Jc.bind(this))}r(t){this.a.remote.requestGoogleCast(t)}o(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="google-cast"&&e()!=="disconnected"}Ic(){const{remotePlaybackType:t,remotePlaybackState:e}=this.a.$state;return t()==="google-cast"&&e()}Jc(){const{remotePlaybackState:t}=this.a.$state;return`Google Cast ${t()}`}}Oa.props=X.props;class Da extends T(HTMLElement,Oa){}Da.tagName="media-google-cast-button";class Ia extends x{constructor(){super(),new rt}onSetup(){this.a=f();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.a.$state,i=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":i,"aria-disabled":Q(()=>t()||s()),"aria-hidden":Q(i)})}onAttach(t){q(t,"tabindex","0"),q(t,"role","button"),q(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){Tt(t,this.r.bind(this))}r(t){const{disabled:e}=this.$props,{liveEdge:s}=this.a.$state;e()||s()||this.a.remote.seekToLiveEdge(t)}}Ia.props={disabled:!1};class Na extends T(HTMLElement,Ia){}Na.tagName="media-live-button";class Ga extends x{constructor(){super(),new X({o:this.o.bind(this),Sb:"toggleMuted",r:this.r.bind(this)})}onSetup(){this.a=f(),this.setAttributes({"data-muted":this.o.bind(this),"data-state":this.Ic.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),xt(t,"Mute")}r(t){const e=this.a.remote;this.o()?e.unmute(t):e.mute(t)}o(){const{muted:t,volume:e}=this.a.$state;return t()||e()===0}Ic(){const{muted:t,volume:e}=this.a.$state,s=e();if(t()||s===0)return"muted";if(s>=.5)return"high";if(s<.5)return"low"}}Ga.props=X.props;class Ha extends T(HTMLElement,Ga){}Ha.tagName="media-mute-button";class ja extends x{constructor(){super(),new X({o:this.o.bind(this),Sb:"togglePictureInPicture",r:this.r.bind(this)})}onSetup(){this.a=f();const{pictureInPicture:t}=this.a.$state,e=this.Kc.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":Q(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),xt(t,"PiP")}r(t){const e=this.a.remote;this.o()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}o(){const{pictureInPicture:t}=this.a.$state;return t()}Kc(){const{canPictureInPicture:t}=this.a.$state;return t()}}ja.props=X.props;class Ra extends T(HTMLElement,ja){}Ra.tagName="media-pip-button";class Fa extends x{constructor(){super(),new X({o:this.o.bind(this),Sb:"togglePaused",r:this.r.bind(this)})}onSetup(){this.a=f();const{paused:t,ended:e}=this.a.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),xt(t,"Play")}r(t){const e=this.a.remote;this.o()?e.pause(t):e.play(t)}o(){const{paused:t}=this.a.$state;return!t()}}Fa.props=X.props;class Va extends T(HTMLElement,Fa){}Va.tagName="media-play-button";class Ba extends x{constructor(){super(),new rt}onSetup(){this.a=f();const{seeking:t}=this.a.$state,{seconds:e}=this.$props,s=this.Kc.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":Q(()=>!s())})}onAttach(t){q(t,"tabindex","0"),q(t,"role","button"),q(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),xt(t,this.Jc.bind(this))}onConnect(t){Tt(t,this.r.bind(this))}Kc(){const{canSeek:t}=this.a.$state;return t()}Jc(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}r(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:i}=this.a.$state,n=i()+e();this.a.remote.seek(n,t)}}Ba.props={disabled:!1,seconds:30};class Wa extends T(HTMLElement,Ba){}Wa.tagName="media-seek-button";var Ch=Object.defineProperty,Mh=Object.getOwnPropertyDescriptor,Eh=(a,t,e,s)=>{for(var i=Mh(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&Ch(t,e,i),i};class As extends x{constructor(){super(),this.jh=v(!1),new X({o:this.jh})}get pressed(){return this.jh()}}As.props={disabled:!1,defaultPressed:!1},Eh([M],As.prototype,"pressed");class Qa extends T(HTMLElement,As){}Qa.tagName="media-toggle-button";class Ah{constructor(t){this.ca=t,this.priority=10,this.J=null,this.Ya=oi()}attach(){}canRender(){return!0}detach(){this.Ya.empty(),this.ca.reset(),this.J=null}changeTrack(t){!t||this.J===t||(this.Ya.empty(),t.readyState<2?(this.ca.reset(),this.Ya.add($(t,"load",()=>this.Qh(t),{once:!0}))):this.Qh(t),this.Ya.add($(t,"add-cue",e=>{this.ca.addCue(e.detail)}),$(t,"remove-cue",e=>{this.ca.removeCue(e.detail)})),this.J=t)}Qh(t){this.ca.changeTrack({cues:[...t.cues],regions:[...t.regions]})}}const Ls=class Qn extends x{constructor(){super(...arguments),this.ac=-1}get L(){return Qn.L}onSetup(){this.a=f(),this.setAttributes({"aria-hidden":Q(this.Tb.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){this.L()||import("https://cdn.jsdelivr.net/npm/media-captions@next/dist/prod.js").then(e=>this.L.set(e)),h(this.Rh.bind(this))}Tb(){const{textTrack:t,remotePlaybackState:e,iOSControls:s}=this.a.$state,i=t();return s()||e()==="connected"||!i||!U(i)}Rh(){if(!this.L())return;const{viewType:t}=this.a.$state;return t()==="audio"?this.Cm():this.Dm()}Cm(){return h(this.pc.bind(this)),this.Gn(null),()=>{this.el.textContent=""}}pc(){if(this.Tb())return;this.Sh();const{textTrack:t}=this.a.$state;$(t(),"cue-change",this.Sh.bind(this)),h(this.Em.bind(this))}Sh(){this.el.textContent="",this.ac>=0&&this.Ff();const{realCurrentTime:t,textTrack:e}=this.a.$state,{renderVTTCueString:s}=this.L(),i=m(t),n=m(e).activeCues;for(const r of n){const o=this.Th(),l=this.Uh();l.innerHTML=s(r,i),o.append(l),this.el.append(l)}}Em(){const{realCurrentTime:t}=this.a.$state,{updateTimedVTTCueNodes:e}=this.L();e(this.el,t())}Dm(){const{CaptionsRenderer:t}=this.L(),e=new t(this.el),s=new Ah(e);return this.a.textRenderers.add(s),h(this.Fm.bind(this,e)),h(this.Gm.bind(this,e)),this.Gn(e),()=>{this.el.textContent="",this.a.textRenderers.remove(s),e.destroy()}}Fm(t){t.dir=this.$props.textDir()}Gm(t){if(this.Tb())return;const{realCurrentTime:e,textTrack:s}=this.a.$state;t.currentTime=e(),this.ac>=0&&s()?.activeCues[0]&&this.Ff()}Gn(t){const e=this.a.player;if(!e)return;const s=this.Bm.bind(this,t);$(e,"vds-font-change",s)}Bm(t){if(this.ac>=0){this.Vh();return}const{textTrack:e}=this.a.$state;e()?.activeCues[0]?t?.update(!0):this.Hm()}Hm(){const t=this.Th();b(t,"data-example","");const e=this.Uh();b(e,"data-example",""),e.textContent=this.$props.exampleText(),t?.append(e),this.el?.append(t),this.el?.setAttribute("data-example",""),this.Vh()}Vh(){window.clearTimeout(this.ac),this.ac=window.setTimeout(this.Ff.bind(this),2500)}Ff(){this.el?.removeAttribute("data-example"),this.el?.querySelector("[data-example]")&&(this.el.textContent=""),this.ac=-1}Th(){const t=document.createElement("div");return b(t,"data-part","cue-display"),t}Uh(){const t=document.createElement("div");return b(t,"data-part","cue"),t}};Ls.props={textDir:"ltr",exampleText:"Captions look like this."},Ls.L=v(null);let Lh=Ls;class Ka extends T(HTMLElement,Lh){}Ka.tagName="media-captions";class Ua extends x{}Ua.props={defaultText:""};class Xa extends T(HTMLElement,Ua){onSetup(){this.a=f(),this.bn=v("")}onConnect(){const t=this.a.textTracks;xr(t,"chapters",this.bn.set),h(this.pn.bind(this))}pn(){const{defaultText:t}=this.$props;this.textContent=this.bn()||t()}}Xa.tagName="media-chapter-title";class Ya extends x{onSetup(){this.a=f(),h(this.Mk.bind(this))}onAttach(t){const{pictureInPicture:e,fullscreen:s}=this.a.$state;nt(t,"pointer-events","none"),q(t,"role","group"),this.setAttributes({"data-visible":this.hh.bind(this),"data-fullscreen":s,"data-pip":e}),h(()=>{this.dispatch("change",{detail:this.hh()})}),h(this.Nk.bind(this)),h(()=>{const i=s();for(const n of["top","right","bottom","left"])nt(t,`padding-${n}`,i&&`env(safe-area-inset-${n})`)})}Nk(){if(!this.el)return;const{nativeControls:t}=this.a.$state,e=t();b(this.el,"aria-hidden",e?"true":null),nt(this.el,"display",e?"none":null)}Mk(){const{controls:t}=this.a.player,{hideDelay:e,hideOnMouseLeave:s}=this.$props;t.defaultDelay=e()===2e3?this.a.$props.controlsDelay():e(),t.hideOnMouseLeave=s()}hh(){const{controlsVisible:t}=this.a.$state;return t()}}Ya.props={hideDelay:2e3,hideOnMouseLeave:!1};class za extends T(HTMLElement,Ya){}za.tagName="media-controls";class _h extends x{onAttach(t){t.style.pointerEvents||nt(t,"pointer-events","auto")}}class Ja extends T(HTMLElement,_h){}Ja.tagName="media-controls-group";class Za extends x{constructor(){super(...arguments),this.p=null,this.Ab=0,this.Oh=-1}onSetup(){this.a=f();const{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){this.p=this.a.player.el?.querySelector("[data-media-provider]"),h(this.wm.bind(this))}wm(){let t=this.$props.event(),e=this.$props.disabled();!this.p||!t||e||(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),(t==="pointerup"||t==="pointerdown")&&this.a.$state.pointer()==="coarse"&&(t=t==="pointerup"?"touchend":"touchstart"),$(this.p,t,this.xm.bind(this),{passive:!1}))}xm(t){if(!(this.$props.disabled()||hi(t)&&(t.button!==0||this.a.activeMenu)||ze(t)&&this.a.activeMenu||es(t)||!this.ym(t))){if(t.MEDIA_GESTURE=!0,t.preventDefault(),!m(this.$props.event)?.startsWith("dbl"))this.Ab===0&&setTimeout(()=>{this.Ab===1&&this.Ph(t)},250);else if(this.Ab===1){queueMicrotask(()=>this.Ph(t)),clearTimeout(this.Oh),this.Ab=0;return}this.Ab===0&&(this.Oh=window.setTimeout(()=>{this.Ab=0},275)),this.Ab++}}Ph(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.zm()&&this.Am(m(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}ym(t){if(!this.el)return!1;if(hi(t)||or(t)||ze(t)){const e=ze(t)?t.changedTouches[0]??t.touches[0]:void 0,s=e?.clientX??t.clientX,i=e?.clientY??t.clientY,n=this.el.getBoundingClientRect(),r=i>=n.top&&i<=n.bottom&&s>=n.left&&s<=n.right;return t.type.includes("leave")?!r:r}return!0}zm(){const t=this.a.player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(t).sort((e,s)=>+getComputedStyle(s).zIndex-+getComputedStyle(e).zIndex)[0]===this.el}Am(t,e){if(!t)return;const s=new K("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(s),s.defaultPrevented)return;const[i,n]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.a.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.a.remote.seek(m(this.a.$state.currentTime)+(+n||0),e):this.a.remote[lr(i)](e),this.dispatch("trigger",{detail:t,trigger:e})}}Za.props={disabled:!1,event:void 0,action:void 0};class tn extends T(HTMLElement,Za){}tn.tagName="media-gesture";class en extends x{}en.props={when:!1};class sn extends T(HTMLElement,en){onSetup(){this.a=f()}onConnect(){h(this.qn.bind(this))}qn(){const t=this.firstElementChild,e=t?.localName==="template",s=this.$props.when();if(!(ni(s)?s:L(()=>s(this.a.player.state))())){e?(this.textContent="",this.appendChild(t)):wt(t)&&(t.style.display="none");return}e?this.append(t.content.cloneNode(!0)):wt(t)&&(t.style.display="")}}sn.tagName="media-layout";const B=lt(),_s=lt();class _t extends at{constructor(){super(...arguments),this.$b=new Set,this.Ta=v(""),this.e=null,this.sm=this.E.bind(this)}get pm(){return Array.from(this.$b).map(t=>t.Ta())}get value(){return this.Ta()}set value(t){this.E(t)}onSetup(){J(_s,{add:this.qm.bind(this),remove:this.rm.bind(this)})}onAttach(t){Z(B)||q(t,"role","radiogroup"),this.setAttributes({value:this.Ta})}onDestroy(){this.$b.clear()}qm(t){this.$b.has(t)||(this.$b.add(t),t.Nd=this.sm,t.Wc(t.Ta()===this.Ta()))}rm(t){t.Nd=null,this.$b.delete(t)}E(t,e){const s=m(this.Ta);if(!t||t===s)return;const i=this.Nh(s),n=this.Nh(t);i?.Wc(!1,e),n?.Wc(!0,e),this.Ta.set(t),this.l?.(t,e)}Nh(t){for(const e of this.$b)if(t===m(e.Ta))return e;return null}}var qh=Object.defineProperty,Oh=Object.getOwnPropertyDescriptor,qs=(a,t,e,s)=>{for(var i=Oh(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&qh(t,e,i),i};const Dh=[1,1.25,1.5,1.75,2,2.5,3,4];class zt extends x{get value(){return this.e.value}get disabled(){const{gains:t}=this.$props,{canSetAudioGain:e}=this.a.$state;return!e()||t().length===0}constructor(){super(),this.e=new _t,this.e.l=this.l.bind(this)}onSetup(){this.a=f(),Z(B)&&(this.n=G(B))}onConnect(t){h(this.N.bind(this)),h(this.Ua.bind(this)),h(this.sa.bind(this))}getOptions(){const{gains:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1||s===null?e:String(s*100)+"%",value:s.toString()}))}N(){this.e.value=this.Y()}Ua(){const{normalLabel:t}=this.$props,{audioGain:e}=this.a.$state,s=e();this.n?._b.set(s===1||s==null?t():String(s*100)+"%")}sa(){this.n?.gb(this.disabled)}Y(){const{audioGain:t}=this.a.$state;return t()?.toString()??"1"}l(t,e){if(this.disabled)return;const s=+t;this.a.remote.changeAudioGain(s,e),this.dispatch("change",{detail:s,trigger:e})}}zt.props={normalLabel:"Disabled",gains:Dh},qs([M],zt.prototype,"value"),qs([M],zt.prototype,"disabled"),qs([R],zt.prototype,"getOptions");function Ht(a,t){pt(()=>{if(!a.connectScope)return;const e=a.querySelector("template");e&&h(()=>{const s=a.getOptions();ss(e,s.length,(i,n)=>{const{label:r,value:o}=s[n],l=i.querySelector('[data-part="label"]');i.setAttribute("value",o),l&&(E(r)?l.textContent=r:h(()=>{l.textContent=r()})),t?.(i,s[n],n)})})})}class an extends T(HTMLElement,zt){onConnect(){Ht(this)}}an.tagName="media-audio-gain-radio-group";var Ih=Object.defineProperty,Nh=Object.getOwnPropertyDescriptor,Os=(a,t,e,s)=>{for(var i=Nh(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&Ih(t,e,i),i};class Jt extends x{get value(){return this.e.value}get disabled(){const{audioTracks:t}=this.a.$state;return t().length<=1}constructor(){super(),this.e=new _t,this.e.l=this.l.bind(this)}onSetup(){this.a=f(),Z(B)&&(this.n=G(B))}onConnect(t){h(this.N.bind(this)),h(this.sa.bind(this)),h(this.Ua.bind(this))}getOptions(){const{audioTracks:t}=this.a.$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}N(){this.e.value=this.Y()}Ua(){const{emptyLabel:t}=this.$props,{audioTrack:e}=this.a.$state,s=e();this.n?._b.set(s?.label??t())}sa(){this.n?.gb(this.disabled)}Y(){const{audioTrack:t}=this.a.$state,e=t();return e?e.label.toLowerCase():""}l(t,e){if(this.disabled)return;const s=this.a.audioTracks.toArray().findIndex(i=>i.label.toLowerCase()===t);if(s>=0){const i=this.a.audioTracks[s];this.a.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:i,trigger:e})}}}Jt.props={emptyLabel:"Default"},Os([M],Jt.prototype,"value"),Os([M],Jt.prototype,"disabled"),Os([R],Jt.prototype,"getOptions");class nn extends T(HTMLElement,Jt){onConnect(){Ht(this)}}nn.tagName="media-audio-radio-group";var Gh=Object.defineProperty,Hh=Object.getOwnPropertyDescriptor,Ds=(a,t,e,s)=>{for(var i=Hh(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&Gh(t,e,i),i};class Zt extends x{get value(){return this.e.value}get disabled(){const{hasCaptions:t}=this.a.$state;return!t()}constructor(){super(),this.e=new _t,this.e.l=this.l.bind(this)}onSetup(){this.a=f(),Z(B)&&(this.n=G(B))}onConnect(t){super.onConnect?.(t),h(this.N.bind(this)),h(this.sa.bind(this)),h(this.Ua.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.a.$state;return[{value:"off",label:t},...e().filter(U).map(s=>({track:s,label:s.label,value:this.Df(s)}))]}N(){this.e.value=this.Y()}Ua(){const{offLabel:t}=this.$props,{textTrack:e}=this.a.$state,s=e();this.n?._b.set(s&&U(s)&&s.mode==="showing"?s.label:t())}sa(){this.n?.gb(this.disabled)}Y(){const{textTrack:t}=this.a.$state,e=t();return e&&U(e)&&e.mode==="showing"?this.Df(e):"off"}l(t,e){if(this.disabled)return;if(t==="off"){const i=this.a.textTracks.selected;if(i){const n=this.a.textTracks.indexOf(i);this.a.remote.changeTextTrackMode(n,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.a.textTracks.toArray().findIndex(i=>this.Df(i)===t);if(s>=0){const i=this.a.textTracks[s];this.a.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:i,trigger:e})}}Df(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()}}Zt.props={offLabel:"Off"},Ds([M],Zt.prototype,"value"),Ds([M],Zt.prototype,"disabled"),Ds([R],Zt.prototype,"getOptions");class rn extends T(HTMLElement,Zt){onConnect(){Ht(this)}}rn.tagName="media-captions-radio-group";var jh=Object.defineProperty,Rh=Object.getOwnPropertyDescriptor,Is=(a,t,e,s)=>{for(var i=Rh(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&jh(t,e,i),i};class te extends x{constructor(){super(),this.J=v(null),this.B=v([]),this.e=new _t,this.e.l=this.l.bind(this)}get value(){return this.e.value}get disabled(){return!this.B()?.length}onSetup(){this.a=f(),Z(B)&&(this.n=G(B));const{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){this.n?.wf({Af:this.Af.bind(this)})}getOptions(){const{clipStartTime:t,clipEndTime:e}=this.a.$state,s=t(),i=e()||1/0;return this.B().map((n,r)=>({cue:n,value:r.toString(),label:n.text,startTime:Oe(Math.max(0,n.startTime-s)),duration:De(Math.min(i,n.endTime)-Math.max(s,n.startTime))}))}Af(){m(()=>this.Qb())}onConnect(t){h(this.Qb.bind(this)),h(this.sa.bind(this)),h(this.vm.bind(this)),Wt(this.a.textTracks,"chapters",this.J.set)}vm(){const t=this.J();if(!t)return;const e=this.Id.bind(this,t);return e(),$(t,"add-cue",e),$(t,"remove-cue",e),()=>{this.B.set([])}}Id(t){const{clipStartTime:e,clipEndTime:s}=this.a.$state,i=e(),n=s()||1/0;this.B.set([...t.cues].filter(r=>r.startTime<=n&&r.endTime>=i))}Qb(){if(!this.n?.T())return;if(!this.J()){this.e.value="-1";return}const{realCurrentTime:t,clipStartTime:e,clipEndTime:s}=this.a.$state,i=e(),n=s()||1/0,r=t(),o=this.B().findIndex(l=>Sr(l,r));this.e.value=o.toString(),o>=0&&pt(()=>{if(!this.connectScope)return;const l=this.B()[o],c=this.el.querySelector("[aria-checked='true']"),d=Math.max(i,l.startTime),g=Math.min(n,l.endTime)-d,k=Math.max(0,r-d)/g*100;c&&nt(c,"--progress",W(k,3)+"%")})}sa(){this.n?.gb(this.disabled)}l(t,e){if(this.disabled||!e)return;const s=+t,i=this.B(),{clipStartTime:n}=this.a.$state;ct(s)&&i?.[s]&&(this.e.value=s.toString(),this.a.remote.seek(i[s].startTime-n(),e),this.dispatch("change",{detail:i[s],trigger:e}))}}te.props={thumbnails:null},Is([M],te.prototype,"value"),Is([M],te.prototype,"disabled"),Is([R],te.prototype,"getOptions");class on extends T(HTMLElement,te){onConnect(){Ht(this,(t,e)=>{const{cue:s,startTime:i,duration:n}=e,r=t.querySelector(".vds-thumbnail,media-thumbnail"),o=t.querySelector('[data-part="start-time"]'),l=t.querySelector('[data-part="duration"]');o&&(o.textContent=i),l&&(l.textContent=n),r&&(r.setAttribute("time",s.startTime+""),h(()=>{const c=this.$props.thumbnails();"src"in r?r.src=c:E(c)&&r.setAttribute("src",c)}))})}}on.tagName="media-chapters-radio-group";var Fh=Object.defineProperty,Vh=Object.getOwnPropertyDescriptor,Bh=(a,t,e,s)=>{for(var i=Vh(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&Fh(t,e,i),i};class Ie extends x{constructor(){super(),this.Lh=v(null),new rt}get expanded(){return this.n?.T()??!1}onSetup(){this.n=G(B)}onAttach(t){this.n.uf(this),h(this.Nc.bind(this)),q(t,"type","button")}onConnect(t){h(this.mm.bind(this)),this.Gc();const e=new MutationObserver(this.Gc.bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),A(()=>e.disconnect()),Tt(t,s=>{this.dispatch("select",{trigger:s})})}Nc(){this.n.xf(this.$props.disabled())}mm(){const t=this.Lh();t&&h(()=>{const e=this.n._b();e&&(t.textContent=e)})}Gc(){const t=this.el?.querySelector('[data-part="hint"]');this.Lh.set(t??null)}}Ie.props={disabled:!1},Bh([M],Ie.prototype,"expanded");class ln extends T(HTMLElement,Ie){}ln.tagName="media-menu-button";class hn extends at{constructor(t){super(),this.j=t,this.zd=-1,this.Ad=-1,this.wb=null,h(this.Ok.bind(this))}onDestroy(){this.wb?.(),this.wb=null}Ok(){const t=this.j.M();if(!t){this.hide();return}const e=this.show.bind(this),s=this.hide.bind(this);this.j.yd(t,e,s)}show(t){this.Ye(),window.cancelAnimationFrame(this.Ad),this.Ad=-1,this.wb?.(),this.wb=null,this.zd=window.setTimeout(()=>{this.zd=-1;const e=this.j.q();e&&e.style.removeProperty("display"),m(()=>this.j.E(!0,t))},this.j.ih?.()??0)}hide(t){this.Ye(),m(()=>this.j.E(!1,t)),this.Ad=requestAnimationFrame(()=>{this.Ye(),this.Ad=-1;const e=this.j.q();if(e){const s=()=>{e.style.display="none",this.wb=null};if(Er(e)){this.wb?.();const i=$(e,"animationend",s,{once:!0});this.wb=i}else s()}})}Ye(){window.clearTimeout(this.zd),this.zd=-1}}const Ns=lt(),ee=lt();function Wh(a,t){const e=hr(a,t);for(const{el:s,top:i,left:n}of e)s.scroll({top:i,left:n,behavior:t.behavior})}function Qh(a,t={}){Wh(a,{scrollMode:"if-needed",block:"center",inline:"center",...t})}const Kh=["a[href]","[tabindex]","input","select","button"].map(a=>`${a}:not([aria-hidden='true'])`).join(","),Uh=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class Xh{constructor(t){this.j=t,this.Tc=-1,this.Sa=null,this.ra=[]}get A(){return this.ra}Ul(t){$(t,"focus",this.Ec.bind(this)),this.Sa=t,A(()=>{this.Sa=null})}yd(){this.Sa&&(this.Ha(),$(this.Sa,"keyup",this.hc.bind(this)),$(this.Sa,"keydown",this.ic.bind(this)),A(()=>{this.Tc=-1,this.ra=[]}))}Ha(){this.Tc=0,this.ra=this.Vl()}Eh(t=this.Fh()){const e=this.ra[t];e&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{Qh(e,{behavior:"smooth",boundary:s=>!s.hasAttribute("data-root")})})})}Gh(t=!0){const e=this.Fh();this.Yb(e>=0?e:0,t)}Yb(t,e=!0){this.Tc=t,this.ra[t]?(this.ra[t].focus({preventScroll:!0}),e&&this.Eh(t)):this.Sa?.focus({preventScroll:!0})}Fh(){return this.ra.findIndex(t=>document.activeElement===t||t.getAttribute("role")==="menuitemradio"&&t.getAttribute("aria-checked")==="true")}Ec(){this.Tc>=0||(this.Ha(),this.Gh())}Hh(t){const e=t.target;if(cr(t)&&e instanceof Element){const s=e.getAttribute("role");return!/a|input|select|button/.test(e.localName)&&!s}return Uh.has(t.key)}hc(t){this.Hh(t)&&(t.stopPropagation(),t.preventDefault())}ic(t){if(this.Hh(t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.j.Wl(t);break;case"Tab":this.Yb(this.rf(t.shiftKey?-1:1));break;case"ArrowUp":this.Yb(this.rf(-1));break;case"ArrowDown":this.Yb(this.rf(1));break;case"Home":case"PageUp":this.Yb(0);break;case"End":case"PageDown":this.Yb(this.ra.length-1);break}}rf(t){let e=this.Tc;do e=(e+t+this.ra.length)%this.ra.length;while(this.ra[e]?.offsetParent===null);return e}Vl(){if(!this.Sa)return[];const t=this.Sa.querySelectorAll(Kh),e=[],s=i=>i.getAttribute("role")==="menu";for(const i of t)wt(i)&&i.offsetParent!==null&&fi(this.Sa,i,s)&&e.push(i);return e}}var Yh=Object.defineProperty,zh=Object.getOwnPropertyDescriptor,se=(a,t,e,s)=>{for(var i=zh(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&Yh(t,e,i),i};let Jh=0;class qt extends x{constructor(){super(),this.T=v(!1),this.Ed=v(!1),this.M=v(null),this.q=v(null),this.Vc=new Set,this.Jd=null,this.Ld=!1,this.Ih=v(!1),this.Md=new Set,this.zf=!1,this.im=this.jm.bind(this),this.Cf=!1,this.gm=this.km.bind(this),this.hm=this.lm.bind(this),this.pa=kt(()=>{const e=m(this.q);if(!e)return;let s=0,i=getComputedStyle(e),n=[...e.children];for(const r of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])s+=parseFloat(i[r])||0;for(const r of n)if(wt(r)&&r.style.display==="contents")n.push(...r.children);else if(r.nodeType===3)s+=parseFloat(getComputedStyle(r).fontSize);else if(wt(r)){if(!Ar(r))continue;const o=getComputedStyle(r);s+=r.offsetHeight+(parseFloat(o.marginTop)||0)+(parseFloat(o.marginBottom)||0)}nt(e,"--menu-height",s+"px")}),this.Bf=!1;const{showDelay:t}=this.$props;this.Kd=new hn({M:this.M,q:this.q,ih:t,yd:(e,s,i)=>{Tt(e,r=>{this.T()?i(r):s(r)});const n=this.Xl();n&&Tt(n,r=>{r.stopPropagation(),i(r)})},E:this.Yl.bind(this)})}get triggerElement(){return this.M()}get contentElement(){return this.q()}get isSubmenu(){return!!this.Uc}onSetup(){this.a=f();const t=++Jh;this.sf=`media-menu-${t}`,this.tf=`media-menu-button-${t}`,this.Zb=new Xh({Wl:this.close.bind(this)}),Z(B)&&(this.Uc=G(B)),this.Zl(),this.setAttributes({"data-open":this.T,"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":this.v.bind(this)}),J(B,{_l:this.M,q:this.q,T:this.T,_b:v(""),Um:!!this.Uc,gb:this.gb.bind(this),uf:this.uf.bind(this),vf:this.vf.bind(this),wf:this.wf.bind(this),xf:this.xf.bind(this),yf:this.yf.bind(this),$l:e=>{this.Md.add(e),A(()=>{this.Md.delete(e)})}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){h(this.am.bind(this)),this.isSubmenu&&this.Uc?.yf(this)}onDestroy(){this.M.set(null),this.q.set(null),this.Jd=null,this.Md.clear()}Zl(){let t=-1,e=Z(ee)?G(ee):null;J(ee,{onDragStart:()=>{e?.onDragStart?.(),window.clearTimeout(t),t=-1,this.Ld=!0},onDragEnd:()=>{e?.onDragEnd?.(),t=window.setTimeout(()=>{this.Ld=!1,t=-1},300)}})}am(){const t=this.bm();this.isSubmenu||this.pa(),this.Jh(t),t&&(h(()=>{const{height:e}=this.a.$state,s=this.q();s&&nt(s,"--player-height",e()+"px")}),this.Zb.yd(),this.listen("pointerup",this.cm.bind(this)),$(window,"pointerup",this.dm.bind(this)))}uf(t){const e=t.el,s=this.isSubmenu,i=Q(this.v.bind(this));q(e,"tabindex",s?"-1":"0"),q(e,"role",s?"menuitem":"button"),b(e,"id",this.tf),b(e,"aria-haspopup","menu"),b(e,"aria-expanded","false"),b(e,"data-root",!this.isSubmenu),b(e,"data-submenu",this.isSubmenu),h(()=>{b(e,"data-open",this.T()),b(e,"aria-disabled",i())}),this.M.set(e),A(()=>{this.M.set(null)})}vf(t){const e=t.el;e.style.setProperty("display","none"),b(e,"id",this.sf),q(e,"role","menu"),q(e,"tabindex","-1"),b(e,"data-root",!this.isSubmenu),b(e,"data-submenu",this.isSubmenu),this.q.set(e),A(()=>this.q.set(null)),h(()=>b(e,"data-open",this.T())),this.Zb.Ul(e),this.Jh(!1);const s=this.em.bind(this);this.isSubmenu?this.Uc?.$l(s):(t.listen("transitionstart",s),t.listen("transitionend",s),t.listen("animationend",this.pa),t.listen("vds-menu-resize",this.pa))}wf(t){this.Jd=t}Jh(t){const e=m(this.q);e&&b(e,"aria-hidden",pe(!t))}xf(t){this.Ih.set(t)}Yl(t,e){if(this.zf=le(e),e?.stopPropagation(),this.T()===t)return;if(this.v()){t&&this.Kd.hide(e);return}this.el?.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));const s=this.M(),i=this.q();if(s&&(b(s,"aria-controls",t&&this.sf),b(s,"aria-expanded",pe(t))),i&&b(i,"aria-labelledby",t&&this.tf),this.T.set(t),this.fm(e),ht(),this.zf){t?i?.focus():s?.focus();for(const n of[this.el,i])n&&n.setAttribute("data-keyboard","")}else for(const n of[this.el,i])n&&n.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)!this.isSubmenu&&this.a.activeMenu!==this&&(this.a.activeMenu?.close(e),this.a.activeMenu=this),this.Jd?.Af?.(e);else{if(this.isSubmenu)for(const n of this.Vc)n.close(e);else this.a.activeMenu=null;this.Jd?.Vm?.(e)}t&&requestAnimationFrame(this.Kh.bind(this))}Kh(){this.Bf||this.Cf||(this.Zb.Ha(),requestAnimationFrame(()=>{this.zf?this.Zb.Gh():this.Zb.Eh()}))}bm(){return!this.v()&&this.T()}v(){return this.Ed()||this.Ih()}gb(t){this.Ed.set(t)}cm(t){const e=this.q();this.Ld||e&&yi(e,t)||t.stopPropagation()}dm(t){const e=this.q();this.Ld||e&&yi(e,t)||this.close(t)}Xl(){const t=this.el?.querySelector('[data-part="close-target"]');return this.el&&t&&fi(this.el,t,e=>e.getAttribute("role")==="menu")?t:null}fm(t){this.isSubmenu||(this.T()?this.a.remote.pauseControls(t):this.a.remote.resumeControls(t))}yf(t){this.Vc.add(t),$(t,"open",this.gm),$(t,"close",this.hm),A(this.im)}jm(t){this.Vc.delete(t)}km(t){this.Cf=!0;const e=this.q();this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","true");for(const s of this.Vc)if(s!==t.target)for(const i of[s.el,s.triggerElement])i?.setAttribute("aria-hidden","true");if(e){const s=t.target.el;for(const i of e.children)i.contains(s)?i.setAttribute("data-open",""):i!==s&&i.setAttribute("data-hidden","")}}lm(t){this.Cf=!1;const e=this.q();this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","false");for(const s of this.Vc)for(const i of[s.el,s.triggerElement])i?.setAttribute("aria-hidden","false");if(e)for(const s of e.children)s.removeAttribute("data-open"),s.removeAttribute("data-hidden")}em(t){const e=this.q();e&&t.propertyName==="height"&&(this.Bf=t.type==="transitionstart",b(e,"data-transition",this.Bf?"height":null),this.T()&&this.Kh());for(const s of this.Md)s(t)}open(t){m(this.T)||(this.Kd.show(t),ht())}close(t){m(this.T)&&(this.Kd.hide(t),ht())}}qt.props={showDelay:0},se([M],qt.prototype,"triggerElement"),se([M],qt.prototype,"contentElement"),se([M],qt.prototype,"isSubmenu"),se([R],qt.prototype,"open"),se([R],qt.prototype,"close");class cn extends T(HTMLElement,qt){}cn.tagName="media-menu";class Zh extends Ie{}class dn extends T(HTMLElement,Zh){}dn.tagName="media-menu-item";class un extends x{constructor(){super(...arguments),this.G=null}onSetup(){this.a=f(),J(Ne,{xb:this.nm.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){this.G?.remove(),this.G=null}nm(t){this.Mh(!1),this.G=t,pt(()=>{pt(()=>{this.connectScope&&h(this.Nc.bind(this))})})}Nc(){const{fullscreen:t}=this.a.$state,{disabled:e}=this.$props,s=e();this.Mh(s==="fullscreen"?!t():!s)}Mh(t){if(!this.G)return;let e=this.om(this.$props.container());if(!e)return;const s=this.G.parentElement===e;b(this.G,"data-portal",t),t?s||(this.G.remove(),e.append(this.G)):s&&this.G.parentElement===e&&(this.G.remove(),this.el?.append(this.G))}om(t){return wt(t)?t:t?document.querySelector(t):document.body}}un.props={container:null,disabled:!1};const Ne=lt();class pn extends x{constructor(){super(),new rt;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.n=G(B),this.n.vf(this),Z(Ne)){const e=G(Ne);e&&(J(Ne,null),e.xb(t),A(()=>e.xb(null)))}}onConnect(t){h(this.bf.bind(this))}bf(){if(!this.el)return;const t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:e,alignOffset:s}=this.$props;return vi(this.el,this.Bd(),t,{offsetVarName:"media-menu",xOffset:s(),yOffset:e()})}else this.el.removeAttribute("style"),this.el.style.display="none"}Bd(){return this.n._l()}}pn.props={placement:null,offset:0,alignOffset:0};class mn extends T(HTMLElement,pn){}mn.tagName="media-menu-items";class Gs extends T(HTMLElement,un){}Gs.tagName="media-menu-portal",Gs.attrs={disabled:{converter(a){return E(a)?a:a!==null}}};var tc=Object.defineProperty,ec=Object.getOwnPropertyDescriptor,Hs=(a,t,e,s)=>{for(var i=ec(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&tc(t,e,i),i};class ie extends x{constructor(){super(),this.Rc=L(()=>{const{sort:t}=this.$props,{qualities:e}=this.a.$state;return ws(e(),t()==="descending")}),this.e=new _t,this.e.l=this.l.bind(this)}get value(){return this.e.value}get disabled(){const{canSetQuality:t,qualities:e}=this.a.$state;return!t()||e().length<=1}onSetup(){this.a=f(),Z(B)&&(this.n=G(B))}onConnect(t){h(this.N.bind(this)),h(this.sa.bind(this)),h(this.Ua.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.Rc().map(s=>{const i=s.bitrate&&s.bitrate>=0?`${W(s.bitrate/1e6,2)} Mbps`:null;return{quality:s,label:s.height+"p",value:this.Ef(s),bitrate:()=>e()?null:i}})]}N(){this.e.value=this.Y()}Ua(){const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.a.$state,i=s()?s().height+"p":"";this.n?._b.set(e()?t()+(i?` (${i})`:""):i)}sa(){this.n?.gb(this.disabled)}l(t,e){if(this.disabled)return;if(t==="auto"){this.a.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:s}=this.a.$state,i=m(s).findIndex(n=>this.Ef(n)===t);if(i>=0){const n=m(s)[i];this.a.remote.changeQuality(i,e),this.dispatch("change",{detail:n,trigger:e})}}Y(){const{quality:t,autoQuality:e}=this.a.$state;if(e())return"auto";const s=t();return s?this.Ef(s):"auto"}Ef(t){return t.height+"_"+t.bitrate}}ie.props={autoLabel:"Auto",hideBitrate:!1,sort:"descending"},Hs([M],ie.prototype,"value"),Hs([M],ie.prototype,"disabled"),Hs([R],ie.prototype,"getOptions");class gn extends T(HTMLElement,ie){onConnect(){Ht(this,(t,e)=>{const s=e.bitrate,i=t.querySelector('[data-part="bitrate"]');s&&i&&h(()=>{i.textContent=s()||""})})}}gn.tagName="media-quality-radio-group";var sc=Object.defineProperty,ic=Object.getOwnPropertyDescriptor,ac=(a,t,e,s)=>{for(var i=ic(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&sc(t,e,i),i};class js extends x{constructor(){super(),this.zb=v(!1),this.e={Ta:this.$props.value,Wc:this.Wc.bind(this),Nd:null},new rt}get checked(){return this.zb()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.zb,"aria-checked":Q(this.zb)})}onAttach(t){const e=Z(B);q(t,"tabindex",e?"-1":"0"),q(t,"role",e?"menuitemradio":"radio"),h(this.N.bind(this))}onConnect(t){this.tm(),Tt(t,this.r.bind(this)),A(this.Fa.bind(this))}Fa(){he(()=>{G(_s).remove(this.e)},this.connectScope)}tm(){G(_s).add(this.e)}N(){const{value:t}=this.$props,e=t();m(this.zb)&&this.e.Nd?.(e)}r(t){m(this.zb)||(this.E(!0,t),this.um(t),this.e.Nd?.(m(this.$props.value),t))}Wc(t,e){m(this.zb)!==t&&this.E(t,e)}E(t,e){this.zb.set(t),this.dispatch("change",{detail:t,trigger:e})}um(t){this.dispatch("select",{trigger:t})}}js.props={value:""},ac([M],js.prototype,"checked");class bn extends T(HTMLElement,js){}bn.tagName="media-radio";var nc=Object.defineProperty,rc=Object.getOwnPropertyDescriptor,fn=(a,t,e,s)=>{for(var i=rc(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&nc(t,e,i),i};class Ge extends x{get values(){return this.e.pm}get value(){return this.e.value}set value(t){this.e.value=t}constructor(){super(),this.e=new _t,this.e.l=this.l.bind(this)}onSetup(){h(this.N.bind(this))}N(){this.e.value=this.$props.value()}l(t,e){const s=this.createEvent("change",{detail:t,trigger:e});this.dispatch(s)}}Ge.props={value:""},fn([M],Ge.prototype,"values"),fn([M],Ge.prototype,"value");class yn extends T(HTMLElement,Ge){}yn.tagName="media-radio-group";var oc=Object.defineProperty,lc=Object.getOwnPropertyDescriptor,Rs=(a,t,e,s)=>{for(var i=lc(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&oc(t,e,i),i};const hc=[.25,.5,.75,1,1.25,1.5,1.75,2];class ae extends x{get value(){return this.e.value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return!e()||t().length===0}constructor(){super(),this.e=new _t,this.e.l=this.l.bind(this)}onSetup(){this.a=f(),Z(B)&&(this.n=G(B))}onConnect(t){h(this.N.bind(this)),h(this.Ua.bind(this)),h(this.sa.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1?e:s+"\xD7",value:s.toString()}))}N(){this.e.value=this.Y()}Ua(){const{normalLabel:t}=this.$props,{playbackRate:e}=this.a.$state,s=e();this.n?._b.set(s===1?t():s+"\xD7")}sa(){this.n?.gb(this.disabled)}Y(){const{playbackRate:t}=this.a.$state;return t().toString()}l(t,e){if(this.disabled)return;const s=+t;this.a.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}}ae.props={normalLabel:"Normal",rates:hc},Rs([M],ae.prototype,"value"),Rs([M],ae.prototype,"disabled"),Rs([R],ae.prototype,"getOptions");class vn extends T(HTMLElement,ae){onConnect(){Ht(this)}}vn.tagName="media-speed-radio-group";class Fs extends x{constructor(){super(...arguments),this.Xh=""}onSetup(){this.a=f(),this.Mb(),this.Wh(),this.Ca(),this.Ea()}onAttach(t){t.style.setProperty("pointer-events","none"),h(this.kf.bind(this)),h(this.Mb.bind(this)),h(this.Wh.bind(this)),h(this.Ca.bind(this)),h(this.Ea.bind(this));const{started:e}=this.a.$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":this.Pc.bind(this),"data-error":this.fb.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){h(this.Im.bind(this)),h(this.Ma.bind(this))}fb(){const{error:t}=this.$state;return!Mt(t())}Im(){const{canLoadPoster:t,poster:e}=this.a.$state;!t()&&e()&&Qt(e(),"preconnect")}Ea(){const{src:t}=this.$props,{poster:e,nativeControls:s}=this.a.$state;this.el&&b(this.el,"display",s()?"none":null),this.$state.hidden.set(this.fb()||!(t()||e())||s())}Pc(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}kf(){const t=this.$state.img();t&&($(t,"load",this.gd.bind(this)),$(t,"error",this.Q.bind(this)))}Mb(){const{poster:t}=this.a.$props,{canLoadPoster:e,providedPoster:s,inferredPoster:i}=this.a.$state,n=this.$props.src()||"",r=n||t()||i();this.Xh===s()&&s.set(n),this.$state.src.set(e()&&r.length?r:null),this.Xh=n}Wh(){const{src:t}=this.$props,{alt:e}=this.$state,{poster:s}=this.a.$state;e.set(t()||s()?this.$props.alt():null)}Ca(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s,poster:i}=this.a.$state,n=t()!==null?t():s();e.set(/ytimg\.com|vimeo/.test(i()||"")?null:n===!0?"anonymous":n)}Ma(){const{loading:t,error:e}=this.$state,{canLoadPoster:s,poster:i}=this.a.$state;t.set(s()&&!!i()),e.set(null)}gd(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}Q(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}}Fs.props={src:null,alt:null,crossOrigin:null},Fs.state=new vt({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});class Vs extends T(HTMLElement,Fs){constructor(){super(...arguments),this.Wm=document.createElement("img")}onSetup(){this.$state.img.set(this.Wm)}onConnect(){const{src:t,alt:e,crossOrigin:s}=this.$state;h(()=>{const{loading:i,hidden:n}=this.$state;this.Wm.style.display=i()||n()?"none":""}),h(()=>{b(this.Wm,"alt",e()),b(this.Wm,"crossorigin",s()),b(this.Wm,"src",t())}),this.Wm.parentNode!==this&&this.prepend(this.Wm)}}Vs.tagName="media-poster",Vs.attrs={crossOrigin:"crossorigin"};const Ot=new vt({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return $n(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return $n(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function $n(a,t,e){const s=t-a,i=e-a;return s>0?i/s:0}const jt=lt(()=>({}));class kn extends at{constructor(t){super(),this.Hb=t}onConnect(t){this.Ra=new IntersectionObserver(e=>{this.Hb.callback?.(e,this.Ra)},this.Hb),this.Ra.observe(t),A(this.Fa.bind(this))}Fa(){this.Ra?.disconnect(),this.Ra=void 0}}function cc(a,t,e,s){return is(a,W(e,Lr(s)),t)}function dc(a,t,e,s){const i=is(0,e,1),n=t-a,r=n*i,o=r/s,l=s*Math.round(o);return a+l}const Bs={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class uc extends at{constructor(t,e){super(),this.j=t,this.a=e,this.p=null,this.cb=null,this.Ub=null,this.Bn=!1,this.cl=Ct(s=>{this.db(this.Cd(s),s)},20,{leading:!0})}onSetup(){Z(ee)&&(this.Ra=G(ee))}onConnect(){h(this.Wk.bind(this)),h(this.Xk.bind(this)),this.j.kh&&h(this.Yk.bind(this))}Yk(){const{pointer:t}=this.a.$state;if(t()!=="coarse"||!this.j.kh()){this.p=null;return}this.p=this.a.player.el?.querySelector("media-provider,[data-media-provider]"),this.p&&($(this.p,"touchstart",this.Zk.bind(this),{passive:!0}),$(this.p,"touchmove",this._k.bind(this),{passive:!1}))}Zk(t){this.cb=t.touches[0]}_k(t){if(Mt(this.cb)||es(t))return;const e=t.touches[0],s=e.clientX-this.cb.clientX,i=e.clientY-this.cb.clientY,n=this.$state.dragging();!n&&Math.abs(i)>5||n||(t.preventDefault(),Math.abs(s)>20&&(this.cb=e,this.Ub=this.$state.value(),this.cf(this.Ub,t)))}Wk(){const{hidden:t}=this.$props;this.listen("focus",this.Ec.bind(this)),this.listen("keydown",this.ic.bind(this)),this.listen("keyup",this.hc.bind(this)),!(t()||this.j.v())&&(this.listen("pointerenter",this.Oe.bind(this)),this.listen("pointermove",this.$k.bind(this)),this.listen("pointerleave",this.Pe.bind(this)),this.listen("pointerdown",this.al.bind(this)))}Xk(){this.j.v()||!this.$state.dragging()||($(document,"pointerup",this.bl.bind(this),{capture:!0}),$(document,"pointermove",this.cl.bind(this)),$(document,"touchmove",this.dl.bind(this),{passive:!1}))}Ec(){this.db(this.$state.value())}df(t,e){const{value:s,min:i,max:n,dragging:r}=this.$state,o=Math.max(i(),Math.min(t,n()));s.set(o);const l=this.createEvent("value-change",{detail:o,trigger:e});if(this.dispatch(l),this.j.l?.(l),r()){const c=this.createEvent("drag-value-change",{detail:o,trigger:e});this.dispatch(c),this.j.S?.(c)}}db(t,e){const{pointerValue:s,dragging:i}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),i()&&this.df(t,e)}Cd(t){let e,s=this.el.getBoundingClientRect(),{min:i,max:n}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:r,height:o}=s;e=(r-t.clientY)/o}else if(this.cb&&ct(this.Ub)){const{width:r}=this.p.getBoundingClientRect(),o=(t.clientX-this.cb.clientX)/r,l=n()-i(),c=l*Math.abs(o);e=(o<0?this.Ub-c:this.Ub+c)/l}else{const{left:r,width:o}=s;e=(t.clientX-r)/o}return Math.max(i(),Math.min(n(),this.j.Da(dc(i(),n(),e,this.j.qa()))))}Oe(t){this.$state.pointing.set(!0)}$k(t){const{dragging:e}=this.$state;e()||this.db(this.Cd(t),t)}Pe(t){this.$state.pointing.set(!1)}al(t){if(t.button!==0)return;const e=this.Cd(t);this.cf(e,t),this.db(e,t)}cf(t,e){const{dragging:s}=this.$state;if(s())return;s.set(!0),this.a.remote.pauseControls(e);const i=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(i),this.j.ef?.(i),this.Ra?.onDragStart?.()}lh(t,e){const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.a.remote.resumeControls(e);const i=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(i),this.j.Dd?.(i),this.cb=null,this.Ub=null,this.Ra?.onDragEnd?.()}ic(t){if(!Object.keys(Bs).includes(t.key))return;const{key:e}=t,s=this.Cn(t);if(!Mt(s)){this.db(s,t),this.df(s,t);return}const i=this.Dn(t);this.Bn||(this.Bn=e===this.ff,!this.$state.dragging()&&this.Bn&&this.cf(i,t)),this.db(i,t),this.ff=e}hc(t){if(!Object.keys(Bs).includes(t.key)||!Mt(this.Cn(t)))return;const e=this.Bn?this.$state.pointerValue():this.Dn(t);this.df(e,t),this.lh(e,t),this.ff="",this.Bn=!1}Cn(t){let e=t.key,{min:s,max:i}=this.$state;return e==="Home"||e==="PageUp"?s():e==="End"||e==="PageDown"?i():!t.metaKey&&/^[0-9]$/.test(e)?(i()-s())/10*Number(e):null}Dn(t){const{key:e,shiftKey:s}=t;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:i}=this.$props,{min:n,max:r,value:o,pointerValue:l}=this.$state,c=this.j.qa(),d=this.j.eb(),g=s?d*i():d,k=Number(Bs[e]),y=g*k,S=this.Bn?l():this.j.Y?.()??o(),D=(S+y)/c;return Math.max(n(),Math.min(r(),Number((c*D).toFixed(3))))}bl(t){if(t.button!==0)return;t.preventDefault(),t.stopImmediatePropagation();const e=this.Cd(t);this.db(e,t),this.lh(e,t)}dl(t){t.preventDefault()}}class et extends at{constructor(t){super(),this.j=t,this.Lc=v(!0),this.Mc=v(!0),this.jl=kt((e,s)=>{this.el?.style.setProperty("--slider-fill",e+"%"),this.el?.style.setProperty("--slider-pointer",s+"%")})}onSetup(){this.a=f();const t=new rt;t.attach(this),this.$state.focused=t.focused.bind(t),Z(jt)||J(jt,{default:"value"}),J(Ns,{bb:this.$props.orientation,Ed:this.j.v,nh:v(null)}),h(this.N.bind(this)),h(this.fl.bind(this)),h(this.Nc.bind(this)),this.gl(),new uc(this.j,this.a).attach(this),new kn({callback:this.gf.bind(this)}).attach(this)}onAttach(t){q(t,"role","slider"),q(t,"tabindex","0"),q(t,"autocomplete","off"),h(this.oh.bind(this))}onConnect(t){A($i(t,this.Lc.set)),h(this.Ea.bind(this))}gf(t){this.Mc.set(t[0].isIntersecting)}Ea(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.Lc()||!this.Mc.bind(this))}N(){const{dragging:t,value:e,min:s,max:i}=this.$state;m(t)||e.set(cc(s(),i(),e(),this.j.qa()))}fl(){this.$state.step.set(this.j.qa())}Nc(){if(!this.j.v())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}il(){return pe(this.j.v())}gl(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:i}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":i,"data-active":s,"aria-disabled":this.il.bind(this),"aria-valuemin":this.j.Tm??this.$state.min,"aria-valuemax":this.j.hf??this.$state.max,"aria-valuenow":this.j.O,"aria-valuetext":this.j.P,"aria-orientation":t})}oh(){const{fillPercent:t,pointerPercent:e}=this.$state;this.jl(W(t(),3),W(e(),3))}}et.props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};class Ws extends x{onSetup(){this.a=f(),J(jt,{default:"percent",percent:(t,e)=>W(this.$state.value(),e)+"%"}),new et({qa:this.$props.step,eb:this.$props.keyStep,Da:Math.round,v:this.v.bind(this),O:this.O.bind(this),P:this.P.bind(this),S:this.S.bind(this),l:this.l.bind(this)}).attach(this),h(this.Oc.bind(this)),h(this.tl.bind(this))}onAttach(t){t.setAttribute("data-media-audio-gain-slider",""),q(t,"aria-label","Audio Boost");const{canSetAudioGain:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":Q(()=>!e())})}O(){const{value:t}=this.$state;return Math.round(t())}P(){const{value:t}=this.$state;return t()+"%"}Oc(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}tl(){const{audioGain:t}=this.a.$state,e=((t()??1)-1)*100;this.$state.value.set(e),this.dispatch("value-change",{detail:e})}v(){const{disabled:t}=this.$props,{canSetAudioGain:e}=this.a.$state;return t()||!e()}xh(t){if(!t.trigger)return;const e=W(1+t.detail/100,2);this.a.remote.changeAudioGain(e,t)}l(t){this.xh(t)}S(t){this.xh(t)}}Ws.props={...et.props,step:25,keyStep:25,shiftKeyMultiplier:2,min:0,max:300},Ws.state=Ot;class wn extends T(HTMLElement,Ws){}wn.tagName="media-audio-gain-slider";class Qs extends x{constructor(){super(...arguments),this.Rc=L(()=>{const{qualities:t}=this.a.$state;return ws(t())}),this.zh=Ct(this.Za.bind(this),25)}onSetup(){this.a=f(),new et({qa:this.$props.step,eb:this.$props.keyStep,Da:Math.round,v:this.v.bind(this),O:this.O.bind(this),P:this.P.bind(this),S:this.S.bind(this),l:this.l.bind(this)}).attach(this),h(this.vl.bind(this)),h(this.wl.bind(this))}onAttach(t){t.setAttribute("data-media-quality-slider",""),q(t,"aria-label","Video Quality");const{qualities:e,canSetQuality:s}=this.a.$state,i=L(()=>s()&&e().length>0);this.setAttributes({"data-supported":i,"aria-hidden":Q(()=>!i())})}O(){const{value:t}=this.$state;return t()}P(){const{quality:t}=this.a.$state;if(!t())return"";const{height:e,bitrate:s}=t(),i=s&&s>0?`${(s/1e6).toFixed(2)} Mbps`:null;return e?`${e}p${i?` (${i})`:""}`:"Auto"}vl(){const t=this.Rc();this.$state.max.set(Math.max(0,t.length-1))}wl(){let{quality:t}=this.a.$state,e=this.Rc(),s=Math.max(0,e.indexOf(t()));this.$state.value.set(s),this.dispatch("value-change",{detail:s})}v(){const{disabled:t}=this.$props,{canSetQuality:e,qualities:s}=this.a.$state;return t()||s().length<=1||!e()}Za(t){if(!t.trigger)return;const{qualities:e}=this.a,s=m(this.Rc)[t.detail];this.a.remote.changeQuality(e.indexOf(s),t)}l(t){this.zh(t)}S(t){this.zh(t)}}Qs.props={...et.props,step:1,keyStep:1,shiftKeyMultiplier:1},Qs.state=Ot;class Tn extends T(HTMLElement,Qs){}Tn.tagName="media-quality-slider";class He extends x{constructor(){super(),this.Ah=v(null),this.mf=!1;const{noSwipeGesture:t}=this.$props;new et({kh:()=>!t(),Y:this.Y.bind(this),qa:this.qa.bind(this),eb:this.eb.bind(this),Da:this.Da,v:this.v.bind(this),O:this.O.bind(this),P:this.P.bind(this),ef:this.ef.bind(this),S:this.S.bind(this),Dd:this.Dd.bind(this),l:this.l.bind(this)})}onSetup(){this.a=f(),J(jt,{default:"time",value:this.xl.bind(this),time:this.yl.bind(this)}),this.setAttributes({"data-chapters":this.zl.bind(this)}),this.setStyles({"--slider-progress":this.Al.bind(this)}),h(this.Qb.bind(this)),h(this.Bl.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),q(t,"aria-label","Seek")}onConnect(t){h(this.Cl.bind(this)),Wt(this.a.textTracks,"chapters",this.Ah.set)}Al(){const{bufferedEnd:t,duration:e}=this.a.$state;return W(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"}zl(){const{duration:t}=this.a.$state;return this.Ah()?.cues.length&&Number.isFinite(t())&&t()>0}Bl(){this.lf=Ct(this.Ja.bind(this),this.$props.seekingRequestThrottle())}Qb(){if(this.$state.hidden())return;const{value:t,dragging:e}=this.$state,s=this.Y();m(e)||(t.set(s),this.dispatch("value-change",{detail:s}))}Cl(){const t=this.a.player.el,{nh:e}=G(Ns);t&&e()&&b(t,"data-preview",this.$state.active())}Ja(t,e){this.a.remote.seeking(t,e)}Dl(t,e,s){this.lf.cancel();const{live:i}=this.a.$state;if(i()&&e>=99){this.a.remote.seekToLiveEdge(s);return}this.a.remote.seek(t,s)}ef(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:s}=this.a.$state;this.mf=!s(),this.a.remote.pause(t)}}S(t){this.lf(this.Wb(t.detail),t)}Dd(t){const{seeking:e}=this.a.$state;m(e)||this.Ja(this.Wb(t.detail),t);const s=t.detail;this.Dl(this.Wb(s),s,t);const{pauseWhileDragging:i}=this.$props;i()&&this.mf&&(this.a.remote.play(t),this.mf=!1)}l(t){const{dragging:e}=this.$state;e()||!t.trigger||this.Dd(t)}Y(){const{currentTime:t}=this.a.$state;return this.El(t())}qa(){const t=this.$props.step()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}eb(){const t=this.$props.keyStep()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}Da(t){return W(t,3)}v(){const{disabled:t}=this.$props,{canSeek:e}=this.a.$state;return t()||!e()}O(){const{value:t}=this.$state;return Math.round(t())}P(){const t=this.Wb(this.$state.value()),{duration:e}=this.a.$state;return Number.isFinite(t)?`${De(t)} out of ${De(e())}`:"live"}Wb(t){const{duration:e}=this.a.$state;return W(t/100*e(),5)}El(t){const{liveEdge:e,duration:s}=this.a.$state,i=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(i)?0:Number.isFinite(i)?i*100:100}xl(t){const e=this.Wb(t),{live:s,duration:i}=this.a.$state;return Number.isFinite(e)?(s()?e-i():e).toFixed(0):"LIVE"}yl(t,e){const s=this.Wb(t),{live:i,duration:n}=this.a.$state,r=i()?s-n():s;return Number.isFinite(s)?`${r<0?"-":""}${Oe(Math.abs(r),e)}`:"LIVE"}}He.props={...et.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100},He.state=Ot;var pc=Object.defineProperty,mc=Object.getOwnPropertyDescriptor,je=(a,t,e,s)=>{for(var i=mc(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&pc(t,e,i),i};class Rt extends x{constructor(){super(...arguments),this.yb=null,this.ja=[],this.Gd=v(null),this.ka=v([]),this.Xb=v(-1),this.Hd=v(-1),this.Sc=0,this.Ml=kt(t=>{let e,s=this.ka(),{clipStartTime:i}=this.a.$state,n=i(),r=this.qf(s);for(let o=this.Sc;o<this.ja.length;o++)if(e=this.pf(s[o],t,n,r),this.ja[o]?.style.setProperty("--chapter-progress",e+"%"),e<100){this.Sc=o;break}}),this.Nl=L(this.Ol.bind(this)),this.Id=Qe(()=>{const t=m(this.Gd);!this.scope||!t||!t.cues.length||(this.ka.set(this.Pl(t.cues)),this.Xb.set(0),this.Sc=0)},150,!0)}get cues(){return this.ka()}get activeCue(){return this.ka()[this.Xb()]||null}get activePointerCue(){return this.ka()[this.Hd()]||null}onSetup(){this.a=f(),this.Fd=Gt(He.state)}onAttach(t){Wt(this.a.textTracks,"chapters",this.Bh.bind(this)),h(this.Fl.bind(this))}onConnect(){A(()=>this.z.bind(this))}onDestroy(){this.Bh(null)}setRefs(t){if(this.ja=t,this.nf?.dispose(),this.ja.length===1){const e=this.ja[0];e.style.width="100%",e.style.setProperty("--chapter-fill","var(--slider-fill)"),e.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.ja.length>0&&he(()=>this.Gl(),this.nf=dr())}Bh(t){m(this.Gd)!==t&&(this.z(),this.Gd.set(t))}z(){this.ja=[],this.ka.set([]),this.Xb.set(-1),this.Hd.set(-1),this.Sc=0,this.nf?.dispose()}Gl(){this.ja.length&&h(this.Hl.bind(this))}Hl(){const{hidden:t}=this.Fd;t()||(h(this.Il.bind(this)),h(this.Jl.bind(this)),h(this.Kl.bind(this)),h(this.Ll.bind(this)))}Il(){const t=this.ka();if(!t.length)return;let e,{clipStartTime:s,clipEndTime:i}=this.a.$state,n=s(),r=i()||t[t.length-1].endTime,o=r-n,l=100;for(let c=0;c<t.length;c++)if(e=t[c],this.ja[c]){const d=c===t.length-1?l:W((e.endTime-Math.max(n,e.startTime))/o*100,3);this.ja[c].style.width=d+"%",l-=d}}Jl(){let{liveEdge:t,clipStartTime:e,duration:s}=this.a.$state,{fillPercent:i,value:n}=this.Fd,r=this.ka(),o=t(),l=m(this.Xb),c=r[l],d=o?this.ka.length-1:this.Ch(c&&c.startTime/s()*100<=m(n)?l:0,i());o||!c?this.of(0,r.length,100):d>l?this.of(l,d,100):d<l&&this.of(d+1,l+1,0);const g=o?100:this.pf(r[d],i(),e(),this.qf(r));this.Dh(this.ja[d],g),this.Xb.set(d)}Kl(){let{pointing:t,pointerPercent:e}=this.Fd;if(!t()){this.Hd.set(-1);return}const s=this.Ch(0,e());this.Hd.set(s)}of(t,e,s){for(let i=t;i<e;i++)this.Dh(this.ja[i],s)}Dh(t,e){t&&(t.style.setProperty("--chapter-fill",e+"%"),b(t,"data-active",e>0&&e<100),b(t,"data-ended",e===100))}Ch(t,e){let s=0,i=this.ka();if(e===0)return 0;if(e===100)return i.length-1;let{clipStartTime:n}=this.a.$state,r=n(),o=this.qf(i);for(let l=t;l<i.length;l++)if(s=this.pf(i[l],e,r,o),s>=0&&s<100)return l;return 0}Ll(){this.Ml(this.Nl())}Ol(){const{bufferedEnd:t,duration:e}=this.a.$state;return W(Math.min(t()/Math.max(e(),1),1),3)*100}qf(t){const{clipEndTime:e}=this.a.$state,s=e();return s>0?s:t[t.length-1]?.endTime||0}pf(t,e,s,i){if(this.ka().length===0)return 0;const n=i-s,r=Math.max(0,t.startTime-s),o=Math.min(i,t.endTime)-s,l=r/n,c=l*100,d=Math.min(1,l+(o-r)/n)*100;return Math.max(0,W(e>=d?100:(e-c)/(d-c)*100,3))}Pl(t){let e=[],{clipStartTime:s,clipEndTime:i,duration:n}=this.a.$state,r=s(),o=i()||1/0;t=t.filter(d=>d.startTime<=o&&d.endTime>=r);const l=t[0];l&&l.startTime>r&&e.push(new window.VTTCue(r,l.startTime,""));for(let d=0;d<t.length-1;d++){const g=t[d],k=t[d+1];if(e.push(g),k){const y=k.startTime-g.endTime;y>0&&e.push(new window.VTTCue(g.endTime,g.endTime+y,""))}}const c=t[t.length-1];if(c){e.push(c);const d=n();d>=0&&d-c.endTime>1&&e.push(new window.VTTCue(c.endTime,n(),""))}return e}Fl(){const{source:t}=this.a.$state;t(),this.pc()}pc(){if(!this.scope)return;const{disabled:t}=this.$props;if(t()){this.ka.set([]),this.Xb.set(0),this.Sc=0;return}const e=this.Gd();if(e){const s=this.Id.bind(this);s(),A($(e,"add-cue",s)),A($(e,"remove-cue",s)),h(this.Ql.bind(this))}return this.yb=this.Rl(),this.yb&&h(this.Sl.bind(this)),()=>{this.yb&&(this.yb.textContent="",this.yb=null)}}Ql(){this.a.$state.duration(),this.Id()}Sl(){const t=this.activePointerCue||this.activeCue;this.yb&&(this.yb.textContent=t?.text||"")}Tl(){let t=this.el;for(;t&&t.getAttribute("role")!=="slider";)t=t.parentElement;return t}Rl(){const t=this.Tl();return t?t.querySelector('[data-part="chapter-title"]'):null}}Rt.props={disabled:!1},je([M],Rt.prototype,"cues"),je([M],Rt.prototype,"activeCue"),je([M],Rt.prototype,"activePointerCue"),je([R],Rt.prototype,"setRefs");class xn extends T(HTMLElement,Rt){constructor(){super(...arguments),this.Ym=null}onConnect(){pt(()=>{if(!this.connectScope)return;const t=this.querySelector("template");t&&(this.Ym=t,h(this.un.bind(this)))})}un(){if(!this.Ym)return;const t=ss(this.Ym,this.cues.length||1);this.setRefs(t)}}xn.tagName="media-slider-chapters";class Dt extends x{constructor(){super(),new et({qa:this.$props.step,eb:this.$props.keyStep,Da:Math.round,v:this.$props.disabled,O:this.O.bind(this),P:this.P.bind(this)})}onSetup(){h(this.N.bind(this)),h(this.Oc.bind(this))}O(){const{value:t}=this.$state;return Math.round(t())}P(){const{value:t,max:e}=this.$state;return W(t()/e()*100,2)+"%"}N(){const{value:t}=this.$props;this.$state.value.set(t())}Oc(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}}Dt.props={...et.props,min:0,max:100,value:0},Dt.state=Ot;class Sn extends T(HTMLElement,Dt){}Sn.tagName="media-slider";class Pn extends x{constructor(){super(...arguments),this.vh=kt(()=>{const{Ed:t,bb:e}=this.ia;if(t())return;const s=this.el,{offset:i,noClamp:n}=this.$props;s&&gc(s,{clamp:!n(),offset:i(),orientation:e()})})}onSetup(){this.ia=G(Ns);const{active:t}=Gt(Dt.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{nh:e}=this.ia;e.set(t),A(()=>e.set(null)),h(this.vh.bind(this));const s=new ResizeObserver(this.vh.bind(this));s.observe(t),A(()=>s.disconnect())}}Pn.props={offset:0,noClamp:!1};function gc(a,{clamp:t,offset:e,orientation:s}){const i=getComputedStyle(a),n=parseFloat(i.width),r=parseFloat(i.height),o={top:null,right:null,bottom:null,left:null};if(o[s==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${e}px))`,s==="horizontal"){const l=n/2;if(!t)o.left=`calc(var(--slider-pointer) - ${l}px)`;else{const c=`max(0px, calc(var(--slider-pointer) - ${l}px))`,d=`calc(100% - ${n}px)`;o.left=`min(${c}, ${d})`}}else{const l=r/2;if(!t)o.bottom=`calc(var(--slider-pointer) - ${l}px)`;else{const c=`max(${l}px, calc(var(--slider-pointer) - ${l}px))`,d=`calc(100% - ${r}px)`;o.bottom=`min(${c}, ${d})`}}Object.assign(a.style,o)}class Cn extends T(HTMLElement,Pn){}Cn.tagName="media-slider-preview";let bc=class extends x{};class Mn extends T(HTMLElement,bc){constructor(){super(...arguments),this.Ym=null}onConnect(t){pt(()=>{this.connectScope&&(this.Ym=t.querySelector("template"),this.Ym&&h(this.Zm.bind(this)))})}Zm(){if(!this.Ym)return;const{min:t,max:e,step:s}=Gt(Ot),i=(e()-t())/s();ss(this.Ym,Math.floor(i)+1)}}Mn.tagName="media-slider-steps";const bt=new Map,Re=new Map;class ti{constructor(t,e,s){this.$src=t,this.$crossOrigin=e,this.a=s,this.$images=v([]),h(this.kl.bind(this))}static create(t,e){const s=f();return new ti(t,e,s)}kl(){const{canLoad:t}=this.a.$state;if(!t())return;const e=this.$src();if(e){if(E(e)&&bt.has(e)){const s=bt.get(e);if(bt.delete(e),bt.set(e,s),bt.size>99){const i=bt.keys().next().value;bt.delete(i)}this.$images.set(bt.get(e))}else if(E(e)){const s=this.$crossOrigin(),i=e+"::"+s;if(!Re.has(i)){const n=new Promise(async(r,o)=>{try{const l=await fetch(e,{credentials:be(s)});if(l.headers.get("content-type")==="application/json"){const c=await l.json();if(V(c))if(c[0]&&"text"in c[0])r(this.ph(c));else{for(let d=0;d<c.length;d++){const g=c[d];ut(ur(g),!1),ut("url"in g&&E(g.url),!1),ut("startTime"in g&&ct(g.startTime),!1)}r(c)}else r(this.qh(c));return}import("https://cdn.jsdelivr.net/npm/media-captions@next/dist/prod.js").then(async({parseResponse:c})=>{try{const{cues:d}=await c(l);r(this.ph(d))}catch(d){o(d)}})}catch(l){o(l)}}).then(r=>(bt.set(i,r),r)).catch(r=>{this.Q(e,r)}).finally(()=>{E(i)&&Re.delete(i)});Re.set(i,n)}Re.get(i)?.then(n=>{this.$images.set(n||[])})}else if(V(e))try{this.$images.set(this.ll(e))}catch(s){this.Q(e,s)}else try{this.$images.set(this.qh(e))}catch(s){this.Q(e,s)}return()=>{this.$images.set([])}}}ll(t){const e=this.rh();return t.map((s,i)=>(ut(s.url&&E(s.url)),ut("startTime"in s&&ct(s.startTime)),{...s,url:E(s.url)?this.sh(s.url,e):s.url}))}qh(t){ut(E(t.url)),ut(V(t.tiles)&&t.tiles?.length);const e=new URL(t.url),s=[],i="tile_width"in t?t.tile_width:t.tileWidth,n="tile_height"in t?t.tile_height:t.tileHeight;for(const r of t.tiles)s.push({url:e,startTime:"start"in r?r.start:r.startTime,width:i,height:n,coords:{x:r.x,y:r.y}});return s}ph(t){for(let i=0;i<t.length;i++){const n=t[i];ut("startTime"in n&&ct(n.startTime)),ut("text"in n&&E(n.text))}const e=[],s=this.rh();for(const i of t){const[n,r]=i.text.split("#"),o=this.ml(r);e.push({url:this.sh(n,s),startTime:i.startTime,endTime:i.endTime,width:o?.w,height:o?.h,coords:o&&ct(o.x)&&ct(o.y)?{x:o.x,y:o.y}:void 0})}return e}rh(){let t=m(this.$src);return!E(t)||!/^https?:/.test(t)?location.href:t}sh(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}ml(t){if(!t)return{};const[e,s]=t.split("="),i=s?.split(","),n={};if(!e||!i)return null;for(let r=0;r<e.length;r++){const o=+i[r];isNaN(o)||(n[e[r]]=o)}return n}Q(t,e){}}class Ks extends x{constructor(){super(...arguments),this.jf=[]}onSetup(){this.a=f(),this.X=ti.create(this.$props.src,this.$state.crossOrigin),this.Ca(),this.setAttributes({"data-loading":this.Pc.bind(this),"data-error":this.fb.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":Q(this.$state.hidden)})}onConnect(t){h(this.kf.bind(this)),h(this.Ea.bind(this)),h(this.Ca.bind(this)),h(this.Ma.bind(this)),h(this.nl.bind(this)),h(this.th.bind(this))}kf(){const t=this.$state.img();t&&($(t,"load",this.tb.bind(this)),$(t,"error",this.Q.bind(this)))}Ca(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.a.$state,i=t()!==null?t():s();e.set(i===!0?"anonymous":i)}Ma(){const{src:t,loading:e,error:s}=this.$state;return t()&&(e.set(!0),s.set(null)),()=>{this.ol(),e.set(!1),s.set(null)}}tb(){const{loading:t,error:e}=this.$state;this.th(),t.set(!1),e.set(null)}Q(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}Pc(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}fb(){const{error:t}=this.$state;return!Mt(t())}Ea(){const{hidden:t}=this.$state,{duration:e}=this.a.$state,s=this.X.$images();t.set(this.fb()||!Number.isFinite(e())||s.length===0)}uh(){return this.$props.time()}nl(){let t=this.X.$images();if(!t.length)return;let e=this.uh(),{src:s,activeThumbnail:i}=this.$state,n=-1,r=null;for(let o=t.length-1;o>=0;o--){const l=t[o];if(e>=l.startTime&&(!l.endTime||e<l.endTime)){n=o;break}}t[n]&&(r=t[n]),i.set(r),s.set(r?.url.href||"")}th(){if(!this.scope||this.$state.hidden())return;const t=this.el,e=this.$state.img(),s=this.$state.activeThumbnail();if(!e||!s||!t)return;let i=s.width??e.naturalWidth,n=s?.height??e.naturalHeight,{maxWidth:r,maxHeight:o,minWidth:l,minHeight:c,width:d,height:g}=getComputedStyle(this.el);l==="100%"&&(l=parseFloat(d)+""),c==="100%"&&(c=parseFloat(g)+"");let k=Math.max(parseInt(l)/i,parseInt(c)/n),y=Math.min(Math.max(parseInt(l),parseInt(r))/i,Math.max(parseInt(c),parseInt(o))/n),S=!isNaN(y)&&y<1?y:k>1?k:1;this.Vb(t,"--thumbnail-width",`${i*S}px`),this.Vb(t,"--thumbnail-height",`${n*S}px`),this.Vb(e,"width",`${e.naturalWidth*S}px`),this.Vb(e,"height",`${e.naturalHeight*S}px`),this.Vb(e,"transform",s.coords?`translate(-${s.coords.x*S}px, -${s.coords.y*S}px)`:""),this.Vb(e,"max-width","none")}Vb(t,e,s){t.style.setProperty(e,s),this.jf.push(()=>t.style.removeProperty(e))}ol(){for(const t of this.jf)t();this.jf=[]}}Ks.props={src:null,time:0,crossOrigin:null},Ks.state=new vt({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});const fc=ki('<img loading="eager" decoding="async" aria-hidden="true">');class Fe extends T(HTMLElement,Ks){constructor(){super(...arguments),this.Wm=this.nn()}onSetup(){this.a=f(),this.$state.img.set(this.Wm)}onConnect(){const{src:t,crossOrigin:e}=this.$state;this.Wm.parentNode!==this&&this.prepend(this.Wm),h(()=>{b(this.Wm,"src",t()),b(this.Wm,"crossorigin",e())})}nn(){return wi(fc)}}Fe.tagName="media-thumbnail",Fe.attrs={crossOrigin:"crossorigin"};class En extends Fe{onSetup(){super.onSetup(),this.ia=Gt(Dt.state)}onConnect(){super.onConnect(),h(this.Yh.bind(this))}Yh(){const{duration:t,clipStartTime:e}=this.a.$state;this.time=e()+this.ia.pointerRate()*t()}}En.tagName="media-slider-thumbnail";var yc=Object.defineProperty,vc=Object.getOwnPropertyDescriptor,$c=(a,t,e,s)=>{for(var i=vc(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&yc(t,e,i),i};class Us extends x{onSetup(){this.ia=Gt(Dt.state),this.Qc=G(jt),this.sl=L(this.getValueText.bind(this))}getValueText(){const{type:t,format:e,decimalPlaces:s,padHours:i,padMinutes:n,showHours:r,showMs:o}=this.$props,{value:l,pointerValue:c,min:d,max:g}=this.ia,k=e?.()??this.Qc.default,y=t()==="current"?l():c();if(k==="percent"){const S=g()-d(),D=y/S*100;return(this.Qc.percent??W)(D,s())+"%"}else return k==="time"?(this.Qc.time??Oe)(y,{padHrs:i(),padMins:n(),showHrs:r(),showMs:o()}):(this.Qc.value?.(y)??y.toFixed(2))+""}}Us.props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2},$c([R],Us.prototype,"getValueText");class Xs extends T(HTMLElement,Us){onConnect(){h(()=>{this.textContent=this.getValueText()})}}Xs.tagName="media-slider-value",Xs.attrs={padMinutes:{converter:pr}};var kc=Object.defineProperty,wc=Object.getOwnPropertyDescriptor,Tc=(a,t,e,s)=>{for(var i=wc(t,e),n=a.length-1,r;n>=0;n--)(r=a[n])&&(i=r(t,e,i)||i);return i&&kc(t,e,i),i};class Ve extends x{get video(){return this.$state.video()}onSetup(){this.a=f(),this.ia=Gt(Dt.state),this.Ca(),this.setAttributes({"data-loading":this.Pc.bind(this),"data-hidden":this.$state.hidden,"data-error":this.fb.bind(this),"aria-hidden":Q(this.$state.hidden)})}onAttach(t){h(this.pl.bind(this)),h(this.Mb.bind(this)),h(this.Ca.bind(this)),h(this.Ea.bind(this)),h(this.ql.bind(this)),h(this.rl.bind(this))}pl(){const t=this.$state.video();t&&(t.readyState>=2&&this.ed(),$(t,"canplay",this.ed.bind(this)),$(t,"error",this.Q.bind(this)))}Mb(){const{src:t}=this.$state,{canLoad:e}=this.a.$state;t.set(e()?this.$props.src():null)}Ca(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:s}=this.a.$state,i=t()!==null?t():s();e.set(i===!0?"anonymous":i)}Pc(){const{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}fb(){const{error:t}=this.$state;return!Mt(t)}Ea(){const{src:t,hidden:e}=this.$state,{canLoad:s,duration:i}=this.a.$state;e.set(s()&&(!t()||this.fb()||!Number.isFinite(i())))}ql(){const{src:t,canPlay:e,error:s}=this.$state;t(),e.set(!1),s.set(null)}ed(t){const{canPlay:e,error:s}=this.$state;e.set(!0),s.set(null),this.dispatch("can-play",{trigger:t})}Q(t){const{canPlay:e,error:s}=this.$state;e.set(!1),s.set(t),this.dispatch("error",{trigger:t})}rl(){const{video:t,canPlay:e}=this.$state,{duration:s}=this.a.$state,{pointerRate:i}=this.ia,n=t();e()&&n&&Number.isFinite(s())&&Number.isFinite(i())&&(n.currentTime=i()*s())}}Ve.props={src:null,crossOrigin:null},Ve.state=new vt({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1}),Tc([M],Ve.prototype,"video");const xc=ki('<video muted playsinline preload="none" style="max-width: unset;"></video>');class An extends T(HTMLElement,Ve){constructor(){super(...arguments),this.m=this.an()}onSetup(){this.a=f(),this.$state.video.set(this.m)}onConnect(){const{canLoad:t}=this.a.$state,{src:e,crossOrigin:s}=this.$state;this.m.parentNode!==this&&this.prepend(this.m),h(()=>{b(this.m,"crossorigin",s()),b(this.m,"preload",t()?"auto":"none"),b(this.m,"src",e())})}an(){return wi(xc)}}An.tagName="media-slider-video";class Ys extends x{constructor(){super(...arguments),this.yh=Ct(this.ul.bind(this),25)}onSetup(){this.a=f(),new et({qa:this.$props.step,eb:this.$props.keyStep,Da:this.Da,v:this.v.bind(this),O:this.O.bind(this),P:this.P.bind(this),S:this.S.bind(this),l:this.l.bind(this)}).attach(this),h(this.Oc.bind(this)),h(this.Qe.bind(this))}onAttach(t){t.setAttribute("data-media-speed-slider",""),q(t,"aria-label","Speed");const{canSetPlaybackRate:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":Q(()=>!e())})}O(){const{value:t}=this.$state;return t()}P(){const{value:t}=this.$state;return t()+"x"}Oc(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}Qe(){const{playbackRate:t}=this.a.$state,e=t();this.$state.value.set(e),this.dispatch("value-change",{detail:e})}Da(t){return W(t,2)}v(){const{disabled:t}=this.$props,{canSetPlaybackRate:e}=this.a.$state;return t()||!e()}ul(t){if(!t.trigger)return;const e=t.detail;this.a.remote.changePlaybackRate(e,t)}l(t){this.yh(t)}S(t){this.yh(t)}}Ys.props={...et.props,step:.25,keyStep:.25,shiftKeyMultiplier:2,min:0,max:2},Ys.state=Ot;class Ln extends T(HTMLElement,Ys){}Ln.tagName="media-speed-slider";class _n extends T(HTMLElement,He){}_n.tagName="media-time-slider";class zs extends x{constructor(){super(...arguments),this.wh=Ct(this.Na.bind(this),25)}onSetup(){this.a=f();const{audioGain:t}=this.a.$state;J(jt,{default:"percent",value(e){return(e*(t()??1)).toFixed(2)},percent(e){return Math.round(e*(t()??1))}}),new et({qa:this.$props.step,eb:this.$props.keyStep,Da:Math.round,v:this.v.bind(this),hf:this.hf.bind(this),O:this.O.bind(this),P:this.P.bind(this),S:this.S.bind(this),l:this.l.bind(this)}).attach(this),h(this.Fc.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),q(t,"aria-label","Volume");const{canSetVolume:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":Q(()=>!e())})}O(){const{value:t}=this.$state,{audioGain:e}=this.a.$state;return Math.round(t()*(e()??1))}P(){const{value:t,max:e}=this.$state,{audioGain:s}=this.a.$state;return W(t()/e()*(s()??1)*100,2)+"%"}hf(){const{audioGain:t}=this.a.$state;return this.$state.max()*(t()??1)}v(){const{disabled:t}=this.$props,{canSetVolume:e}=this.a.$state;return t()||!e()}Fc(){const{muted:t,volume:e}=this.a.$state,s=t()?0:e()*100;this.$state.value.set(s),this.dispatch("value-change",{detail:s})}Na(t){if(!t.trigger)return;const e=W(t.detail/100,3);this.a.remote.changeVolume(e,t)}l(t){this.wh(t)}S(t){this.wh(t)}}zs.props={...et.props,keyStep:5,shiftKeyMultiplier:2},zs.state=Ot;class qn extends T(HTMLElement,zs){}qn.tagName="media-volume-slider";class On extends x{onConnect(t){pt(()=>{if(!this.connectScope)return;const e=t.querySelector("svg"),s=e.firstElementChild,i=s.nextElementSibling;h(this.Ha.bind(this,e,s,i))})}Ha(t,e,s){const{size:i,trackWidth:n,fillPercent:r}=this.$props;b(t,"width",i()),b(t,"height",i()),b(e,"stroke-width",n()),b(s,"stroke-width",n()),b(s,"stroke-dashoffset",100-r())}}On.props={size:96,trackWidth:8,fillPercent:50};class Dn extends T(we,On){render(){return u`
      <svg fill="none" viewBox="0 0 120 120" aria-hidden="true" data-part="root">
        <circle cx="60" cy="60" r="54" stroke="currentColor" data-part="track"></circle>
        <circle
          cx="60"
          cy="60"
          r="54"
          stroke="currentColor"
          pathLength="100"
          stroke-dasharray="100"
          data-part="track-fill"
        ></circle>
      </svg>
    `}}Dn.tagName="media-spinner";class Js extends x{constructor(){super(...arguments),this.Xc=v(null),this.Lc=v(!0),this.Mc=v(!0)}onSetup(){this.a=f(),this.Yh();const{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":this.Zh.bind(this)}),new kn({callback:this.gf.bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||h(this.Jm.bind(this)),h(this.Yh.bind(this))}onConnect(t){A($i(t,this.Lc.set)),h(this.Ea.bind(this)),h(this.Km.bind(this))}gf(t){this.Mc.set(t[0].isIntersecting)}Ea(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!this.Lc()||!this.Mc())}Km(){if(!this.$props.toggle()){this.Xc.set(null);return}this.el&&Tt(this.el,this.Lm.bind(this))}Yh(){const{hidden:t,timeText:e}=this.$state,{duration:s}=this.a.$state;if(t())return;const{type:i,padHours:n,padMinutes:r,showHours:o}=this.$props,l=this.Mm(i()),c=s(),d=this.Zh();if(!Number.isFinite(l+c)){e.set("LIVE");return}const g=d?Math.max(0,c-l):l,k=Oe(g,{padHrs:n(),padMins:r(),showHrs:o()});e.set((d?"-":"")+k)}Jm(){if(!this.el)return;const{toggle:t}=this.$props;b(this.el,"role",t()?"timer":null),b(this.el,"tabindex",t()?0:null)}Mm(t){const{bufferedEnd:e,duration:s,currentTime:i}=this.a.$state;switch(t){case"buffered":return e();case"duration":return s();default:return i()}}Zh(){return this.$props.remainder()&&this.Xc()!==!1}Lm(t){if(t.preventDefault(),this.Xc()===null){this.Xc.set(!this.$props.remainder());return}this.Xc.set(e=>!e)}}Js.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1},Js.state=new vt({timeText:"",hidden:!1});class In extends T(HTMLElement,Js){onConnect(){h(()=>{this.textContent=this.$state.timeText()})}}In.tagName="media-time";class Sc extends x{}class Nn extends T(HTMLElement,Sc){onSetup(){this.a=f()}onConnect(){h(this.td.bind(this))}td(){const{title:t}=this.a.$state;this.textContent=t()}}Nn.tagName="media-title";const Ft=lt();class Gn extends x{constructor(){super(),new rt;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){this.xb(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.xb(t);const e=G(Ft);A(()=>e.af(t)),A(pt(()=>{this.connectScope&&h(this.bf.bind(this))}))}xb(t){G(Ft).$e(t)}bf(){const{placement:t,offset:e,alignOffset:s}=this.$props;return vi(this.el,this.Qk(),t(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:e()})}Qk(){return G(Ft).M()}}Gn.props={placement:"top center",offset:0,alignOffset:0};class Hn extends T(HTMLElement,Gn){}Hn.tagName="media-tooltip-content";let Pc=0;class jn extends x{constructor(){super(),this.ya=`media-tooltip-${++Pc}`,this.M=v(null),this.q=v(null),new rt;const{showDelay:t}=this.$props;new hn({M:this.M,q:this.q,ih:t,yd(e,s,i){$(e,"touchstart",n=>n.preventDefault(),{passive:!1}),h(()=>{ye()&&$(e,"focus",s),$(e,"blur",i)}),$(e,"mouseenter",s),$(e,"mouseleave",i)},E:this.Pk.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onSetup(){J(Ft,{M:this.M,q:this.q,Ze:this.Ze.bind(this),_e:this._e.bind(this),$e:this.$e.bind(this),af:this.af.bind(this)})}Ze(t){this.M.set(t);let e=t.getAttribute("data-media-tooltip");e&&this.el?.setAttribute(`data-media-${e}-tooltip`,""),b(t,"data-describedby",this.ya)}_e(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.M.set(null)}$e(t){t.setAttribute("id",this.ya),t.style.display="none",q(t,"role","tooltip"),this.q.set(t)}af(t){t.removeAttribute("id"),t.removeAttribute("role"),this.q.set(null)}Pk(t){const e=this.M(),s=this.q();e&&b(e,"aria-describedby",t?this.ya:null);for(const i of[this.el,e,s])i&&b(i,"data-visible",t)}}jn.props={showDelay:700};class Rn extends T(HTMLElement,jn){}Rn.tagName="media-tooltip";class Cc extends x{constructor(){super(),new rt}onConnect(t){A(pt(()=>{if(!this.connectScope)return;this.xb();const e=G(Ft);A(()=>{const s=this.Bd();s&&e._e(s)})}))}xb(){const t=this.Bd(),e=G(Ft);t&&e.Ze(t)}Bd(){const t=this.el.firstElementChild;return t?.localName==="button"||t?.getAttribute("role")==="button"?t:this.el}}class Fn extends T(HTMLElement,Cc){onConnect(){this.style.display="contents"}}Fn.tagName="media-tooltip-trigger",w(sn),w(za),w(Ja),w(Vs),w(Ca),w(Rn),w(Fn),w(Hn),w(Va),w(Ha),w(La),w(qa),w(Ra),w(Wa),w(Ea),w(Da),w(Qa),w(Sn),w(wn),w(qn),w(_n),w(Ln),w(Tn),w(xn),w(Mn),w(Cn),w(Xs),w(En),w(An),w(cn),w(ln),w(Gs),w(mn),w(dn),w(nn),w(rn),w(vn),w(an),w(gn),w(on),w(yn),w(bn),w(tn),w(Fe),w(Ka),w(Na),w(In),w(Nn),w(Xa),w(Dn);
