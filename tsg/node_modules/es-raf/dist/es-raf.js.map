{"version":3,"file":"es-raf.js","sources":["../node_modules/es-now/lib/index.mjs","../src/index.coffee"],"sourcesContent":["var browser = (function() {\n  var loadTime, now;\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    now = function() {\n      return performance.now();\n    };\n  } else {\n    now = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n  return now;\n})();\n\nexport default browser;\n","import now from 'es-now'\n\nframeDuration = 1000 / 60\nid            = 0\nlast          = 0\nqueue         = []\n\nexport raf = requestAnimationFrame = (callback) ->\n  if queue.length == 0\n    now_ = now()\n    next = Math.max(0, frameDuration - (now_ - last))\n    last = next + now_\n\n    setTimeout ->\n      cp = queue.slice(0)\n\n      # Clear queue here to prevent callbacks from appending listeners to the\n      # current frame's queue\n      queue.length = 0\n\n      for x in cp\n        unless x.cancelled\n          try\n            x.callback last\n          catch err\n            setTimeout ->\n              throw err\n            , 0\n      return\n    , Math.round next\n  queue.push\n    handle:    ++id\n    callback:  callback\n    cancelled: false\n  id\n\nexport caf = cancelAnimationFrame = (handle) ->\n  for x in queue\n    if x.handle == handle\n      x.cancelled = true\n  return\n"],"names":["now"],"mappings":";;;;AAAA,IAAI,OAAO,GAAG,CAAC,WAAW;EACxB,IAAI,QAAQ,EAAE,GAAG,CAAC;EAClB,IAAI,CAAC,OAAO,WAAW,KAAK,WAAW,IAAI,WAAW,KAAK,IAAI,KAAK,WAAW,CAAC,GAAG,EAAE;IACnF,GAAG,GAAG,WAAW;MACf,OAAO,WAAW,CAAC,GAAG,EAAE,CAAC;KAC1B,CAAC;GACH,MAAM;IACL,GAAG,GAAG,WAAW;MACf,OAAO,IAAI,CAAC,GAAG,EAAE,GAAG,QAAQ,CAAC;KAC9B,CAAC;IACF,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;GACjC;EACD,OAAO,GAAG,CAAC;CACZ,GAAG,CAAC,AAEL,AAAuB;;ACfvB,IAAA;;;;;;;AAAA,AAEA,aAAA,GAAgB,IAAA,GAAO;;AACvB,EAAA,GAAgB;;AAChB,IAAA,GAAgB;;AAChB,KAAA,GAAgB;;AAEhB,AAAA,IAAO,GAAP,GAAa,qBAAA,GAAwB,SAAC,QAAD;MACnC;EAAA,IAAG,KAAK,CAAC,MAAN,KAAgB,CAAnB;IACE,IAAA,GAAOA,OAAA;IACP,IAAA,GAAO,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,aAAA,IAAiB,IAAA,GAAO,IAAR,CAA5B;IACP,IAAA,GAAO,IAAA,GAAO;IAEd,UAAA,CAAW;UACT;MAAA,EAAA,GAAK,KAAK,CAAC,KAAN,CAAY,CAAZ;MAIL,KAAK,CAAC,MAAN,GAAe;WAEf,oCAAA;;QACE,IAAA,CAAO,CAAC,CAAC,SAAT;;YAEI,CAAC,CAAC,QAAF,CAAW,IAAX,EADF;WAAA,aAAA;YAEM;YACJ,UAAA,CAAW;oBACH;aADR,EAEE,CAFF,EAHF;WADF;;;KARJ,EAgBE,IAAI,CAAC,KAAL,CAAW,IAAX,CAhBF,EALF;;EAsBA,KAAK,CAAC,IAAN,CACE;IAAA,MAAA,EAAW,EAAE,EAAb;IACA,QAAA,EAAW,QADX;IAEA,SAAA,EAAW,KAFX;GADF;SAIA;;;AAEF,AAAA,IAAO,GAAP,GAAa,oBAAA,GAAuB,SAAC,MAAD;MAClC;OAAA,uCAAA;;IACE,IAAG,CAAC,CAAC,MAAF,KAAY,MAAf;MACE,CAAC,CAAC,SAAF,GAAc,KADhB;;;;;;"}